(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const f of r)if(f.type==="childList")for(const m of f.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function l(r){const f={};return r.integrity&&(f.integrity=r.integrity),r.referrerPolicy&&(f.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?f.credentials="include":r.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function o(r){if(r.ep)return;r.ep=!0;const f=l(r);fetch(r.href,f)}})();function Au(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var au={exports:{}},ll={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm;function o0(){if(Rm)return ll;Rm=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function l(o,r,f){var m=null;if(f!==void 0&&(m=""+f),r.key!==void 0&&(m=""+r.key),"key"in r){f={};for(var g in r)g!=="key"&&(f[g]=r[g])}else f=r;return r=f.ref,{$$typeof:i,type:o,key:m,ref:r!==void 0?r:null,props:f}}return ll.Fragment=n,ll.jsx=l,ll.jsxs=l,ll}var wm;function s0(){return wm||(wm=1,au.exports=o0()),au.exports}var v=s0(),lu={exports:{}},ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var km;function r0(){if(km)return ge;km=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),m=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),T=Symbol.iterator;function C(N){return N===null||typeof N!="object"?null:(N=T&&N[T]||N["@@iterator"],typeof N=="function"?N:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,Z={};function Q(N,U,D){this.props=N,this.context=U,this.refs=Z,this.updater=D||L}Q.prototype.isReactComponent={},Q.prototype.setState=function(N,U){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,U,"setState")},Q.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function j(){}j.prototype=Q.prototype;function O(N,U,D){this.props=N,this.context=U,this.refs=Z,this.updater=D||L}var G=O.prototype=new j;G.constructor=O,H(G,Q.prototype),G.isPureReactComponent=!0;var z=Array.isArray;function K(){}var P={H:null,A:null,T:null,S:null},ae=Object.prototype.hasOwnProperty;function W(N,U,D){var Y=D.ref;return{$$typeof:i,type:N,key:U,ref:Y!==void 0?Y:null,props:D}}function ne(N,U){return W(N.type,U,N.props)}function fe(N){return typeof N=="object"&&N!==null&&N.$$typeof===i}function re(N){var U={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(D){return U[D]})}var Ce=/\/+/g;function ue(N,U){return typeof N=="object"&&N!==null&&N.key!=null?re(""+N.key):U.toString(36)}function ze(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(K,K):(N.status="pending",N.then(function(U){N.status==="pending"&&(N.status="fulfilled",N.value=U)},function(U){N.status==="pending"&&(N.status="rejected",N.reason=U)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function I(N,U,D,Y,ee){var te=typeof N;(te==="undefined"||te==="boolean")&&(N=null);var ce=!1;if(N===null)ce=!0;else switch(te){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(N.$$typeof){case i:case n:ce=!0;break;case A:return ce=N._init,I(ce(N._payload),U,D,Y,ee)}}if(ce)return ee=ee(N),ce=Y===""?"."+ue(N,0):Y,z(ee)?(D="",ce!=null&&(D=ce.replace(Ce,"$&/")+"/"),I(ee,U,D,"",function(wt){return wt})):ee!=null&&(fe(ee)&&(ee=ne(ee,D+(ee.key==null||N&&N.key===ee.key?"":(""+ee.key).replace(Ce,"$&/")+"/")+ce)),U.push(ee)),1;ce=0;var xe=Y===""?".":Y+":";if(z(N))for(var ke=0;ke<N.length;ke++)Y=N[ke],te=xe+ue(Y,ke),ce+=I(Y,U,D,te,ee);else if(ke=C(N),typeof ke=="function")for(N=ke.call(N),ke=0;!(Y=N.next()).done;)Y=Y.value,te=xe+ue(Y,ke++),ce+=I(Y,U,D,te,ee);else if(te==="object"){if(typeof N.then=="function")return I(ze(N),U,D,Y,ee);throw U=String(N),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return ce}function $(N,U,D){if(N==null)return N;var Y=[],ee=0;return I(N,Y,"","",function(te){return U.call(D,te,ee++)}),Y}function X(N){if(N._status===-1){var U=N._result;U=U(),U.then(function(D){(N._status===0||N._status===-1)&&(N._status=1,N._result=D)},function(D){(N._status===0||N._status===-1)&&(N._status=2,N._result=D)}),N._status===-1&&(N._status=0,N._result=U)}if(N._status===1)return N._result.default;throw N._result}var pe=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},he={map:$,forEach:function(N,U,D){$(N,function(){U.apply(this,arguments)},D)},count:function(N){var U=0;return $(N,function(){U++}),U},toArray:function(N){return $(N,function(U){return U})||[]},only:function(N){if(!fe(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return ge.Activity=_,ge.Children=he,ge.Component=Q,ge.Fragment=l,ge.Profiler=r,ge.PureComponent=O,ge.StrictMode=o,ge.Suspense=y,ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,ge.__COMPILER_RUNTIME={__proto__:null,c:function(N){return P.H.useMemoCache(N)}},ge.cache=function(N){return function(){return N.apply(null,arguments)}},ge.cacheSignal=function(){return null},ge.cloneElement=function(N,U,D){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var Y=H({},N.props),ee=N.key;if(U!=null)for(te in U.key!==void 0&&(ee=""+U.key),U)!ae.call(U,te)||te==="key"||te==="__self"||te==="__source"||te==="ref"&&U.ref===void 0||(Y[te]=U[te]);var te=arguments.length-2;if(te===1)Y.children=D;else if(1<te){for(var ce=Array(te),xe=0;xe<te;xe++)ce[xe]=arguments[xe+2];Y.children=ce}return W(N.type,ee,Y)},ge.createContext=function(N){return N={$$typeof:m,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:f,_context:N},N},ge.createElement=function(N,U,D){var Y,ee={},te=null;if(U!=null)for(Y in U.key!==void 0&&(te=""+U.key),U)ae.call(U,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(ee[Y]=U[Y]);var ce=arguments.length-2;if(ce===1)ee.children=D;else if(1<ce){for(var xe=Array(ce),ke=0;ke<ce;ke++)xe[ke]=arguments[ke+2];ee.children=xe}if(N&&N.defaultProps)for(Y in ce=N.defaultProps,ce)ee[Y]===void 0&&(ee[Y]=ce[Y]);return W(N,te,ee)},ge.createRef=function(){return{current:null}},ge.forwardRef=function(N){return{$$typeof:g,render:N}},ge.isValidElement=fe,ge.lazy=function(N){return{$$typeof:A,_payload:{_status:-1,_result:N},_init:X}},ge.memo=function(N,U){return{$$typeof:h,type:N,compare:U===void 0?null:U}},ge.startTransition=function(N){var U=P.T,D={};P.T=D;try{var Y=N(),ee=P.S;ee!==null&&ee(D,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(K,pe)}catch(te){pe(te)}finally{U!==null&&D.types!==null&&(U.types=D.types),P.T=U}},ge.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},ge.use=function(N){return P.H.use(N)},ge.useActionState=function(N,U,D){return P.H.useActionState(N,U,D)},ge.useCallback=function(N,U){return P.H.useCallback(N,U)},ge.useContext=function(N){return P.H.useContext(N)},ge.useDebugValue=function(){},ge.useDeferredValue=function(N,U){return P.H.useDeferredValue(N,U)},ge.useEffect=function(N,U){return P.H.useEffect(N,U)},ge.useEffectEvent=function(N){return P.H.useEffectEvent(N)},ge.useId=function(){return P.H.useId()},ge.useImperativeHandle=function(N,U,D){return P.H.useImperativeHandle(N,U,D)},ge.useInsertionEffect=function(N,U){return P.H.useInsertionEffect(N,U)},ge.useLayoutEffect=function(N,U){return P.H.useLayoutEffect(N,U)},ge.useMemo=function(N,U){return P.H.useMemo(N,U)},ge.useOptimistic=function(N,U){return P.H.useOptimistic(N,U)},ge.useReducer=function(N,U,D){return P.H.useReducer(N,U,D)},ge.useRef=function(N){return P.H.useRef(N)},ge.useState=function(N){return P.H.useState(N)},ge.useSyncExternalStore=function(N,U,D){return P.H.useSyncExternalStore(N,U,D)},ge.useTransition=function(){return P.H.useTransition()},ge.version="19.2.0",ge}var Im;function Su(){return Im||(Im=1,lu.exports=r0()),lu.exports}var V=Su();const u0=Au(V);var ou={exports:{}},ol={},su={exports:{}},ru={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dm;function c0(){return Dm||(Dm=1,(function(i){function n(I,$){var X=I.length;I.push($);e:for(;0<X;){var pe=X-1>>>1,he=I[pe];if(0<r(he,$))I[pe]=$,I[X]=he,X=pe;else break e}}function l(I){return I.length===0?null:I[0]}function o(I){if(I.length===0)return null;var $=I[0],X=I.pop();if(X!==$){I[0]=X;e:for(var pe=0,he=I.length,N=he>>>1;pe<N;){var U=2*(pe+1)-1,D=I[U],Y=U+1,ee=I[Y];if(0>r(D,X))Y<he&&0>r(ee,D)?(I[pe]=ee,I[Y]=X,pe=Y):(I[pe]=D,I[U]=X,pe=U);else if(Y<he&&0>r(ee,X))I[pe]=ee,I[Y]=X,pe=Y;else break e}}return $}function r(I,$){var X=I.sortIndex-$.sortIndex;return X!==0?X:I.id-$.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;i.unstable_now=function(){return f.now()}}else{var m=Date,g=m.now();i.unstable_now=function(){return m.now()-g}}var y=[],h=[],A=1,_=null,T=3,C=!1,L=!1,H=!1,Z=!1,Q=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function G(I){for(var $=l(h);$!==null;){if($.callback===null)o(h);else if($.startTime<=I)o(h),$.sortIndex=$.expirationTime,n(y,$);else break;$=l(h)}}function z(I){if(H=!1,G(I),!L)if(l(y)!==null)L=!0,K||(K=!0,re());else{var $=l(h);$!==null&&ze(z,$.startTime-I)}}var K=!1,P=-1,ae=5,W=-1;function ne(){return Z?!0:!(i.unstable_now()-W<ae)}function fe(){if(Z=!1,K){var I=i.unstable_now();W=I;var $=!0;try{e:{L=!1,H&&(H=!1,j(P),P=-1),C=!0;var X=T;try{t:{for(G(I),_=l(y);_!==null&&!(_.expirationTime>I&&ne());){var pe=_.callback;if(typeof pe=="function"){_.callback=null,T=_.priorityLevel;var he=pe(_.expirationTime<=I);if(I=i.unstable_now(),typeof he=="function"){_.callback=he,G(I),$=!0;break t}_===l(y)&&o(y),G(I)}else o(y);_=l(y)}if(_!==null)$=!0;else{var N=l(h);N!==null&&ze(z,N.startTime-I),$=!1}}break e}finally{_=null,T=X,C=!1}$=void 0}}finally{$?re():K=!1}}}var re;if(typeof O=="function")re=function(){O(fe)};else if(typeof MessageChannel<"u"){var Ce=new MessageChannel,ue=Ce.port2;Ce.port1.onmessage=fe,re=function(){ue.postMessage(null)}}else re=function(){Q(fe,0)};function ze(I,$){P=Q(function(){I(i.unstable_now())},$)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(I){I.callback=null},i.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<I?Math.floor(1e3/I):5},i.unstable_getCurrentPriorityLevel=function(){return T},i.unstable_next=function(I){switch(T){case 1:case 2:case 3:var $=3;break;default:$=T}var X=T;T=$;try{return I()}finally{T=X}},i.unstable_requestPaint=function(){Z=!0},i.unstable_runWithPriority=function(I,$){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var X=T;T=I;try{return $()}finally{T=X}},i.unstable_scheduleCallback=function(I,$,X){var pe=i.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?pe+X:pe):X=pe,I){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=X+he,I={id:A++,callback:$,priorityLevel:I,startTime:X,expirationTime:he,sortIndex:-1},X>pe?(I.sortIndex=X,n(h,I),l(y)===null&&I===l(h)&&(H?(j(P),P=-1):H=!0,ze(z,X-pe))):(I.sortIndex=he,n(y,I),L||C||(L=!0,K||(K=!0,re()))),I},i.unstable_shouldYield=ne,i.unstable_wrapCallback=function(I){var $=T;return function(){var X=T;T=$;try{return I.apply(this,arguments)}finally{T=X}}}})(ru)),ru}var Um;function d0(){return Um||(Um=1,su.exports=c0()),su.exports}var uu={exports:{}},ct={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bm;function f0(){if(Bm)return ct;Bm=1;var i=Su();function n(y){var h="https://react.dev/errors/"+y;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)h+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var o={d:{f:l,r:function(){throw Error(n(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},r=Symbol.for("react.portal");function f(y,h,A){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:_==null?null:""+_,children:y,containerInfo:h,implementation:A}}var m=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,h){if(y==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return ct.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,ct.createPortal=function(y,h){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(n(299));return f(y,h,null,A)},ct.flushSync=function(y){var h=m.T,A=o.p;try{if(m.T=null,o.p=2,y)return y()}finally{m.T=h,o.p=A,o.d.f()}},ct.preconnect=function(y,h){typeof y=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,o.d.C(y,h))},ct.prefetchDNS=function(y){typeof y=="string"&&o.d.D(y)},ct.preinit=function(y,h){if(typeof y=="string"&&h&&typeof h.as=="string"){var A=h.as,_=g(A,h.crossOrigin),T=typeof h.integrity=="string"?h.integrity:void 0,C=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;A==="style"?o.d.S(y,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:_,integrity:T,fetchPriority:C}):A==="script"&&o.d.X(y,{crossOrigin:_,integrity:T,fetchPriority:C,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},ct.preinitModule=function(y,h){if(typeof y=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var A=g(h.as,h.crossOrigin);o.d.M(y,{crossOrigin:A,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&o.d.M(y)},ct.preload=function(y,h){if(typeof y=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var A=h.as,_=g(A,h.crossOrigin);o.d.L(y,A,{crossOrigin:_,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},ct.preloadModule=function(y,h){if(typeof y=="string")if(h){var A=g(h.as,h.crossOrigin);o.d.m(y,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:A,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else o.d.m(y)},ct.requestFormReset=function(y){o.d.r(y)},ct.unstable_batchedUpdates=function(y,h){return y(h)},ct.useFormState=function(y,h,A){return m.H.useFormState(y,h,A)},ct.useFormStatus=function(){return m.H.useHostTransitionStatus()},ct.version="19.2.0",ct}var Lm;function hh(){if(Lm)return uu.exports;Lm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),uu.exports=f0(),uu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gm;function m0(){if(Gm)return ol;Gm=1;var i=d0(),n=Su(),l=hh();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(f(e)!==e)throw Error(o(188))}function h(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(o(188));return t!==e?null:e}for(var a=e,s=t;;){var d=a.return;if(d===null)break;var p=d.alternate;if(p===null){if(s=d.return,s!==null){a=s;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===a)return y(d),e;if(p===s)return y(d),t;p=p.sibling}throw Error(o(188))}if(a.return!==s.return)a=d,s=p;else{for(var S=!1,E=d.child;E;){if(E===a){S=!0,a=d,s=p;break}if(E===s){S=!0,s=d,a=p;break}E=E.sibling}if(!S){for(E=p.child;E;){if(E===a){S=!0,a=p,s=d;break}if(E===s){S=!0,s=p,a=d;break}E=E.sibling}if(!S)throw Error(o(189))}}if(a.alternate!==s)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?e:t}function A(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=A(e),t!==null)return t;e=e.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),O=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),ne=Symbol.for("react.memo_cache_sentinel"),fe=Symbol.iterator;function re(e){return e===null||typeof e!="object"?null:(e=fe&&e[fe]||e["@@iterator"],typeof e=="function"?e:null)}var Ce=Symbol.for("react.client.reference");function ue(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ce?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case H:return"Fragment";case Q:return"Profiler";case Z:return"StrictMode";case z:return"Suspense";case K:return"SuspenseList";case W:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case L:return"Portal";case O:return e.displayName||"Context";case j:return(e._context.displayName||"Context")+".Consumer";case G:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case P:return t=e.displayName||null,t!==null?t:ue(e.type)||"Memo";case ae:t=e._payload,e=e._init;try{return ue(e(t))}catch{}}return null}var ze=Array.isArray,I=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},pe=[],he=-1;function N(e){return{current:e}}function U(e){0>he||(e.current=pe[he],pe[he]=null,he--)}function D(e,t){he++,pe[he]=e.current,e.current=t}var Y=N(null),ee=N(null),te=N(null),ce=N(null);function xe(e,t){switch(D(te,t),D(ee,e),D(Y,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?$f(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=$f(t),e=Wf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(Y),D(Y,e)}function ke(){U(Y),U(ee),U(te)}function wt(e){e.memoizedState!==null&&D(ce,e);var t=Y.current,a=Wf(t,e.type);t!==a&&(D(ee,e),D(Y,a))}function Tt(e){ee.current===e&&(U(Y),U(ee)),ce.current===e&&(U(ce),tl._currentValue=X)}var jt,gi;function en(e){if(jt===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);jt=t&&t[1]||"",gi=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jt+e+gi}var ua=!1;function ca(e,t){if(!e||ua)return"";ua=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(B){var k=B}Reflect.construct(e,[],J)}else{try{J.call()}catch(B){k=B}e.call(J.prototype)}}else{try{throw Error()}catch(B){k=B}(J=e())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(B){if(B&&k&&typeof B.stack=="string")return[B.stack,k.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=s.DetermineComponentFrameRoot(),S=p[0],E=p[1];if(S&&E){var x=S.split(`
`),w=E.split(`
`);for(d=s=0;s<x.length&&!x[s].includes("DetermineComponentFrameRoot");)s++;for(;d<w.length&&!w[d].includes("DetermineComponentFrameRoot");)d++;if(s===x.length||d===w.length)for(s=x.length-1,d=w.length-1;1<=s&&0<=d&&x[s]!==w[d];)d--;for(;1<=s&&0<=d;s--,d--)if(x[s]!==w[d]){if(s!==1||d!==1)do if(s--,d--,0>d||x[s]!==w[d]){var q=`
`+x[s].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=s&&0<=d);break}}}finally{ua=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?en(a):""}function Vo(e,t){switch(e.tag){case 26:case 27:case 5:return en(e.type);case 16:return en("Lazy");case 13:return e.child!==t&&t!==null?en("Suspense Fallback"):en("Suspense");case 19:return en("SuspenseList");case 0:case 15:return ca(e.type,!1);case 11:return ca(e.type.render,!1);case 1:return ca(e.type,!0);case 31:return en("Activity");default:return""}}function cl(e){try{var t="",a=null;do t+=Vo(e,a),a=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var da=Object.prototype.hasOwnProperty,fa=i.unstable_scheduleCallback,ma=i.unstable_cancelCallback,zo=i.unstable_shouldYield,Fo=i.unstable_requestPaint,ft=i.unstable_now,Oo=i.unstable_getCurrentPriorityLevel,le=i.unstable_ImmediatePriority,Ne=i.unstable_UserBlockingPriority,Pe=i.unstable_NormalPriority,st=i.unstable_LowPriority,$e=i.unstable_IdlePriority,zt=i.log,En=i.unstable_setDisableYieldValue,yi=null,rt=null;function Ft(e){if(typeof zt=="function"&&En(e),rt&&typeof rt.setStrictMode=="function")try{rt.setStrictMode(yi,e)}catch{}}var ut=Math.clz32?Math.clz32:Yh,Jo=Math.log,Jh=Math.LN2;function Yh(e){return e>>>=0,e===0?32:31-(Jo(e)/Jh|0)|0}var dl=256,fl=262144,ml=4194304;function Zn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function pl(e,t,a){var s=e.pendingLanes;if(s===0)return 0;var d=0,p=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var E=s&134217727;return E!==0?(s=E&~p,s!==0?d=Zn(s):(S&=E,S!==0?d=Zn(S):a||(a=E&~e,a!==0&&(d=Zn(a))))):(E=s&~p,E!==0?d=Zn(E):S!==0?d=Zn(S):a||(a=s&~e,a!==0&&(d=Zn(a)))),d===0?0:t!==0&&t!==d&&(t&p)===0&&(p=d&-d,a=t&-t,p>=a||p===32&&(a&4194048)!==0)?t:d}function pa(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Kh(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Iu(){var e=ml;return ml<<=1,(ml&62914560)===0&&(ml=4194304),e}function Yo(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function ha(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function jh(e,t,a,s,d,p){var S=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,x=e.expirationTimes,w=e.hiddenUpdates;for(a=S&~a;0<a;){var q=31-ut(a),J=1<<q;E[q]=0,x[q]=-1;var k=w[q];if(k!==null)for(w[q]=null,q=0;q<k.length;q++){var B=k[q];B!==null&&(B.lane&=-536870913)}a&=~J}s!==0&&Du(e,s,0),p!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=p&~(S&~t))}function Du(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-ut(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|a&261930}function Uu(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-ut(a),d=1<<s;d&t|e[s]&t&&(e[s]|=t),a&=~d}}function Bu(e,t){var a=t&-t;return a=(a&42)!==0?1:Ko(a),(a&(e.suspendedLanes|t))!==0?0:a}function Ko(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function jo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Lu(){var e=$.p;return e!==0?e:(e=window.event,e===void 0?32:Tm(e.type))}function Gu(e,t){var a=$.p;try{return $.p=e,t()}finally{$.p=a}}var Cn=Math.random().toString(36).slice(2),nt="__reactFiber$"+Cn,pt="__reactProps$"+Cn,vi="__reactContainer$"+Cn,Qo="__reactEvents$"+Cn,Qh="__reactListeners$"+Cn,Xh="__reactHandles$"+Cn,Pu="__reactResources$"+Cn,ga="__reactMarker$"+Cn;function Xo(e){delete e[nt],delete e[pt],delete e[Qo],delete e[Qh],delete e[Xh]}function Ai(e){var t=e[nt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[vi]||a[nt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=om(e);e!==null;){if(a=e[nt])return a;e=om(e)}return t}e=a,a=e.parentNode}return null}function Si(e){if(e=e[nt]||e[vi]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ya(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function _i(e){var t=e[Pu];return t||(t=e[Pu]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[ga]=!0}var Hu=new Set,qu={};function $n(e,t){Ti(e,t),Ti(e+"Capture",t)}function Ti(e,t){for(qu[e]=t,e=0;e<t.length;e++)Hu.add(t[e])}var Zh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vu={},zu={};function $h(e){return da.call(zu,e)?!0:da.call(Vu,e)?!1:Zh.test(e)?zu[e]=!0:(Vu[e]=!0,!1)}function hl(e,t,a){if($h(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function gl(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function tn(e,t,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+s)}}function kt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Fu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Wh(e,t,a){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,p=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return d.call(this)},set:function(S){a=""+S,p.call(this,S)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(S){a=""+S},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Zo(e){if(!e._valueTracker){var t=Fu(e)?"checked":"value";e._valueTracker=Wh(e,t,""+e[t])}}function Ou(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=Fu(e)?e.checked?"true":"false":e.value),e=s,e!==a?(t.setValue(e),!0):!1}function yl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var eg=/[\n"\\]/g;function It(e){return e.replace(eg,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function $o(e,t,a,s,d,p,S,E){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),t!=null?S==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+kt(t)):e.value!==""+kt(t)&&(e.value=""+kt(t)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),t!=null?Wo(e,S,kt(t)):a!=null?Wo(e,S,kt(a)):s!=null&&e.removeAttribute("value"),d==null&&p!=null&&(e.defaultChecked=!!p),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+kt(E):e.removeAttribute("name")}function Ju(e,t,a,s,d,p,S,E){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.type=p),t!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||t!=null)){Zo(e);return}a=a!=null?""+kt(a):"",t=t!=null?""+kt(t):a,E||t===e.value||(e.value=t),e.defaultValue=t}s=s??d,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=E?e.checked:!!s,e.defaultChecked=!!s,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S),Zo(e)}function Wo(e,t,a){t==="number"&&yl(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ei(e,t,a,s){if(e=e.options,t){t={};for(var d=0;d<a.length;d++)t["$"+a[d]]=!0;for(a=0;a<e.length;a++)d=t.hasOwnProperty("$"+e[a].value),e[a].selected!==d&&(e[a].selected=d),d&&s&&(e[a].defaultSelected=!0)}else{for(a=""+kt(a),t=null,d=0;d<e.length;d++){if(e[d].value===a){e[d].selected=!0,s&&(e[d].defaultSelected=!0);return}t!==null||e[d].disabled||(t=e[d])}t!==null&&(t.selected=!0)}}function Yu(e,t,a){if(t!=null&&(t=""+kt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+kt(a):""}function Ku(e,t,a,s){if(t==null){if(s!=null){if(a!=null)throw Error(o(92));if(ze(s)){if(1<s.length)throw Error(o(93));s=s[0]}a=s}a==null&&(a=""),t=a}a=kt(t),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s),Zo(e)}function Ci(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var tg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ju(e,t,a){var s=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,a):typeof a!="number"||a===0||tg.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Qu(e,t,a){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var d in t)s=t[d],t.hasOwnProperty(d)&&a[d]!==s&&ju(e,d,s)}else for(var p in t)t.hasOwnProperty(p)&&ju(e,p,t[p])}function es(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ng=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ig=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vl(e){return ig.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function nn(){}var ts=null;function ns(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xi=null,Ni=null;function Xu(e){var t=Si(e);if(t&&(e=t.stateNode)){var a=e[pt]||null;e:switch(e=t.stateNode,t.type){case"input":if($o(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+It(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var d=s[pt]||null;if(!d)throw Error(o(90));$o(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(t=0;t<a.length;t++)s=a[t],s.form===e.form&&Ou(s)}break e;case"textarea":Yu(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Ei(e,!!a.multiple,t,!1)}}}var is=!1;function Zu(e,t,a){if(is)return e(t,a);is=!0;try{var s=e(t);return s}finally{if(is=!1,(xi!==null||Ni!==null)&&(lo(),xi&&(t=xi,e=Ni,Ni=xi=null,Xu(t),e)))for(t=0;t<e.length;t++)Xu(e[t])}}function va(e,t){var a=e.stateNode;if(a===null)return null;var s=a[pt]||null;if(s===null)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(o(231,t,typeof a));return a}var an=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),as=!1;if(an)try{var Aa={};Object.defineProperty(Aa,"passive",{get:function(){as=!0}}),window.addEventListener("test",Aa,Aa),window.removeEventListener("test",Aa,Aa)}catch{as=!1}var xn=null,ls=null,Al=null;function $u(){if(Al)return Al;var e,t=ls,a=t.length,s,d="value"in xn?xn.value:xn.textContent,p=d.length;for(e=0;e<a&&t[e]===d[e];e++);var S=a-e;for(s=1;s<=S&&t[a-s]===d[p-s];s++);return Al=d.slice(e,1<s?1-s:void 0)}function Sl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _l(){return!0}function Wu(){return!1}function ht(e){function t(a,s,d,p,S){this._reactName=a,this._targetInst=d,this.type=s,this.nativeEvent=p,this.target=S,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(p):p[E]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?_l:Wu,this.isPropagationStopped=Wu,this}return _(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=_l)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=_l)},persist:function(){},isPersistent:_l}),t}var Wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tl=ht(Wn),Sa=_({},Wn,{view:0,detail:0}),ag=ht(Sa),os,ss,_a,El=_({},Sa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:us,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_a&&(_a&&e.type==="mousemove"?(os=e.screenX-_a.screenX,ss=e.screenY-_a.screenY):ss=os=0,_a=e),os)},movementY:function(e){return"movementY"in e?e.movementY:ss}}),ec=ht(El),lg=_({},El,{dataTransfer:0}),og=ht(lg),sg=_({},Sa,{relatedTarget:0}),rs=ht(sg),rg=_({},Wn,{animationName:0,elapsedTime:0,pseudoElement:0}),ug=ht(rg),cg=_({},Wn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),dg=ht(cg),fg=_({},Wn,{data:0}),tc=ht(fg),mg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=hg[e])?!!t[e]:!1}function us(){return gg}var yg=_({},Sa,{key:function(e){if(e.key){var t=mg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Sl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:us,charCode:function(e){return e.type==="keypress"?Sl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Sl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vg=ht(yg),Ag=_({},El,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nc=ht(Ag),Sg=_({},Sa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:us}),_g=ht(Sg),Tg=_({},Wn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Eg=ht(Tg),Cg=_({},El,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xg=ht(Cg),Ng=_({},Wn,{newState:0,oldState:0}),bg=ht(Ng),Mg=[9,13,27,32],cs=an&&"CompositionEvent"in window,Ta=null;an&&"documentMode"in document&&(Ta=document.documentMode);var Rg=an&&"TextEvent"in window&&!Ta,ic=an&&(!cs||Ta&&8<Ta&&11>=Ta),ac=" ",lc=!1;function oc(e,t){switch(e){case"keyup":return Mg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var bi=!1;function wg(e,t){switch(e){case"compositionend":return sc(t);case"keypress":return t.which!==32?null:(lc=!0,ac);case"textInput":return e=t.data,e===ac&&lc?null:e;default:return null}}function kg(e,t){if(bi)return e==="compositionend"||!cs&&oc(e,t)?(e=$u(),Al=ls=xn=null,bi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ic&&t.locale!=="ko"?null:t.data;default:return null}}var Ig={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ig[e.type]:t==="textarea"}function uc(e,t,a,s){xi?Ni?Ni.push(s):Ni=[s]:xi=s,t=mo(t,"onChange"),0<t.length&&(a=new Tl("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var Ea=null,Ca=null;function Dg(e){Yf(e,0)}function Cl(e){var t=ya(e);if(Ou(t))return e}function cc(e,t){if(e==="change")return t}var dc=!1;if(an){var ds;if(an){var fs="oninput"in document;if(!fs){var fc=document.createElement("div");fc.setAttribute("oninput","return;"),fs=typeof fc.oninput=="function"}ds=fs}else ds=!1;dc=ds&&(!document.documentMode||9<document.documentMode)}function mc(){Ea&&(Ea.detachEvent("onpropertychange",pc),Ca=Ea=null)}function pc(e){if(e.propertyName==="value"&&Cl(Ca)){var t=[];uc(t,Ca,e,ns(e)),Zu(Dg,t)}}function Ug(e,t,a){e==="focusin"?(mc(),Ea=t,Ca=a,Ea.attachEvent("onpropertychange",pc)):e==="focusout"&&mc()}function Bg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Cl(Ca)}function Lg(e,t){if(e==="click")return Cl(t)}function Gg(e,t){if(e==="input"||e==="change")return Cl(t)}function Pg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Et=typeof Object.is=="function"?Object.is:Pg;function xa(e,t){if(Et(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var d=a[s];if(!da.call(t,d)||!Et(e[d],t[d]))return!1}return!0}function hc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gc(e,t){var a=hc(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=hc(a)}}function yc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?yc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function vc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=yl(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=yl(e.document)}return t}function ms(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Hg=an&&"documentMode"in document&&11>=document.documentMode,Mi=null,ps=null,Na=null,hs=!1;function Ac(e,t,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;hs||Mi==null||Mi!==yl(s)||(s=Mi,"selectionStart"in s&&ms(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Na&&xa(Na,s)||(Na=s,s=mo(ps,"onSelect"),0<s.length&&(t=new Tl("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=Mi)))}function ei(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Ri={animationend:ei("Animation","AnimationEnd"),animationiteration:ei("Animation","AnimationIteration"),animationstart:ei("Animation","AnimationStart"),transitionrun:ei("Transition","TransitionRun"),transitionstart:ei("Transition","TransitionStart"),transitioncancel:ei("Transition","TransitionCancel"),transitionend:ei("Transition","TransitionEnd")},gs={},Sc={};an&&(Sc=document.createElement("div").style,"AnimationEvent"in window||(delete Ri.animationend.animation,delete Ri.animationiteration.animation,delete Ri.animationstart.animation),"TransitionEvent"in window||delete Ri.transitionend.transition);function ti(e){if(gs[e])return gs[e];if(!Ri[e])return e;var t=Ri[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Sc)return gs[e]=t[a];return e}var _c=ti("animationend"),Tc=ti("animationiteration"),Ec=ti("animationstart"),qg=ti("transitionrun"),Vg=ti("transitionstart"),zg=ti("transitioncancel"),Cc=ti("transitionend"),xc=new Map,ys="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ys.push("scrollEnd");function Ot(e,t){xc.set(e,t),$n(t,[e])}var xl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Dt=[],wi=0,vs=0;function Nl(){for(var e=wi,t=vs=wi=0;t<e;){var a=Dt[t];Dt[t++]=null;var s=Dt[t];Dt[t++]=null;var d=Dt[t];Dt[t++]=null;var p=Dt[t];if(Dt[t++]=null,s!==null&&d!==null){var S=s.pending;S===null?d.next=d:(d.next=S.next,S.next=d),s.pending=d}p!==0&&Nc(a,d,p)}}function bl(e,t,a,s){Dt[wi++]=e,Dt[wi++]=t,Dt[wi++]=a,Dt[wi++]=s,vs|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function As(e,t,a,s){return bl(e,t,a,s),Ml(e)}function ni(e,t){return bl(e,null,null,t),Ml(e)}function Nc(e,t,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var d=!1,p=e.return;p!==null;)p.childLanes|=a,s=p.alternate,s!==null&&(s.childLanes|=a),p.tag===22&&(e=p.stateNode,e===null||e._visibility&1||(d=!0)),e=p,p=p.return;return e.tag===3?(p=e.stateNode,d&&t!==null&&(d=31-ut(a),e=p.hiddenUpdates,s=e[d],s===null?e[d]=[t]:s.push(t),t.lane=a|536870912),p):null}function Ml(e){if(50<ja)throw ja=0,Mr=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ki={};function Fg(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(e,t,a,s){return new Fg(e,t,a,s)}function Ss(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ln(e,t){var a=e.alternate;return a===null?(a=Ct(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function bc(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Rl(e,t,a,s,d,p){var S=0;if(s=e,typeof e=="function")Ss(e)&&(S=1);else if(typeof e=="string")S=jy(e,a,Y.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case W:return e=Ct(31,a,t,d),e.elementType=W,e.lanes=p,e;case H:return ii(a.children,d,p,t);case Z:S=8,d|=24;break;case Q:return e=Ct(12,a,t,d|2),e.elementType=Q,e.lanes=p,e;case z:return e=Ct(13,a,t,d),e.elementType=z,e.lanes=p,e;case K:return e=Ct(19,a,t,d),e.elementType=K,e.lanes=p,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case O:S=10;break e;case j:S=9;break e;case G:S=11;break e;case P:S=14;break e;case ae:S=16,s=null;break e}S=29,a=Error(o(130,e===null?"null":typeof e,"")),s=null}return t=Ct(S,a,t,d),t.elementType=e,t.type=s,t.lanes=p,t}function ii(e,t,a,s){return e=Ct(7,e,s,t),e.lanes=a,e}function _s(e,t,a){return e=Ct(6,e,null,t),e.lanes=a,e}function Mc(e){var t=Ct(18,null,null,0);return t.stateNode=e,t}function Ts(e,t,a){return t=Ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Rc=new WeakMap;function Ut(e,t){if(typeof e=="object"&&e!==null){var a=Rc.get(e);return a!==void 0?a:(t={value:e,source:t,stack:cl(t)},Rc.set(e,t),t)}return{value:e,source:t,stack:cl(t)}}var Ii=[],Di=0,wl=null,ba=0,Bt=[],Lt=0,Nn=null,Qt=1,Xt="";function on(e,t){Ii[Di++]=ba,Ii[Di++]=wl,wl=e,ba=t}function wc(e,t,a){Bt[Lt++]=Qt,Bt[Lt++]=Xt,Bt[Lt++]=Nn,Nn=e;var s=Qt;e=Xt;var d=32-ut(s)-1;s&=~(1<<d),a+=1;var p=32-ut(t)+d;if(30<p){var S=d-d%5;p=(s&(1<<S)-1).toString(32),s>>=S,d-=S,Qt=1<<32-ut(t)+d|a<<d|s,Xt=p+e}else Qt=1<<p|a<<d|s,Xt=e}function Es(e){e.return!==null&&(on(e,1),wc(e,1,0))}function Cs(e){for(;e===wl;)wl=Ii[--Di],Ii[Di]=null,ba=Ii[--Di],Ii[Di]=null;for(;e===Nn;)Nn=Bt[--Lt],Bt[Lt]=null,Xt=Bt[--Lt],Bt[Lt]=null,Qt=Bt[--Lt],Bt[Lt]=null}function kc(e,t){Bt[Lt++]=Qt,Bt[Lt++]=Xt,Bt[Lt++]=Nn,Qt=t.id,Xt=t.overflow,Nn=e}var it=null,He=null,Ee=!1,bn=null,Gt=!1,xs=Error(o(519));function Mn(e){var t=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ma(Ut(t,e)),xs}function Ic(e){var t=e.stateNode,a=e.type,s=e.memoizedProps;switch(t[nt]=e,t[pt]=s,a){case"dialog":Se("cancel",t),Se("close",t);break;case"iframe":case"object":case"embed":Se("load",t);break;case"video":case"audio":for(a=0;a<Xa.length;a++)Se(Xa[a],t);break;case"source":Se("error",t);break;case"img":case"image":case"link":Se("error",t),Se("load",t);break;case"details":Se("toggle",t);break;case"input":Se("invalid",t),Ju(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Se("invalid",t);break;case"textarea":Se("invalid",t),Ku(t,s.value,s.defaultValue,s.children)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||s.suppressHydrationWarning===!0||Xf(t.textContent,a)?(s.popover!=null&&(Se("beforetoggle",t),Se("toggle",t)),s.onScroll!=null&&Se("scroll",t),s.onScrollEnd!=null&&Se("scrollend",t),s.onClick!=null&&(t.onclick=nn),t=!0):t=!1,t||Mn(e,!0)}function Dc(e){for(it=e.return;it;)switch(it.tag){case 5:case 31:case 13:Gt=!1;return;case 27:case 3:Gt=!0;return;default:it=it.return}}function Ui(e){if(e!==it)return!1;if(!Ee)return Dc(e),Ee=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Fr(e.type,e.memoizedProps)),a=!a),a&&He&&Mn(e),Dc(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));He=lm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));He=lm(e)}else t===27?(t=He,zn(e.type)?(e=jr,jr=null,He=e):He=t):He=it?Ht(e.stateNode.nextSibling):null;return!0}function ai(){He=it=null,Ee=!1}function Ns(){var e=bn;return e!==null&&(At===null?At=e:At.push.apply(At,e),bn=null),e}function Ma(e){bn===null?bn=[e]:bn.push(e)}var bs=N(null),li=null,sn=null;function Rn(e,t,a){D(bs,t._currentValue),t._currentValue=a}function rn(e){e._currentValue=bs.current,U(bs)}function Ms(e,t,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function Rs(e,t,a,s){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var p=d.dependencies;if(p!==null){var S=d.child;p=p.firstContext;e:for(;p!==null;){var E=p;p=d;for(var x=0;x<t.length;x++)if(E.context===t[x]){p.lanes|=a,E=p.alternate,E!==null&&(E.lanes|=a),Ms(p.return,a,e),s||(S=null);break e}p=E.next}}else if(d.tag===18){if(S=d.return,S===null)throw Error(o(341));S.lanes|=a,p=S.alternate,p!==null&&(p.lanes|=a),Ms(S,a,e),S=null}else S=d.child;if(S!==null)S.return=d;else for(S=d;S!==null;){if(S===e){S=null;break}if(d=S.sibling,d!==null){d.return=S.return,S=d;break}S=S.return}d=S}}function Bi(e,t,a,s){e=null;for(var d=t,p=!1;d!==null;){if(!p){if((d.flags&524288)!==0)p=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var S=d.alternate;if(S===null)throw Error(o(387));if(S=S.memoizedProps,S!==null){var E=d.type;Et(d.pendingProps.value,S.value)||(e!==null?e.push(E):e=[E])}}else if(d===ce.current){if(S=d.alternate,S===null)throw Error(o(387));S.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(tl):e=[tl])}d=d.return}e!==null&&Rs(t,e,a,s),t.flags|=262144}function kl(e){for(e=e.firstContext;e!==null;){if(!Et(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function oi(e){li=e,sn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function at(e){return Uc(li,e)}function Il(e,t){return li===null&&oi(e),Uc(e,t)}function Uc(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},sn===null){if(e===null)throw Error(o(308));sn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else sn=sn.next=t;return a}var Og=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Jg=i.unstable_scheduleCallback,Yg=i.unstable_NormalPriority,je={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ws(){return{controller:new Og,data:new Map,refCount:0}}function Ra(e){e.refCount--,e.refCount===0&&Jg(Yg,function(){e.controller.abort()})}var wa=null,ks=0,Li=0,Gi=null;function Kg(e,t){if(wa===null){var a=wa=[];ks=0,Li=Ur(),Gi={status:"pending",value:void 0,then:function(s){a.push(s)}}}return ks++,t.then(Bc,Bc),t}function Bc(){if(--ks===0&&wa!==null){Gi!==null&&(Gi.status="fulfilled");var e=wa;wa=null,Li=0,Gi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function jg(e,t){var a=[],s={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var d=0;d<a.length;d++)(0,a[d])(t)},function(d){for(s.status="rejected",s.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),s}var Lc=I.S;I.S=function(e,t){Sf=ft(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Kg(e,t),Lc!==null&&Lc(e,t)};var si=N(null);function Is(){var e=si.current;return e!==null?e:Ge.pooledCache}function Dl(e,t){t===null?D(si,si.current):D(si,t.pool)}function Gc(){var e=Is();return e===null?null:{parent:je._currentValue,pool:e}}var Pi=Error(o(460)),Ds=Error(o(474)),Ul=Error(o(542)),Bl={then:function(){}};function Pc(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Hc(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(nn,nn),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Vc(e),e;default:if(typeof t.status=="string")t.then(nn,nn);else{if(e=Ge,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var d=t;d.status="fulfilled",d.value=s}},function(s){if(t.status==="pending"){var d=t;d.status="rejected",d.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Vc(e),e}throw ui=t,Pi}}function ri(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ui=a,Pi):a}}var ui=null;function qc(){if(ui===null)throw Error(o(459));var e=ui;return ui=null,e}function Vc(e){if(e===Pi||e===Ul)throw Error(o(483))}var Hi=null,ka=0;function Ll(e){var t=ka;return ka+=1,Hi===null&&(Hi=[]),Hc(Hi,e,t)}function Ia(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Gl(e,t){throw t.$$typeof===T?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function zc(e){function t(M,b){if(e){var R=M.deletions;R===null?(M.deletions=[b],M.flags|=16):R.push(b)}}function a(M,b){if(!e)return null;for(;b!==null;)t(M,b),b=b.sibling;return null}function s(M){for(var b=new Map;M!==null;)M.key!==null?b.set(M.key,M):b.set(M.index,M),M=M.sibling;return b}function d(M,b){return M=ln(M,b),M.index=0,M.sibling=null,M}function p(M,b,R){return M.index=R,e?(R=M.alternate,R!==null?(R=R.index,R<b?(M.flags|=67108866,b):R):(M.flags|=67108866,b)):(M.flags|=1048576,b)}function S(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function E(M,b,R,F){return b===null||b.tag!==6?(b=_s(R,M.mode,F),b.return=M,b):(b=d(b,R),b.return=M,b)}function x(M,b,R,F){var de=R.type;return de===H?q(M,b,R.props.children,F,R.key):b!==null&&(b.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===ae&&ri(de)===b.type)?(b=d(b,R.props),Ia(b,R),b.return=M,b):(b=Rl(R.type,R.key,R.props,null,M.mode,F),Ia(b,R),b.return=M,b)}function w(M,b,R,F){return b===null||b.tag!==4||b.stateNode.containerInfo!==R.containerInfo||b.stateNode.implementation!==R.implementation?(b=Ts(R,M.mode,F),b.return=M,b):(b=d(b,R.children||[]),b.return=M,b)}function q(M,b,R,F,de){return b===null||b.tag!==7?(b=ii(R,M.mode,F,de),b.return=M,b):(b=d(b,R),b.return=M,b)}function J(M,b,R){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return b=_s(""+b,M.mode,R),b.return=M,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case C:return R=Rl(b.type,b.key,b.props,null,M.mode,R),Ia(R,b),R.return=M,R;case L:return b=Ts(b,M.mode,R),b.return=M,b;case ae:return b=ri(b),J(M,b,R)}if(ze(b)||re(b))return b=ii(b,M.mode,R,null),b.return=M,b;if(typeof b.then=="function")return J(M,Ll(b),R);if(b.$$typeof===O)return J(M,Il(M,b),R);Gl(M,b)}return null}function k(M,b,R,F){var de=b!==null?b.key:null;if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return de!==null?null:E(M,b,""+R,F);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case C:return R.key===de?x(M,b,R,F):null;case L:return R.key===de?w(M,b,R,F):null;case ae:return R=ri(R),k(M,b,R,F)}if(ze(R)||re(R))return de!==null?null:q(M,b,R,F,null);if(typeof R.then=="function")return k(M,b,Ll(R),F);if(R.$$typeof===O)return k(M,b,Il(M,R),F);Gl(M,R)}return null}function B(M,b,R,F,de){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return M=M.get(R)||null,E(b,M,""+F,de);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case C:return M=M.get(F.key===null?R:F.key)||null,x(b,M,F,de);case L:return M=M.get(F.key===null?R:F.key)||null,w(b,M,F,de);case ae:return F=ri(F),B(M,b,R,F,de)}if(ze(F)||re(F))return M=M.get(R)||null,q(b,M,F,de,null);if(typeof F.then=="function")return B(M,b,R,Ll(F),de);if(F.$$typeof===O)return B(M,b,R,Il(b,F),de);Gl(b,F)}return null}function oe(M,b,R,F){for(var de=null,be=null,se=b,ve=b=0,Te=null;se!==null&&ve<R.length;ve++){se.index>ve?(Te=se,se=null):Te=se.sibling;var Me=k(M,se,R[ve],F);if(Me===null){se===null&&(se=Te);break}e&&se&&Me.alternate===null&&t(M,se),b=p(Me,b,ve),be===null?de=Me:be.sibling=Me,be=Me,se=Te}if(ve===R.length)return a(M,se),Ee&&on(M,ve),de;if(se===null){for(;ve<R.length;ve++)se=J(M,R[ve],F),se!==null&&(b=p(se,b,ve),be===null?de=se:be.sibling=se,be=se);return Ee&&on(M,ve),de}for(se=s(se);ve<R.length;ve++)Te=B(se,M,ve,R[ve],F),Te!==null&&(e&&Te.alternate!==null&&se.delete(Te.key===null?ve:Te.key),b=p(Te,b,ve),be===null?de=Te:be.sibling=Te,be=Te);return e&&se.forEach(function(Kn){return t(M,Kn)}),Ee&&on(M,ve),de}function me(M,b,R,F){if(R==null)throw Error(o(151));for(var de=null,be=null,se=b,ve=b=0,Te=null,Me=R.next();se!==null&&!Me.done;ve++,Me=R.next()){se.index>ve?(Te=se,se=null):Te=se.sibling;var Kn=k(M,se,Me.value,F);if(Kn===null){se===null&&(se=Te);break}e&&se&&Kn.alternate===null&&t(M,se),b=p(Kn,b,ve),be===null?de=Kn:be.sibling=Kn,be=Kn,se=Te}if(Me.done)return a(M,se),Ee&&on(M,ve),de;if(se===null){for(;!Me.done;ve++,Me=R.next())Me=J(M,Me.value,F),Me!==null&&(b=p(Me,b,ve),be===null?de=Me:be.sibling=Me,be=Me);return Ee&&on(M,ve),de}for(se=s(se);!Me.done;ve++,Me=R.next())Me=B(se,M,ve,Me.value,F),Me!==null&&(e&&Me.alternate!==null&&se.delete(Me.key===null?ve:Me.key),b=p(Me,b,ve),be===null?de=Me:be.sibling=Me,be=Me);return e&&se.forEach(function(l0){return t(M,l0)}),Ee&&on(M,ve),de}function Le(M,b,R,F){if(typeof R=="object"&&R!==null&&R.type===H&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case C:e:{for(var de=R.key;b!==null;){if(b.key===de){if(de=R.type,de===H){if(b.tag===7){a(M,b.sibling),F=d(b,R.props.children),F.return=M,M=F;break e}}else if(b.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===ae&&ri(de)===b.type){a(M,b.sibling),F=d(b,R.props),Ia(F,R),F.return=M,M=F;break e}a(M,b);break}else t(M,b);b=b.sibling}R.type===H?(F=ii(R.props.children,M.mode,F,R.key),F.return=M,M=F):(F=Rl(R.type,R.key,R.props,null,M.mode,F),Ia(F,R),F.return=M,M=F)}return S(M);case L:e:{for(de=R.key;b!==null;){if(b.key===de)if(b.tag===4&&b.stateNode.containerInfo===R.containerInfo&&b.stateNode.implementation===R.implementation){a(M,b.sibling),F=d(b,R.children||[]),F.return=M,M=F;break e}else{a(M,b);break}else t(M,b);b=b.sibling}F=Ts(R,M.mode,F),F.return=M,M=F}return S(M);case ae:return R=ri(R),Le(M,b,R,F)}if(ze(R))return oe(M,b,R,F);if(re(R)){if(de=re(R),typeof de!="function")throw Error(o(150));return R=de.call(R),me(M,b,R,F)}if(typeof R.then=="function")return Le(M,b,Ll(R),F);if(R.$$typeof===O)return Le(M,b,Il(M,R),F);Gl(M,R)}return typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint"?(R=""+R,b!==null&&b.tag===6?(a(M,b.sibling),F=d(b,R),F.return=M,M=F):(a(M,b),F=_s(R,M.mode,F),F.return=M,M=F),S(M)):a(M,b)}return function(M,b,R,F){try{ka=0;var de=Le(M,b,R,F);return Hi=null,de}catch(se){if(se===Pi||se===Ul)throw se;var be=Ct(29,se,null,M.mode);return be.lanes=F,be.return=M,be}finally{}}}var ci=zc(!0),Fc=zc(!1),wn=!1;function Us(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function kn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function In(e,t,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(we&2)!==0){var d=s.pending;return d===null?t.next=t:(t.next=d.next,d.next=t),s.pending=t,t=Ml(e),Nc(e,null,a),t}return bl(e,s,t,a),Ml(e)}function Da(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,Uu(e,a)}}function Ls(e,t){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var d=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var S={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?d=p=S:p=p.next=S,a=a.next}while(a!==null);p===null?d=p=t:p=p.next=t}else d=p=t;a={baseState:s.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Gs=!1;function Ua(){if(Gs){var e=Gi;if(e!==null)throw e}}function Ba(e,t,a,s){Gs=!1;var d=e.updateQueue;wn=!1;var p=d.firstBaseUpdate,S=d.lastBaseUpdate,E=d.shared.pending;if(E!==null){d.shared.pending=null;var x=E,w=x.next;x.next=null,S===null?p=w:S.next=w,S=x;var q=e.alternate;q!==null&&(q=q.updateQueue,E=q.lastBaseUpdate,E!==S&&(E===null?q.firstBaseUpdate=w:E.next=w,q.lastBaseUpdate=x))}if(p!==null){var J=d.baseState;S=0,q=w=x=null,E=p;do{var k=E.lane&-536870913,B=k!==E.lane;if(B?(_e&k)===k:(s&k)===k){k!==0&&k===Li&&(Gs=!0),q!==null&&(q=q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var oe=e,me=E;k=t;var Le=a;switch(me.tag){case 1:if(oe=me.payload,typeof oe=="function"){J=oe.call(Le,J,k);break e}J=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=me.payload,k=typeof oe=="function"?oe.call(Le,J,k):oe,k==null)break e;J=_({},J,k);break e;case 2:wn=!0}}k=E.callback,k!==null&&(e.flags|=64,B&&(e.flags|=8192),B=d.callbacks,B===null?d.callbacks=[k]:B.push(k))}else B={lane:k,tag:E.tag,payload:E.payload,callback:E.callback,next:null},q===null?(w=q=B,x=J):q=q.next=B,S|=k;if(E=E.next,E===null){if(E=d.shared.pending,E===null)break;B=E,E=B.next,B.next=null,d.lastBaseUpdate=B,d.shared.pending=null}}while(!0);q===null&&(x=J),d.baseState=x,d.firstBaseUpdate=w,d.lastBaseUpdate=q,p===null&&(d.shared.lanes=0),Gn|=S,e.lanes=S,e.memoizedState=J}}function Oc(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function Jc(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Oc(a[e],t)}var qi=N(null),Pl=N(0);function Yc(e,t){e=yn,D(Pl,e),D(qi,t),yn=e|t.baseLanes}function Ps(){D(Pl,yn),D(qi,qi.current)}function Hs(){yn=Pl.current,U(qi),U(Pl)}var xt=N(null),Pt=null;function Dn(e){var t=e.alternate;D(Ye,Ye.current&1),D(xt,e),Pt===null&&(t===null||qi.current!==null||t.memoizedState!==null)&&(Pt=e)}function qs(e){D(Ye,Ye.current),D(xt,e),Pt===null&&(Pt=e)}function Kc(e){e.tag===22?(D(Ye,Ye.current),D(xt,e),Pt===null&&(Pt=e)):Un()}function Un(){D(Ye,Ye.current),D(xt,xt.current)}function Nt(e){U(xt),Pt===e&&(Pt=null),U(Ye)}var Ye=N(0);function Hl(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Yr(a)||Kr(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var un=0,ye=null,Ue=null,Qe=null,ql=!1,Vi=!1,di=!1,Vl=0,La=0,zi=null,Qg=0;function Oe(){throw Error(o(321))}function Vs(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Et(e[a],t[a]))return!1;return!0}function zs(e,t,a,s,d,p){return un=p,ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,I.H=e===null||e.memoizedState===null?wd:ir,di=!1,p=a(s,d),di=!1,Vi&&(p=Qc(t,a,s,d)),jc(e),p}function jc(e){I.H=Ha;var t=Ue!==null&&Ue.next!==null;if(un=0,Qe=Ue=ye=null,ql=!1,La=0,zi=null,t)throw Error(o(300));e===null||Xe||(e=e.dependencies,e!==null&&kl(e)&&(Xe=!0))}function Qc(e,t,a,s){ye=e;var d=0;do{if(Vi&&(zi=null),La=0,Vi=!1,25<=d)throw Error(o(301));if(d+=1,Qe=Ue=null,e.updateQueue!=null){var p=e.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}I.H=kd,p=t(a,s)}while(Vi);return p}function Xg(){var e=I.H,t=e.useState()[0];return t=typeof t.then=="function"?Ga(t):t,e=e.useState()[0],(Ue!==null?Ue.memoizedState:null)!==e&&(ye.flags|=1024),t}function Fs(){var e=Vl!==0;return Vl=0,e}function Os(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Js(e){if(ql){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ql=!1}un=0,Qe=Ue=ye=null,Vi=!1,La=Vl=0,zi=null}function mt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?ye.memoizedState=Qe=e:Qe=Qe.next=e,Qe}function Ke(){if(Ue===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var t=Qe===null?ye.memoizedState:Qe.next;if(t!==null)Qe=t,Ue=e;else{if(e===null)throw ye.alternate===null?Error(o(467)):Error(o(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},Qe===null?ye.memoizedState=Qe=e:Qe=Qe.next=e}return Qe}function zl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ga(e){var t=La;return La+=1,zi===null&&(zi=[]),e=Hc(zi,e,t),t=ye,(Qe===null?t.memoizedState:Qe.next)===null&&(t=t.alternate,I.H=t===null||t.memoizedState===null?wd:ir),e}function Fl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ga(e);if(e.$$typeof===O)return at(e)}throw Error(o(438,String(e)))}function Ys(e){var t=null,a=ye.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var s=ye.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(d){return d.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=zl(),ye.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),s=0;s<e;s++)a[s]=ne;return t.index++,a}function cn(e,t){return typeof t=="function"?t(e):t}function Ol(e){var t=Ke();return Ks(t,Ue,e)}function Ks(e,t,a){var s=e.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=a;var d=e.baseQueue,p=s.pending;if(p!==null){if(d!==null){var S=d.next;d.next=p.next,p.next=S}t.baseQueue=d=p,s.pending=null}if(p=e.baseState,d===null)e.memoizedState=p;else{t=d.next;var E=S=null,x=null,w=t,q=!1;do{var J=w.lane&-536870913;if(J!==w.lane?(_e&J)===J:(un&J)===J){var k=w.revertLane;if(k===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),J===Li&&(q=!0);else if((un&k)===k){w=w.next,k===Li&&(q=!0);continue}else J={lane:0,revertLane:w.revertLane,gesture:null,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null},x===null?(E=x=J,S=p):x=x.next=J,ye.lanes|=k,Gn|=k;J=w.action,di&&a(p,J),p=w.hasEagerState?w.eagerState:a(p,J)}else k={lane:J,revertLane:w.revertLane,gesture:w.gesture,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null},x===null?(E=x=k,S=p):x=x.next=k,ye.lanes|=J,Gn|=J;w=w.next}while(w!==null&&w!==t);if(x===null?S=p:x.next=E,!Et(p,e.memoizedState)&&(Xe=!0,q&&(a=Gi,a!==null)))throw a;e.memoizedState=p,e.baseState=S,e.baseQueue=x,s.lastRenderedState=p}return d===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function js(e){var t=Ke(),a=t.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=e;var s=a.dispatch,d=a.pending,p=t.memoizedState;if(d!==null){a.pending=null;var S=d=d.next;do p=e(p,S.action),S=S.next;while(S!==d);Et(p,t.memoizedState)||(Xe=!0),t.memoizedState=p,t.baseQueue===null&&(t.baseState=p),a.lastRenderedState=p}return[p,s]}function Xc(e,t,a){var s=ye,d=Ke(),p=Ee;if(p){if(a===void 0)throw Error(o(407));a=a()}else a=t();var S=!Et((Ue||d).memoizedState,a);if(S&&(d.memoizedState=a,Xe=!0),d=d.queue,Zs(Wc.bind(null,s,d,e),[e]),d.getSnapshot!==t||S||Qe!==null&&Qe.memoizedState.tag&1){if(s.flags|=2048,Fi(9,{destroy:void 0},$c.bind(null,s,d,a,t),null),Ge===null)throw Error(o(349));p||(un&127)!==0||Zc(s,t,a)}return a}function Zc(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=ye.updateQueue,t===null?(t=zl(),ye.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function $c(e,t,a,s){t.value=a,t.getSnapshot=s,ed(t)&&td(e)}function Wc(e,t,a){return a(function(){ed(t)&&td(e)})}function ed(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Et(e,a)}catch{return!0}}function td(e){var t=ni(e,2);t!==null&&St(t,e,2)}function Qs(e){var t=mt();if(typeof e=="function"){var a=e;if(e=a(),di){Ft(!0);try{a()}finally{Ft(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cn,lastRenderedState:e},t}function nd(e,t,a,s){return e.baseState=a,Ks(e,Ue,typeof s=="function"?s:cn)}function Zg(e,t,a,s,d){if(Kl(e))throw Error(o(485));if(e=t.action,e!==null){var p={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){p.listeners.push(S)}};I.T!==null?a(!0):p.isTransition=!1,s(p),a=t.pending,a===null?(p.next=t.pending=p,id(t,p)):(p.next=a.next,t.pending=a.next=p)}}function id(e,t){var a=t.action,s=t.payload,d=e.state;if(t.isTransition){var p=I.T,S={};I.T=S;try{var E=a(d,s),x=I.S;x!==null&&x(S,E),ad(e,t,E)}catch(w){Xs(e,t,w)}finally{p!==null&&S.types!==null&&(p.types=S.types),I.T=p}}else try{p=a(d,s),ad(e,t,p)}catch(w){Xs(e,t,w)}}function ad(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){ld(e,t,s)},function(s){return Xs(e,t,s)}):ld(e,t,a)}function ld(e,t,a){t.status="fulfilled",t.value=a,od(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,id(e,a)))}function Xs(e,t,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=a,od(t),t=t.next;while(t!==s)}e.action=null}function od(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function sd(e,t){return t}function rd(e,t){if(Ee){var a=Ge.formState;if(a!==null){e:{var s=ye;if(Ee){if(He){t:{for(var d=He,p=Gt;d.nodeType!==8;){if(!p){d=null;break t}if(d=Ht(d.nextSibling),d===null){d=null;break t}}p=d.data,d=p==="F!"||p==="F"?d:null}if(d){He=Ht(d.nextSibling),s=d.data==="F!";break e}}Mn(s)}s=!1}s&&(t=a[0])}}return a=mt(),a.memoizedState=a.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sd,lastRenderedState:t},a.queue=s,a=bd.bind(null,ye,s),s.dispatch=a,s=Qs(!1),p=nr.bind(null,ye,!1,s.queue),s=mt(),d={state:t,dispatch:null,action:e,pending:null},s.queue=d,a=Zg.bind(null,ye,d,p,a),d.dispatch=a,s.memoizedState=e,[t,a,!1]}function ud(e){var t=Ke();return cd(t,Ue,e)}function cd(e,t,a){if(t=Ks(e,t,sd)[0],e=Ol(cn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Ga(t)}catch(S){throw S===Pi?Ul:S}else s=t;t=Ke();var d=t.queue,p=d.dispatch;return a!==t.memoizedState&&(ye.flags|=2048,Fi(9,{destroy:void 0},$g.bind(null,d,a),null)),[s,p,e]}function $g(e,t){e.action=t}function dd(e){var t=Ke(),a=Ue;if(a!==null)return cd(t,a,e);Ke(),t=t.memoizedState,a=Ke();var s=a.queue.dispatch;return a.memoizedState=e,[t,s,!1]}function Fi(e,t,a,s){return e={tag:e,create:a,deps:s,inst:t,next:null},t=ye.updateQueue,t===null&&(t=zl(),ye.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e),e}function fd(){return Ke().memoizedState}function Jl(e,t,a,s){var d=mt();ye.flags|=e,d.memoizedState=Fi(1|t,{destroy:void 0},a,s===void 0?null:s)}function Yl(e,t,a,s){var d=Ke();s=s===void 0?null:s;var p=d.memoizedState.inst;Ue!==null&&s!==null&&Vs(s,Ue.memoizedState.deps)?d.memoizedState=Fi(t,p,a,s):(ye.flags|=e,d.memoizedState=Fi(1|t,p,a,s))}function md(e,t){Jl(8390656,8,e,t)}function Zs(e,t){Yl(2048,8,e,t)}function Wg(e){ye.flags|=4;var t=ye.updateQueue;if(t===null)t=zl(),ye.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function pd(e){var t=Ke().memoizedState;return Wg({ref:t,nextImpl:e}),function(){if((we&2)!==0)throw Error(o(440));return t.impl.apply(void 0,arguments)}}function hd(e,t){return Yl(4,2,e,t)}function gd(e,t){return Yl(4,4,e,t)}function yd(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function vd(e,t,a){a=a!=null?a.concat([e]):null,Yl(4,4,yd.bind(null,t,e),a)}function $s(){}function Ad(e,t){var a=Ke();t=t===void 0?null:t;var s=a.memoizedState;return t!==null&&Vs(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function Sd(e,t){var a=Ke();t=t===void 0?null:t;var s=a.memoizedState;if(t!==null&&Vs(t,s[1]))return s[0];if(s=e(),di){Ft(!0);try{e()}finally{Ft(!1)}}return a.memoizedState=[s,t],s}function Ws(e,t,a){return a===void 0||(un&1073741824)!==0&&(_e&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Tf(),ye.lanes|=e,Gn|=e,a)}function _d(e,t,a,s){return Et(a,t)?a:qi.current!==null?(e=Ws(e,a,s),Et(e,t)||(Xe=!0),e):(un&42)===0||(un&1073741824)!==0&&(_e&261930)===0?(Xe=!0,e.memoizedState=a):(e=Tf(),ye.lanes|=e,Gn|=e,t)}function Td(e,t,a,s,d){var p=$.p;$.p=p!==0&&8>p?p:8;var S=I.T,E={};I.T=E,nr(e,!1,t,a);try{var x=d(),w=I.S;if(w!==null&&w(E,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var q=jg(x,s);Pa(e,t,q,Rt(e))}else Pa(e,t,s,Rt(e))}catch(J){Pa(e,t,{then:function(){},status:"rejected",reason:J},Rt())}finally{$.p=p,S!==null&&E.types!==null&&(S.types=E.types),I.T=S}}function ey(){}function er(e,t,a,s){if(e.tag!==5)throw Error(o(476));var d=Ed(e).queue;Td(e,d,t,X,a===null?ey:function(){return Cd(e),a(s)})}function Ed(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cn,lastRenderedState:X},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cn,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Cd(e){var t=Ed(e);t.next===null&&(t=e.alternate.memoizedState),Pa(e,t.next.queue,{},Rt())}function tr(){return at(tl)}function xd(){return Ke().memoizedState}function Nd(){return Ke().memoizedState}function ty(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Rt();e=kn(a);var s=In(t,e,a);s!==null&&(St(s,t,a),Da(s,t,a)),t={cache:ws()},e.payload=t;return}t=t.return}}function ny(e,t,a){var s=Rt();a={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Kl(e)?Md(t,a):(a=As(e,t,a,s),a!==null&&(St(a,e,s),Rd(a,t,s)))}function bd(e,t,a){var s=Rt();Pa(e,t,a,s)}function Pa(e,t,a,s){var d={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Kl(e))Md(t,d);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=t.lastRenderedReducer,p!==null))try{var S=t.lastRenderedState,E=p(S,a);if(d.hasEagerState=!0,d.eagerState=E,Et(E,S))return bl(e,t,d,0),Ge===null&&Nl(),!1}catch{}finally{}if(a=As(e,t,d,s),a!==null)return St(a,e,s),Rd(a,t,s),!0}return!1}function nr(e,t,a,s){if(s={lane:2,revertLane:Ur(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Kl(e)){if(t)throw Error(o(479))}else t=As(e,a,s,2),t!==null&&St(t,e,2)}function Kl(e){var t=e.alternate;return e===ye||t!==null&&t===ye}function Md(e,t){Vi=ql=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Rd(e,t,a){if((a&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,Uu(e,a)}}var Ha={readContext:at,use:Fl,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useLayoutEffect:Oe,useInsertionEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useSyncExternalStore:Oe,useId:Oe,useHostTransitionStatus:Oe,useFormState:Oe,useActionState:Oe,useOptimistic:Oe,useMemoCache:Oe,useCacheRefresh:Oe};Ha.useEffectEvent=Oe;var wd={readContext:at,use:Fl,useCallback:function(e,t){return mt().memoizedState=[e,t===void 0?null:t],e},useContext:at,useEffect:md,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Jl(4194308,4,yd.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Jl(4194308,4,e,t)},useInsertionEffect:function(e,t){Jl(4,2,e,t)},useMemo:function(e,t){var a=mt();t=t===void 0?null:t;var s=e();if(di){Ft(!0);try{e()}finally{Ft(!1)}}return a.memoizedState=[s,t],s},useReducer:function(e,t,a){var s=mt();if(a!==void 0){var d=a(t);if(di){Ft(!0);try{a(t)}finally{Ft(!1)}}}else d=t;return s.memoizedState=s.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},s.queue=e,e=e.dispatch=ny.bind(null,ye,e),[s.memoizedState,e]},useRef:function(e){var t=mt();return e={current:e},t.memoizedState=e},useState:function(e){e=Qs(e);var t=e.queue,a=bd.bind(null,ye,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:$s,useDeferredValue:function(e,t){var a=mt();return Ws(a,e,t)},useTransition:function(){var e=Qs(!1);return e=Td.bind(null,ye,e.queue,!0,!1),mt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var s=ye,d=mt();if(Ee){if(a===void 0)throw Error(o(407));a=a()}else{if(a=t(),Ge===null)throw Error(o(349));(_e&127)!==0||Zc(s,t,a)}d.memoizedState=a;var p={value:a,getSnapshot:t};return d.queue=p,md(Wc.bind(null,s,p,e),[e]),s.flags|=2048,Fi(9,{destroy:void 0},$c.bind(null,s,p,a,t),null),a},useId:function(){var e=mt(),t=Ge.identifierPrefix;if(Ee){var a=Xt,s=Qt;a=(s&~(1<<32-ut(s)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Vl++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=Qg++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:tr,useFormState:rd,useActionState:rd,useOptimistic:function(e){var t=mt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=nr.bind(null,ye,!0,a),a.dispatch=t,[e,t]},useMemoCache:Ys,useCacheRefresh:function(){return mt().memoizedState=ty.bind(null,ye)},useEffectEvent:function(e){var t=mt(),a={impl:e};return t.memoizedState=a,function(){if((we&2)!==0)throw Error(o(440));return a.impl.apply(void 0,arguments)}}},ir={readContext:at,use:Fl,useCallback:Ad,useContext:at,useEffect:Zs,useImperativeHandle:vd,useInsertionEffect:hd,useLayoutEffect:gd,useMemo:Sd,useReducer:Ol,useRef:fd,useState:function(){return Ol(cn)},useDebugValue:$s,useDeferredValue:function(e,t){var a=Ke();return _d(a,Ue.memoizedState,e,t)},useTransition:function(){var e=Ol(cn)[0],t=Ke().memoizedState;return[typeof e=="boolean"?e:Ga(e),t]},useSyncExternalStore:Xc,useId:xd,useHostTransitionStatus:tr,useFormState:ud,useActionState:ud,useOptimistic:function(e,t){var a=Ke();return nd(a,Ue,e,t)},useMemoCache:Ys,useCacheRefresh:Nd};ir.useEffectEvent=pd;var kd={readContext:at,use:Fl,useCallback:Ad,useContext:at,useEffect:Zs,useImperativeHandle:vd,useInsertionEffect:hd,useLayoutEffect:gd,useMemo:Sd,useReducer:js,useRef:fd,useState:function(){return js(cn)},useDebugValue:$s,useDeferredValue:function(e,t){var a=Ke();return Ue===null?Ws(a,e,t):_d(a,Ue.memoizedState,e,t)},useTransition:function(){var e=js(cn)[0],t=Ke().memoizedState;return[typeof e=="boolean"?e:Ga(e),t]},useSyncExternalStore:Xc,useId:xd,useHostTransitionStatus:tr,useFormState:dd,useActionState:dd,useOptimistic:function(e,t){var a=Ke();return Ue!==null?nd(a,Ue,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Ys,useCacheRefresh:Nd};kd.useEffectEvent=pd;function ar(e,t,a,s){t=e.memoizedState,a=a(s,t),a=a==null?t:_({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var lr={enqueueSetState:function(e,t,a){e=e._reactInternals;var s=Rt(),d=kn(s);d.payload=t,a!=null&&(d.callback=a),t=In(e,d,s),t!==null&&(St(t,e,s),Da(t,e,s))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=Rt(),d=kn(s);d.tag=1,d.payload=t,a!=null&&(d.callback=a),t=In(e,d,s),t!==null&&(St(t,e,s),Da(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Rt(),s=kn(a);s.tag=2,t!=null&&(s.callback=t),t=In(e,s,a),t!==null&&(St(t,e,a),Da(t,e,a))}};function Id(e,t,a,s,d,p,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,p,S):t.prototype&&t.prototype.isPureReactComponent?!xa(a,s)||!xa(d,p):!0}function Dd(e,t,a,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&lr.enqueueReplaceState(t,t.state,null)}function fi(e,t){var a=t;if("ref"in t){a={};for(var s in t)s!=="ref"&&(a[s]=t[s])}if(e=e.defaultProps){a===t&&(a=_({},a));for(var d in e)a[d]===void 0&&(a[d]=e[d])}return a}function Ud(e){xl(e)}function Bd(e){console.error(e)}function Ld(e){xl(e)}function jl(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function Gd(e,t,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function or(e,t,a){return a=kn(a),a.tag=3,a.payload={element:null},a.callback=function(){jl(e,t)},a}function Pd(e){return e=kn(e),e.tag=3,e}function Hd(e,t,a,s){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var p=s.value;e.payload=function(){return d(p)},e.callback=function(){Gd(t,a,s)}}var S=a.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){Gd(t,a,s),typeof d!="function"&&(Pn===null?Pn=new Set([this]):Pn.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})})}function iy(e,t,a,s,d){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=a.alternate,t!==null&&Bi(t,a,d,!0),a=xt.current,a!==null){switch(a.tag){case 31:case 13:return Pt===null?oo():a.alternate===null&&Je===0&&(Je=3),a.flags&=-257,a.flags|=65536,a.lanes=d,s===Bl?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([s]):t.add(s),kr(e,s,d)),!1;case 22:return a.flags|=65536,s===Bl?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([s]):a.add(s)),kr(e,s,d)),!1}throw Error(o(435,a.tag))}return kr(e,s,d),oo(),!1}if(Ee)return t=xt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=d,s!==xs&&(e=Error(o(422),{cause:s}),Ma(Ut(e,a)))):(s!==xs&&(t=Error(o(423),{cause:s}),Ma(Ut(t,a))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,s=Ut(s,a),d=or(e.stateNode,s,d),Ls(e,d),Je!==4&&(Je=2)),!1;var p=Error(o(520),{cause:s});if(p=Ut(p,a),Ka===null?Ka=[p]:Ka.push(p),Je!==4&&(Je=2),t===null)return!0;s=Ut(s,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=d&-d,a.lanes|=e,e=or(a.stateNode,s,e),Ls(a,e),!1;case 1:if(t=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Pn===null||!Pn.has(p))))return a.flags|=65536,d&=-d,a.lanes|=d,d=Pd(d),Hd(d,e,a,s),Ls(a,d),!1}a=a.return}while(a!==null);return!1}var sr=Error(o(461)),Xe=!1;function lt(e,t,a,s){t.child=e===null?Fc(t,null,a,s):ci(t,e.child,a,s)}function qd(e,t,a,s,d){a=a.render;var p=t.ref;if("ref"in s){var S={};for(var E in s)E!=="ref"&&(S[E]=s[E])}else S=s;return oi(t),s=zs(e,t,a,S,p,d),E=Fs(),e!==null&&!Xe?(Os(e,t,d),dn(e,t,d)):(Ee&&E&&Es(t),t.flags|=1,lt(e,t,s,d),t.child)}function Vd(e,t,a,s,d){if(e===null){var p=a.type;return typeof p=="function"&&!Ss(p)&&p.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=p,zd(e,t,p,s,d)):(e=Rl(a.type,null,s,t,t.mode,d),e.ref=t.ref,e.return=t,t.child=e)}if(p=e.child,!hr(e,d)){var S=p.memoizedProps;if(a=a.compare,a=a!==null?a:xa,a(S,s)&&e.ref===t.ref)return dn(e,t,d)}return t.flags|=1,e=ln(p,s),e.ref=t.ref,e.return=t,t.child=e}function zd(e,t,a,s,d){if(e!==null){var p=e.memoizedProps;if(xa(p,s)&&e.ref===t.ref)if(Xe=!1,t.pendingProps=s=p,hr(e,d))(e.flags&131072)!==0&&(Xe=!0);else return t.lanes=e.lanes,dn(e,t,d)}return rr(e,t,a,s,d)}function Fd(e,t,a,s){var d=s.children,p=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(p=p!==null?p.baseLanes|a:a,e!==null){for(s=t.child=e.child,d=0;s!==null;)d=d|s.lanes|s.childLanes,s=s.sibling;s=d&~p}else s=0,t.child=null;return Od(e,t,p,a,s)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Dl(t,p!==null?p.cachePool:null),p!==null?Yc(t,p):Ps(),Kc(t);else return s=t.lanes=536870912,Od(e,t,p!==null?p.baseLanes|a:a,a,s)}else p!==null?(Dl(t,p.cachePool),Yc(t,p),Un(),t.memoizedState=null):(e!==null&&Dl(t,null),Ps(),Un());return lt(e,t,d,a),t.child}function qa(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Od(e,t,a,s,d){var p=Is();return p=p===null?null:{parent:je._currentValue,pool:p},t.memoizedState={baseLanes:a,cachePool:p},e!==null&&Dl(t,null),Ps(),Kc(t),e!==null&&Bi(e,t,s,!0),t.childLanes=d,null}function Ql(e,t){return t=Zl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Jd(e,t,a){return ci(t,e.child,null,a),e=Ql(t,t.pendingProps),e.flags|=2,Nt(t),t.memoizedState=null,e}function ay(e,t,a){var s=t.pendingProps,d=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ee){if(s.mode==="hidden")return e=Ql(t,s),t.lanes=536870912,qa(null,e);if(qs(t),(e=He)?(e=am(e,Gt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Nn!==null?{id:Qt,overflow:Xt}:null,retryLane:536870912,hydrationErrors:null},a=Mc(e),a.return=t,t.child=a,it=t,He=null)):e=null,e===null)throw Mn(t);return t.lanes=536870912,null}return Ql(t,s)}var p=e.memoizedState;if(p!==null){var S=p.dehydrated;if(qs(t),d)if(t.flags&256)t.flags&=-257,t=Jd(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(o(558));else if(Xe||Bi(e,t,a,!1),d=(a&e.childLanes)!==0,Xe||d){if(s=Ge,s!==null&&(S=Bu(s,a),S!==0&&S!==p.retryLane))throw p.retryLane=S,ni(e,S),St(s,e,S),sr;oo(),t=Jd(e,t,a)}else e=p.treeContext,He=Ht(S.nextSibling),it=t,Ee=!0,bn=null,Gt=!1,e!==null&&kc(t,e),t=Ql(t,s),t.flags|=4096;return t}return e=ln(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Xl(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function rr(e,t,a,s,d){return oi(t),a=zs(e,t,a,s,void 0,d),s=Fs(),e!==null&&!Xe?(Os(e,t,d),dn(e,t,d)):(Ee&&s&&Es(t),t.flags|=1,lt(e,t,a,d),t.child)}function Yd(e,t,a,s,d,p){return oi(t),t.updateQueue=null,a=Qc(t,s,a,d),jc(e),s=Fs(),e!==null&&!Xe?(Os(e,t,p),dn(e,t,p)):(Ee&&s&&Es(t),t.flags|=1,lt(e,t,a,p),t.child)}function Kd(e,t,a,s,d){if(oi(t),t.stateNode===null){var p=ki,S=a.contextType;typeof S=="object"&&S!==null&&(p=at(S)),p=new a(s,p),t.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=lr,t.stateNode=p,p._reactInternals=t,p=t.stateNode,p.props=s,p.state=t.memoizedState,p.refs={},Us(t),S=a.contextType,p.context=typeof S=="object"&&S!==null?at(S):ki,p.state=t.memoizedState,S=a.getDerivedStateFromProps,typeof S=="function"&&(ar(t,a,S,s),p.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(S=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),S!==p.state&&lr.enqueueReplaceState(p,p.state,null),Ba(t,s,p,d),Ua(),p.state=t.memoizedState),typeof p.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){p=t.stateNode;var E=t.memoizedProps,x=fi(a,E);p.props=x;var w=p.context,q=a.contextType;S=ki,typeof q=="object"&&q!==null&&(S=at(q));var J=a.getDerivedStateFromProps;q=typeof J=="function"||typeof p.getSnapshotBeforeUpdate=="function",E=t.pendingProps!==E,q||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E||w!==S)&&Dd(t,p,s,S),wn=!1;var k=t.memoizedState;p.state=k,Ba(t,s,p,d),Ua(),w=t.memoizedState,E||k!==w||wn?(typeof J=="function"&&(ar(t,a,J,s),w=t.memoizedState),(x=wn||Id(t,a,x,s,k,w,S))?(q||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(t.flags|=4194308)):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=w),p.props=s,p.state=w,p.context=S,s=x):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{p=t.stateNode,Bs(e,t),S=t.memoizedProps,q=fi(a,S),p.props=q,J=t.pendingProps,k=p.context,w=a.contextType,x=ki,typeof w=="object"&&w!==null&&(x=at(w)),E=a.getDerivedStateFromProps,(w=typeof E=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S!==J||k!==x)&&Dd(t,p,s,x),wn=!1,k=t.memoizedState,p.state=k,Ba(t,s,p,d),Ua();var B=t.memoizedState;S!==J||k!==B||wn||e!==null&&e.dependencies!==null&&kl(e.dependencies)?(typeof E=="function"&&(ar(t,a,E,s),B=t.memoizedState),(q=wn||Id(t,a,q,s,k,B,x)||e!==null&&e.dependencies!==null&&kl(e.dependencies))?(w||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(s,B,x),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(s,B,x)),typeof p.componentDidUpdate=="function"&&(t.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof p.componentDidUpdate!="function"||S===e.memoizedProps&&k===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&k===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=B),p.props=s,p.state=B,p.context=x,s=q):(typeof p.componentDidUpdate!="function"||S===e.memoizedProps&&k===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&k===e.memoizedState||(t.flags|=1024),s=!1)}return p=s,Xl(e,t),s=(t.flags&128)!==0,p||s?(p=t.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:p.render(),t.flags|=1,e!==null&&s?(t.child=ci(t,e.child,null,d),t.child=ci(t,null,a,d)):lt(e,t,a,d),t.memoizedState=p.state,e=t.child):e=dn(e,t,d),e}function jd(e,t,a,s){return ai(),t.flags|=256,lt(e,t,a,s),t.child}var ur={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cr(e){return{baseLanes:e,cachePool:Gc()}}function dr(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Mt),e}function Qd(e,t,a){var s=t.pendingProps,d=!1,p=(t.flags&128)!==0,S;if((S=p)||(S=e!==null&&e.memoizedState===null?!1:(Ye.current&2)!==0),S&&(d=!0,t.flags&=-129),S=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ee){if(d?Dn(t):Un(),(e=He)?(e=am(e,Gt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Nn!==null?{id:Qt,overflow:Xt}:null,retryLane:536870912,hydrationErrors:null},a=Mc(e),a.return=t,t.child=a,it=t,He=null)):e=null,e===null)throw Mn(t);return Kr(e)?t.lanes=32:t.lanes=536870912,null}var E=s.children;return s=s.fallback,d?(Un(),d=t.mode,E=Zl({mode:"hidden",children:E},d),s=ii(s,d,a,null),E.return=t,s.return=t,E.sibling=s,t.child=E,s=t.child,s.memoizedState=cr(a),s.childLanes=dr(e,S,a),t.memoizedState=ur,qa(null,s)):(Dn(t),fr(t,E))}var x=e.memoizedState;if(x!==null&&(E=x.dehydrated,E!==null)){if(p)t.flags&256?(Dn(t),t.flags&=-257,t=mr(e,t,a)):t.memoizedState!==null?(Un(),t.child=e.child,t.flags|=128,t=null):(Un(),E=s.fallback,d=t.mode,s=Zl({mode:"visible",children:s.children},d),E=ii(E,d,a,null),E.flags|=2,s.return=t,E.return=t,s.sibling=E,t.child=s,ci(t,e.child,null,a),s=t.child,s.memoizedState=cr(a),s.childLanes=dr(e,S,a),t.memoizedState=ur,t=qa(null,s));else if(Dn(t),Kr(E)){if(S=E.nextSibling&&E.nextSibling.dataset,S)var w=S.dgst;S=w,s=Error(o(419)),s.stack="",s.digest=S,Ma({value:s,source:null,stack:null}),t=mr(e,t,a)}else if(Xe||Bi(e,t,a,!1),S=(a&e.childLanes)!==0,Xe||S){if(S=Ge,S!==null&&(s=Bu(S,a),s!==0&&s!==x.retryLane))throw x.retryLane=s,ni(e,s),St(S,e,s),sr;Yr(E)||oo(),t=mr(e,t,a)}else Yr(E)?(t.flags|=192,t.child=e.child,t=null):(e=x.treeContext,He=Ht(E.nextSibling),it=t,Ee=!0,bn=null,Gt=!1,e!==null&&kc(t,e),t=fr(t,s.children),t.flags|=4096);return t}return d?(Un(),E=s.fallback,d=t.mode,x=e.child,w=x.sibling,s=ln(x,{mode:"hidden",children:s.children}),s.subtreeFlags=x.subtreeFlags&65011712,w!==null?E=ln(w,E):(E=ii(E,d,a,null),E.flags|=2),E.return=t,s.return=t,s.sibling=E,t.child=s,qa(null,s),s=t.child,E=e.child.memoizedState,E===null?E=cr(a):(d=E.cachePool,d!==null?(x=je._currentValue,d=d.parent!==x?{parent:x,pool:x}:d):d=Gc(),E={baseLanes:E.baseLanes|a,cachePool:d}),s.memoizedState=E,s.childLanes=dr(e,S,a),t.memoizedState=ur,qa(e.child,s)):(Dn(t),a=e.child,e=a.sibling,a=ln(a,{mode:"visible",children:s.children}),a.return=t,a.sibling=null,e!==null&&(S=t.deletions,S===null?(t.deletions=[e],t.flags|=16):S.push(e)),t.child=a,t.memoizedState=null,a)}function fr(e,t){return t=Zl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Zl(e,t){return e=Ct(22,e,null,t),e.lanes=0,e}function mr(e,t,a){return ci(t,e.child,null,a),e=fr(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Xd(e,t,a){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Ms(e.return,t,a)}function pr(e,t,a,s,d,p){var S=e.memoizedState;S===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:d,treeForkCount:p}:(S.isBackwards=t,S.rendering=null,S.renderingStartTime=0,S.last=s,S.tail=a,S.tailMode=d,S.treeForkCount=p)}function Zd(e,t,a){var s=t.pendingProps,d=s.revealOrder,p=s.tail;s=s.children;var S=Ye.current,E=(S&2)!==0;if(E?(S=S&1|2,t.flags|=128):S&=1,D(Ye,S),lt(e,t,s,a),s=Ee?ba:0,!E&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xd(e,a,t);else if(e.tag===19)Xd(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(a=t.child,d=null;a!==null;)e=a.alternate,e!==null&&Hl(e)===null&&(d=a),a=a.sibling;a=d,a===null?(d=t.child,t.child=null):(d=a.sibling,a.sibling=null),pr(t,!1,d,a,p,s);break;case"backwards":case"unstable_legacy-backwards":for(a=null,d=t.child,t.child=null;d!==null;){if(e=d.alternate,e!==null&&Hl(e)===null){t.child=d;break}e=d.sibling,d.sibling=a,a=d,d=e}pr(t,!0,a,null,p,s);break;case"together":pr(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function dn(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Gn|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Bi(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,a=ln(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=ln(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function hr(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&kl(e)))}function ly(e,t,a){switch(t.tag){case 3:xe(t,t.stateNode.containerInfo),Rn(t,je,e.memoizedState.cache),ai();break;case 27:case 5:wt(t);break;case 4:xe(t,t.stateNode.containerInfo);break;case 10:Rn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,qs(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Dn(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Qd(e,t,a):(Dn(t),e=dn(e,t,a),e!==null?e.sibling:null);Dn(t);break;case 19:var d=(e.flags&128)!==0;if(s=(a&t.childLanes)!==0,s||(Bi(e,t,a,!1),s=(a&t.childLanes)!==0),d){if(s)return Zd(e,t,a);t.flags|=128}if(d=t.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),D(Ye,Ye.current),s)break;return null;case 22:return t.lanes=0,Fd(e,t,a,t.pendingProps);case 24:Rn(t,je,e.memoizedState.cache)}return dn(e,t,a)}function $d(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Xe=!0;else{if(!hr(e,a)&&(t.flags&128)===0)return Xe=!1,ly(e,t,a);Xe=(e.flags&131072)!==0}else Xe=!1,Ee&&(t.flags&1048576)!==0&&wc(t,ba,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=ri(t.elementType),t.type=e,typeof e=="function")Ss(e)?(s=fi(e,s),t.tag=1,t=Kd(null,t,e,s,a)):(t.tag=0,t=rr(null,t,e,s,a));else{if(e!=null){var d=e.$$typeof;if(d===G){t.tag=11,t=qd(null,t,e,s,a);break e}else if(d===P){t.tag=14,t=Vd(null,t,e,s,a);break e}}throw t=ue(e)||e,Error(o(306,t,""))}}return t;case 0:return rr(e,t,t.type,t.pendingProps,a);case 1:return s=t.type,d=fi(s,t.pendingProps),Kd(e,t,s,d,a);case 3:e:{if(xe(t,t.stateNode.containerInfo),e===null)throw Error(o(387));s=t.pendingProps;var p=t.memoizedState;d=p.element,Bs(e,t),Ba(t,s,null,a);var S=t.memoizedState;if(s=S.cache,Rn(t,je,s),s!==p.cache&&Rs(t,[je],a,!0),Ua(),s=S.element,p.isDehydrated)if(p={element:s,isDehydrated:!1,cache:S.cache},t.updateQueue.baseState=p,t.memoizedState=p,t.flags&256){t=jd(e,t,s,a);break e}else if(s!==d){d=Ut(Error(o(424)),t),Ma(d),t=jd(e,t,s,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(He=Ht(e.firstChild),it=t,Ee=!0,bn=null,Gt=!0,a=Fc(t,null,s,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ai(),s===d){t=dn(e,t,a);break e}lt(e,t,s,a)}t=t.child}return t;case 26:return Xl(e,t),e===null?(a=cm(t.type,null,t.pendingProps,null))?t.memoizedState=a:Ee||(a=t.type,e=t.pendingProps,s=po(te.current).createElement(a),s[nt]=t,s[pt]=e,ot(s,a,e),et(s),t.stateNode=s):t.memoizedState=cm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return wt(t),e===null&&Ee&&(s=t.stateNode=sm(t.type,t.pendingProps,te.current),it=t,Gt=!0,d=He,zn(t.type)?(jr=d,He=Ht(s.firstChild)):He=d),lt(e,t,t.pendingProps.children,a),Xl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ee&&((d=s=He)&&(s=By(s,t.type,t.pendingProps,Gt),s!==null?(t.stateNode=s,it=t,He=Ht(s.firstChild),Gt=!1,d=!0):d=!1),d||Mn(t)),wt(t),d=t.type,p=t.pendingProps,S=e!==null?e.memoizedProps:null,s=p.children,Fr(d,p)?s=null:S!==null&&Fr(d,S)&&(t.flags|=32),t.memoizedState!==null&&(d=zs(e,t,Xg,null,null,a),tl._currentValue=d),Xl(e,t),lt(e,t,s,a),t.child;case 6:return e===null&&Ee&&((e=a=He)&&(a=Ly(a,t.pendingProps,Gt),a!==null?(t.stateNode=a,it=t,He=null,e=!0):e=!1),e||Mn(t)),null;case 13:return Qd(e,t,a);case 4:return xe(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=ci(t,null,s,a):lt(e,t,s,a),t.child;case 11:return qd(e,t,t.type,t.pendingProps,a);case 7:return lt(e,t,t.pendingProps,a),t.child;case 8:return lt(e,t,t.pendingProps.children,a),t.child;case 12:return lt(e,t,t.pendingProps.children,a),t.child;case 10:return s=t.pendingProps,Rn(t,t.type,s.value),lt(e,t,s.children,a),t.child;case 9:return d=t.type._context,s=t.pendingProps.children,oi(t),d=at(d),s=s(d),t.flags|=1,lt(e,t,s,a),t.child;case 14:return Vd(e,t,t.type,t.pendingProps,a);case 15:return zd(e,t,t.type,t.pendingProps,a);case 19:return Zd(e,t,a);case 31:return ay(e,t,a);case 22:return Fd(e,t,a,t.pendingProps);case 24:return oi(t),s=at(je),e===null?(d=Is(),d===null&&(d=Ge,p=ws(),d.pooledCache=p,p.refCount++,p!==null&&(d.pooledCacheLanes|=a),d=p),t.memoizedState={parent:s,cache:d},Us(t),Rn(t,je,d)):((e.lanes&a)!==0&&(Bs(e,t),Ba(t,null,null,a),Ua()),d=e.memoizedState,p=t.memoizedState,d.parent!==s?(d={parent:s,cache:s},t.memoizedState=d,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=d),Rn(t,je,s)):(s=p.cache,Rn(t,je,s),s!==d.cache&&Rs(t,[je],a,!0))),lt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function fn(e){e.flags|=4}function gr(e,t,a,s,d){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(Nf())e.flags|=8192;else throw ui=Bl,Ds}else e.flags&=-16777217}function Wd(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!hm(t))if(Nf())e.flags|=8192;else throw ui=Bl,Ds}function $l(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Iu():536870912,e.lanes|=t,Ki|=t)}function Va(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(t)for(var d=e.child;d!==null;)a|=d.lanes|d.childLanes,s|=d.subtreeFlags&65011712,s|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)a|=d.lanes|d.childLanes,s|=d.subtreeFlags,s|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function oy(e,t,a){var s=t.pendingProps;switch(Cs(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(t),null;case 1:return qe(t),null;case 3:return a=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),rn(je),ke(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ui(t)?fn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ns())),qe(t),null;case 26:var d=t.type,p=t.memoizedState;return e===null?(fn(t),p!==null?(qe(t),Wd(t,p)):(qe(t),gr(t,d,null,s,a))):p?p!==e.memoizedState?(fn(t),qe(t),Wd(t,p)):(qe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&fn(t),qe(t),gr(t,d,e,s,a)),null;case 27:if(Tt(t),a=te.current,d=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&fn(t);else{if(!s){if(t.stateNode===null)throw Error(o(166));return qe(t),null}e=Y.current,Ui(t)?Ic(t):(e=sm(d,s,a),t.stateNode=e,fn(t))}return qe(t),null;case 5:if(Tt(t),d=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&fn(t);else{if(!s){if(t.stateNode===null)throw Error(o(166));return qe(t),null}if(p=Y.current,Ui(t))Ic(t);else{var S=po(te.current);switch(p){case 1:p=S.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:p=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":p=S.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":p=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":p=S.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof s.is=="string"?S.createElement("select",{is:s.is}):S.createElement("select"),s.multiple?p.multiple=!0:s.size&&(p.size=s.size);break;default:p=typeof s.is=="string"?S.createElement(d,{is:s.is}):S.createElement(d)}}p[nt]=t,p[pt]=s;e:for(S=t.child;S!==null;){if(S.tag===5||S.tag===6)p.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===t)break e;for(;S.sibling===null;){if(S.return===null||S.return===t)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}t.stateNode=p;e:switch(ot(p,d,s),d){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&fn(t)}}return qe(t),gr(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&fn(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(o(166));if(e=te.current,Ui(t)){if(e=t.stateNode,a=t.memoizedProps,s=null,d=it,d!==null)switch(d.tag){case 27:case 5:s=d.memoizedProps}e[nt]=t,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||Xf(e.nodeValue,a)),e||Mn(t,!0)}else e=po(e).createTextNode(s),e[nt]=t,t.stateNode=e}return qe(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(s=Ui(t),a!==null){if(e===null){if(!s)throw Error(o(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[nt]=t}else ai(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;qe(t),e=!1}else a=Ns(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Nt(t),t):(Nt(t),null);if((t.flags&128)!==0)throw Error(o(558))}return qe(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=Ui(t),s!==null&&s.dehydrated!==null){if(e===null){if(!d)throw Error(o(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));d[nt]=t}else ai(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;qe(t),d=!1}else d=Ns(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return t.flags&256?(Nt(t),t):(Nt(t),null)}return Nt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=s!==null,e=e!==null&&e.memoizedState!==null,a&&(s=t.child,d=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(d=s.alternate.memoizedState.cachePool.pool),p=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),p!==d&&(s.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),$l(t,t.updateQueue),qe(t),null);case 4:return ke(),e===null&&Pr(t.stateNode.containerInfo),qe(t),null;case 10:return rn(t.type),qe(t),null;case 19:if(U(Ye),s=t.memoizedState,s===null)return qe(t),null;if(d=(t.flags&128)!==0,p=s.rendering,p===null)if(d)Va(s,!1);else{if(Je!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(p=Hl(e),p!==null){for(t.flags|=128,Va(s,!1),e=p.updateQueue,t.updateQueue=e,$l(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)bc(a,e),a=a.sibling;return D(Ye,Ye.current&1|2),Ee&&on(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&ft()>io&&(t.flags|=128,d=!0,Va(s,!1),t.lanes=4194304)}else{if(!d)if(e=Hl(p),e!==null){if(t.flags|=128,d=!0,e=e.updateQueue,t.updateQueue=e,$l(t,e),Va(s,!0),s.tail===null&&s.tailMode==="hidden"&&!p.alternate&&!Ee)return qe(t),null}else 2*ft()-s.renderingStartTime>io&&a!==536870912&&(t.flags|=128,d=!0,Va(s,!1),t.lanes=4194304);s.isBackwards?(p.sibling=t.child,t.child=p):(e=s.last,e!==null?e.sibling=p:t.child=p,s.last=p)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ft(),e.sibling=null,a=Ye.current,D(Ye,d?a&1|2:a&1),Ee&&on(t,s.treeForkCount),e):(qe(t),null);case 22:case 23:return Nt(t),Hs(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(a&536870912)!==0&&(t.flags&128)===0&&(qe(t),t.subtreeFlags&6&&(t.flags|=8192)):qe(t),a=t.updateQueue,a!==null&&$l(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==a&&(t.flags|=2048),e!==null&&U(si),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),rn(je),qe(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function sy(e,t){switch(Cs(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return rn(je),ke(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Tt(t),null;case 31:if(t.memoizedState!==null){if(Nt(t),t.alternate===null)throw Error(o(340));ai()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Nt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));ai()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return U(Ye),null;case 4:return ke(),null;case 10:return rn(t.type),null;case 22:case 23:return Nt(t),Hs(),e!==null&&U(si),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return rn(je),null;case 25:return null;default:return null}}function ef(e,t){switch(Cs(t),t.tag){case 3:rn(je),ke();break;case 26:case 27:case 5:Tt(t);break;case 4:ke();break;case 31:t.memoizedState!==null&&Nt(t);break;case 13:Nt(t);break;case 19:U(Ye);break;case 10:rn(t.type);break;case 22:case 23:Nt(t),Hs(),e!==null&&U(si);break;case 24:rn(je)}}function za(e,t){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var d=s.next;a=d;do{if((a.tag&e)===e){s=void 0;var p=a.create,S=a.inst;s=p(),S.destroy=s}a=a.next}while(a!==d)}}catch(E){De(t,t.return,E)}}function Bn(e,t,a){try{var s=t.updateQueue,d=s!==null?s.lastEffect:null;if(d!==null){var p=d.next;s=p;do{if((s.tag&e)===e){var S=s.inst,E=S.destroy;if(E!==void 0){S.destroy=void 0,d=t;var x=a,w=E;try{w()}catch(q){De(d,x,q)}}}s=s.next}while(s!==p)}}catch(q){De(t,t.return,q)}}function tf(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Jc(t,a)}catch(s){De(e,e.return,s)}}}function nf(e,t,a){a.props=fi(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){De(e,t,s)}}function Fa(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof a=="function"?e.refCleanup=a(s):a.current=s}}catch(d){De(e,t,d)}}function Zt(e,t){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(d){De(e,t,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){De(e,t,d)}else a.current=null}function af(e){var t=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(d){De(e,e.return,d)}}function yr(e,t,a){try{var s=e.stateNode;Ry(s,e.type,a,t),s[pt]=t}catch(d){De(e,e.return,d)}}function lf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&zn(e.type)||e.tag===4}function vr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||lf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&zn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ar(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=nn));else if(s!==4&&(s===27&&zn(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Ar(e,t,a),e=e.sibling;e!==null;)Ar(e,t,a),e=e.sibling}function Wl(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(s!==4&&(s===27&&zn(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Wl(e,t,a),e=e.sibling;e!==null;)Wl(e,t,a),e=e.sibling}function of(e){var t=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,d=t.attributes;d.length;)t.removeAttributeNode(d[0]);ot(t,s,a),t[nt]=e,t[pt]=a}catch(p){De(e,e.return,p)}}var mn=!1,Ze=!1,Sr=!1,sf=typeof WeakSet=="function"?WeakSet:Set,tt=null;function ry(e,t){if(e=e.containerInfo,Vr=_o,e=vc(e),ms(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var d=s.anchorOffset,p=s.focusNode;s=s.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var S=0,E=-1,x=-1,w=0,q=0,J=e,k=null;t:for(;;){for(var B;J!==a||d!==0&&J.nodeType!==3||(E=S+d),J!==p||s!==0&&J.nodeType!==3||(x=S+s),J.nodeType===3&&(S+=J.nodeValue.length),(B=J.firstChild)!==null;)k=J,J=B;for(;;){if(J===e)break t;if(k===a&&++w===d&&(E=S),k===p&&++q===s&&(x=S),(B=J.nextSibling)!==null)break;J=k,k=J.parentNode}J=B}a=E===-1||x===-1?null:{start:E,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(zr={focusedElem:e,selectionRange:a},_o=!1,tt=t;tt!==null;)if(t=tt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,tt=e;else for(;tt!==null;){switch(t=tt,p=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)d=e[a],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&p!==null){e=void 0,a=t,d=p.memoizedProps,p=p.memoizedState,s=a.stateNode;try{var oe=fi(a.type,d);e=s.getSnapshotBeforeUpdate(oe,p),s.__reactInternalSnapshotBeforeUpdate=e}catch(me){De(a,a.return,me)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Jr(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Jr(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,tt=e;break}tt=t.return}}function rf(e,t,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:hn(e,a),s&4&&za(5,a);break;case 1:if(hn(e,a),s&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(S){De(a,a.return,S)}else{var d=fi(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(d,t,e.__reactInternalSnapshotBeforeUpdate)}catch(S){De(a,a.return,S)}}s&64&&tf(a),s&512&&Fa(a,a.return);break;case 3:if(hn(e,a),s&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Jc(e,t)}catch(S){De(a,a.return,S)}}break;case 27:t===null&&s&4&&of(a);case 26:case 5:hn(e,a),t===null&&s&4&&af(a),s&512&&Fa(a,a.return);break;case 12:hn(e,a);break;case 31:hn(e,a),s&4&&df(e,a);break;case 13:hn(e,a),s&4&&ff(e,a),s&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=yy.bind(null,a),Gy(e,a))));break;case 22:if(s=a.memoizedState!==null||mn,!s){t=t!==null&&t.memoizedState!==null||Ze,d=mn;var p=Ze;mn=s,(Ze=t)&&!p?gn(e,a,(a.subtreeFlags&8772)!==0):hn(e,a),mn=d,Ze=p}break;case 30:break;default:hn(e,a)}}function uf(e){var t=e.alternate;t!==null&&(e.alternate=null,uf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Xo(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Fe=null,gt=!1;function pn(e,t,a){for(a=a.child;a!==null;)cf(e,t,a),a=a.sibling}function cf(e,t,a){if(rt&&typeof rt.onCommitFiberUnmount=="function")try{rt.onCommitFiberUnmount(yi,a)}catch{}switch(a.tag){case 26:Ze||Zt(a,t),pn(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ze||Zt(a,t);var s=Fe,d=gt;zn(a.type)&&(Fe=a.stateNode,gt=!1),pn(e,t,a),$a(a.stateNode),Fe=s,gt=d;break;case 5:Ze||Zt(a,t);case 6:if(s=Fe,d=gt,Fe=null,pn(e,t,a),Fe=s,gt=d,Fe!==null)if(gt)try{(Fe.nodeType===9?Fe.body:Fe.nodeName==="HTML"?Fe.ownerDocument.body:Fe).removeChild(a.stateNode)}catch(p){De(a,t,p)}else try{Fe.removeChild(a.stateNode)}catch(p){De(a,t,p)}break;case 18:Fe!==null&&(gt?(e=Fe,nm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ta(e)):nm(Fe,a.stateNode));break;case 4:s=Fe,d=gt,Fe=a.stateNode.containerInfo,gt=!0,pn(e,t,a),Fe=s,gt=d;break;case 0:case 11:case 14:case 15:Bn(2,a,t),Ze||Bn(4,a,t),pn(e,t,a);break;case 1:Ze||(Zt(a,t),s=a.stateNode,typeof s.componentWillUnmount=="function"&&nf(a,t,s)),pn(e,t,a);break;case 21:pn(e,t,a);break;case 22:Ze=(s=Ze)||a.memoizedState!==null,pn(e,t,a),Ze=s;break;default:pn(e,t,a)}}function df(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ta(e)}catch(a){De(t,t.return,a)}}}function ff(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ta(e)}catch(a){De(t,t.return,a)}}function uy(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new sf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new sf),t;default:throw Error(o(435,e.tag))}}function eo(e,t){var a=uy(e);t.forEach(function(s){if(!a.has(s)){a.add(s);var d=vy.bind(null,e,s);s.then(d,d)}})}function yt(e,t){var a=t.deletions;if(a!==null)for(var s=0;s<a.length;s++){var d=a[s],p=e,S=t,E=S;e:for(;E!==null;){switch(E.tag){case 27:if(zn(E.type)){Fe=E.stateNode,gt=!1;break e}break;case 5:Fe=E.stateNode,gt=!1;break e;case 3:case 4:Fe=E.stateNode.containerInfo,gt=!0;break e}E=E.return}if(Fe===null)throw Error(o(160));cf(p,S,d),Fe=null,gt=!1,p=d.alternate,p!==null&&(p.return=null),d.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)mf(t,e),t=t.sibling}var Jt=null;function mf(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:yt(t,e),vt(e),s&4&&(Bn(3,e,e.return),za(3,e),Bn(5,e,e.return));break;case 1:yt(t,e),vt(e),s&512&&(Ze||a===null||Zt(a,a.return)),s&64&&mn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var d=Jt;if(yt(t,e),vt(e),s&512&&(Ze||a===null||Zt(a,a.return)),s&4){var p=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,d=d.ownerDocument||d;t:switch(s){case"title":p=d.getElementsByTagName("title")[0],(!p||p[ga]||p[nt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=d.createElement(s),d.head.insertBefore(p,d.querySelector("head > title"))),ot(p,s,a),p[nt]=e,et(p),s=p;break e;case"link":var S=mm("link","href",d).get(s+(a.href||""));if(S){for(var E=0;E<S.length;E++)if(p=S[E],p.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){S.splice(E,1);break t}}p=d.createElement(s),ot(p,s,a),d.head.appendChild(p);break;case"meta":if(S=mm("meta","content",d).get(s+(a.content||""))){for(E=0;E<S.length;E++)if(p=S[E],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){S.splice(E,1);break t}}p=d.createElement(s),ot(p,s,a),d.head.appendChild(p);break;default:throw Error(o(468,s))}p[nt]=e,et(p),s=p}e.stateNode=s}else pm(d,e.type,e.stateNode);else e.stateNode=fm(d,s,e.memoizedProps);else p!==s?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,s===null?pm(d,e.type,e.stateNode):fm(d,s,e.memoizedProps)):s===null&&e.stateNode!==null&&yr(e,e.memoizedProps,a.memoizedProps)}break;case 27:yt(t,e),vt(e),s&512&&(Ze||a===null||Zt(a,a.return)),a!==null&&s&4&&yr(e,e.memoizedProps,a.memoizedProps);break;case 5:if(yt(t,e),vt(e),s&512&&(Ze||a===null||Zt(a,a.return)),e.flags&32){d=e.stateNode;try{Ci(d,"")}catch(oe){De(e,e.return,oe)}}s&4&&e.stateNode!=null&&(d=e.memoizedProps,yr(e,d,a!==null?a.memoizedProps:d)),s&1024&&(Sr=!0);break;case 6:if(yt(t,e),vt(e),s&4){if(e.stateNode===null)throw Error(o(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(oe){De(e,e.return,oe)}}break;case 3:if(yo=null,d=Jt,Jt=ho(t.containerInfo),yt(t,e),Jt=d,vt(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{ta(t.containerInfo)}catch(oe){De(e,e.return,oe)}Sr&&(Sr=!1,pf(e));break;case 4:s=Jt,Jt=ho(e.stateNode.containerInfo),yt(t,e),vt(e),Jt=s;break;case 12:yt(t,e),vt(e);break;case 31:yt(t,e),vt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,eo(e,s)));break;case 13:yt(t,e),vt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(no=ft()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,eo(e,s)));break;case 22:d=e.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,w=mn,q=Ze;if(mn=w||d,Ze=q||x,yt(t,e),Ze=q,mn=w,vt(e),s&8192)e:for(t=e.stateNode,t._visibility=d?t._visibility&-2:t._visibility|1,d&&(a===null||x||mn||Ze||mi(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){x=a=t;try{if(p=x.stateNode,d)S=p.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{E=x.stateNode;var J=x.memoizedProps.style,k=J!=null&&J.hasOwnProperty("display")?J.display:null;E.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(oe){De(x,x.return,oe)}}}else if(t.tag===6){if(a===null){x=t;try{x.stateNode.nodeValue=d?"":x.memoizedProps}catch(oe){De(x,x.return,oe)}}}else if(t.tag===18){if(a===null){x=t;try{var B=x.stateNode;d?im(B,!0):im(x.stateNode,!1)}catch(oe){De(x,x.return,oe)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,eo(e,a))));break;case 19:yt(t,e),vt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,eo(e,s)));break;case 30:break;case 21:break;default:yt(t,e),vt(e)}}function vt(e){var t=e.flags;if(t&2){try{for(var a,s=e.return;s!==null;){if(lf(s)){a=s;break}s=s.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var d=a.stateNode,p=vr(e);Wl(e,p,d);break;case 5:var S=a.stateNode;a.flags&32&&(Ci(S,""),a.flags&=-33);var E=vr(e);Wl(e,E,S);break;case 3:case 4:var x=a.stateNode.containerInfo,w=vr(e);Ar(e,w,x);break;default:throw Error(o(161))}}catch(q){De(e,e.return,q)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function pf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;pf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function hn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)rf(e,t.alternate,t),t=t.sibling}function mi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Bn(4,t,t.return),mi(t);break;case 1:Zt(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&nf(t,t.return,a),mi(t);break;case 27:$a(t.stateNode);case 26:case 5:Zt(t,t.return),mi(t);break;case 22:t.memoizedState===null&&mi(t);break;case 30:mi(t);break;default:mi(t)}e=e.sibling}}function gn(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,d=e,p=t,S=p.flags;switch(p.tag){case 0:case 11:case 15:gn(d,p,a),za(4,p);break;case 1:if(gn(d,p,a),s=p,d=s.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(w){De(s,s.return,w)}if(s=p,d=s.updateQueue,d!==null){var E=s.stateNode;try{var x=d.shared.hiddenCallbacks;if(x!==null)for(d.shared.hiddenCallbacks=null,d=0;d<x.length;d++)Oc(x[d],E)}catch(w){De(s,s.return,w)}}a&&S&64&&tf(p),Fa(p,p.return);break;case 27:of(p);case 26:case 5:gn(d,p,a),a&&s===null&&S&4&&af(p),Fa(p,p.return);break;case 12:gn(d,p,a);break;case 31:gn(d,p,a),a&&S&4&&df(d,p);break;case 13:gn(d,p,a),a&&S&4&&ff(d,p);break;case 22:p.memoizedState===null&&gn(d,p,a),Fa(p,p.return);break;case 30:break;default:gn(d,p,a)}t=t.sibling}}function _r(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ra(a))}function Tr(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ra(e))}function Yt(e,t,a,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)hf(e,t,a,s),t=t.sibling}function hf(e,t,a,s){var d=t.flags;switch(t.tag){case 0:case 11:case 15:Yt(e,t,a,s),d&2048&&za(9,t);break;case 1:Yt(e,t,a,s);break;case 3:Yt(e,t,a,s),d&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ra(e)));break;case 12:if(d&2048){Yt(e,t,a,s),e=t.stateNode;try{var p=t.memoizedProps,S=p.id,E=p.onPostCommit;typeof E=="function"&&E(S,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){De(t,t.return,x)}}else Yt(e,t,a,s);break;case 31:Yt(e,t,a,s);break;case 13:Yt(e,t,a,s);break;case 23:break;case 22:p=t.stateNode,S=t.alternate,t.memoizedState!==null?p._visibility&2?Yt(e,t,a,s):Oa(e,t):p._visibility&2?Yt(e,t,a,s):(p._visibility|=2,Oi(e,t,a,s,(t.subtreeFlags&10256)!==0||!1)),d&2048&&_r(S,t);break;case 24:Yt(e,t,a,s),d&2048&&Tr(t.alternate,t);break;default:Yt(e,t,a,s)}}function Oi(e,t,a,s,d){for(d=d&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var p=e,S=t,E=a,x=s,w=S.flags;switch(S.tag){case 0:case 11:case 15:Oi(p,S,E,x,d),za(8,S);break;case 23:break;case 22:var q=S.stateNode;S.memoizedState!==null?q._visibility&2?Oi(p,S,E,x,d):Oa(p,S):(q._visibility|=2,Oi(p,S,E,x,d)),d&&w&2048&&_r(S.alternate,S);break;case 24:Oi(p,S,E,x,d),d&&w&2048&&Tr(S.alternate,S);break;default:Oi(p,S,E,x,d)}t=t.sibling}}function Oa(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,s=t,d=s.flags;switch(s.tag){case 22:Oa(a,s),d&2048&&_r(s.alternate,s);break;case 24:Oa(a,s),d&2048&&Tr(s.alternate,s);break;default:Oa(a,s)}t=t.sibling}}var Ja=8192;function Ji(e,t,a){if(e.subtreeFlags&Ja)for(e=e.child;e!==null;)gf(e,t,a),e=e.sibling}function gf(e,t,a){switch(e.tag){case 26:Ji(e,t,a),e.flags&Ja&&e.memoizedState!==null&&Qy(a,Jt,e.memoizedState,e.memoizedProps);break;case 5:Ji(e,t,a);break;case 3:case 4:var s=Jt;Jt=ho(e.stateNode.containerInfo),Ji(e,t,a),Jt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Ja,Ja=16777216,Ji(e,t,a),Ja=s):Ji(e,t,a));break;default:Ji(e,t,a)}}function yf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ya(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];tt=s,Af(s,e)}yf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)vf(e),e=e.sibling}function vf(e){switch(e.tag){case 0:case 11:case 15:Ya(e),e.flags&2048&&Bn(9,e,e.return);break;case 3:Ya(e);break;case 12:Ya(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,to(e)):Ya(e);break;default:Ya(e)}}function to(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];tt=s,Af(s,e)}yf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Bn(8,t,t.return),to(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,to(t));break;default:to(t)}e=e.sibling}}function Af(e,t){for(;tt!==null;){var a=tt;switch(a.tag){case 0:case 11:case 15:Bn(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Ra(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,tt=s;else e:for(a=e;tt!==null;){s=tt;var d=s.sibling,p=s.return;if(uf(s),s===a){tt=null;break e}if(d!==null){d.return=p,tt=d;break e}tt=p}}}var cy={getCacheForType:function(e){var t=at(je),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return at(je).controller.signal}},dy=typeof WeakMap=="function"?WeakMap:Map,we=0,Ge=null,Ae=null,_e=0,Ie=0,bt=null,Ln=!1,Yi=!1,Er=!1,yn=0,Je=0,Gn=0,pi=0,Cr=0,Mt=0,Ki=0,Ka=null,At=null,xr=!1,no=0,Sf=0,io=1/0,ao=null,Pn=null,We=0,Hn=null,ji=null,vn=0,Nr=0,br=null,_f=null,ja=0,Mr=null;function Rt(){return(we&2)!==0&&_e!==0?_e&-_e:I.T!==null?Ur():Lu()}function Tf(){if(Mt===0)if((_e&536870912)===0||Ee){var e=fl;fl<<=1,(fl&3932160)===0&&(fl=262144),Mt=e}else Mt=536870912;return e=xt.current,e!==null&&(e.flags|=32),Mt}function St(e,t,a){(e===Ge&&(Ie===2||Ie===9)||e.cancelPendingCommit!==null)&&(Qi(e,0),qn(e,_e,Mt,!1)),ha(e,a),((we&2)===0||e!==Ge)&&(e===Ge&&((we&2)===0&&(pi|=a),Je===4&&qn(e,_e,Mt,!1)),$t(e))}function Ef(e,t,a){if((we&6)!==0)throw Error(o(327));var s=!a&&(t&127)===0&&(t&e.expiredLanes)===0||pa(e,t),d=s?py(e,t):wr(e,t,!0),p=s;do{if(d===0){Yi&&!s&&qn(e,t,0,!1);break}else{if(a=e.current.alternate,p&&!fy(a)){d=wr(e,t,!1),p=!1;continue}if(d===2){if(p=t,e.errorRecoveryDisabledLanes&p)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){t=S;e:{var E=e;d=Ka;var x=E.current.memoizedState.isDehydrated;if(x&&(Qi(E,S).flags|=256),S=wr(E,S,!1),S!==2){if(Er&&!x){E.errorRecoveryDisabledLanes|=p,pi|=p,d=4;break e}p=At,At=d,p!==null&&(At===null?At=p:At.push.apply(At,p))}d=S}if(p=!1,d!==2)continue}}if(d===1){Qi(e,0),qn(e,t,0,!0);break}e:{switch(s=e,p=d,p){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:qn(s,t,Mt,!Ln);break e;case 2:At=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(d=no+300-ft(),10<d)){if(qn(s,t,Mt,!Ln),pl(s,0,!0)!==0)break e;vn=t,s.timeoutHandle=em(Cf.bind(null,s,a,At,ao,xr,t,Mt,pi,Ki,Ln,p,"Throttled",-0,0),d);break e}Cf(s,a,At,ao,xr,t,Mt,pi,Ki,Ln,p,null,-0,0)}}break}while(!0);$t(e)}function Cf(e,t,a,s,d,p,S,E,x,w,q,J,k,B){if(e.timeoutHandle=-1,J=t.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:nn},gf(t,p,J);var oe=(p&62914560)===p?no-ft():(p&4194048)===p?Sf-ft():0;if(oe=Xy(J,oe),oe!==null){vn=p,e.cancelPendingCommit=oe(If.bind(null,e,t,p,a,s,d,S,E,x,q,J,null,k,B)),qn(e,p,S,!w);return}}If(e,t,p,a,s,d,S,E,x)}function fy(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var d=a[s],p=d.getSnapshot;d=d.value;try{if(!Et(p(),d))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qn(e,t,a,s){t&=~Cr,t&=~pi,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var d=t;0<d;){var p=31-ut(d),S=1<<p;s[p]=-1,d&=~S}a!==0&&Du(e,a,t)}function lo(){return(we&6)===0?(Qa(0),!1):!0}function Rr(){if(Ae!==null){if(Ie===0)var e=Ae.return;else e=Ae,sn=li=null,Js(e),Hi=null,ka=0,e=Ae;for(;e!==null;)ef(e.alternate,e),e=e.return;Ae=null}}function Qi(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Iy(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),vn=0,Rr(),Ge=e,Ae=a=ln(e.current,null),_e=t,Ie=0,bt=null,Ln=!1,Yi=pa(e,t),Er=!1,Ki=Mt=Cr=pi=Gn=Je=0,At=Ka=null,xr=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var d=31-ut(s),p=1<<d;t|=e[d],s&=~p}return yn=t,Nl(),a}function xf(e,t){ye=null,I.H=Ha,t===Pi||t===Ul?(t=qc(),Ie=3):t===Ds?(t=qc(),Ie=4):Ie=t===sr?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,bt=t,Ae===null&&(Je=1,jl(e,Ut(t,e.current)))}function Nf(){var e=xt.current;return e===null?!0:(_e&4194048)===_e?Pt===null:(_e&62914560)===_e||(_e&536870912)!==0?e===Pt:!1}function bf(){var e=I.H;return I.H=Ha,e===null?Ha:e}function Mf(){var e=I.A;return I.A=cy,e}function oo(){Je=4,Ln||(_e&4194048)!==_e&&xt.current!==null||(Yi=!0),(Gn&134217727)===0&&(pi&134217727)===0||Ge===null||qn(Ge,_e,Mt,!1)}function wr(e,t,a){var s=we;we|=2;var d=bf(),p=Mf();(Ge!==e||_e!==t)&&(ao=null,Qi(e,t)),t=!1;var S=Je;e:do try{if(Ie!==0&&Ae!==null){var E=Ae,x=bt;switch(Ie){case 8:Rr(),S=6;break e;case 3:case 2:case 9:case 6:xt.current===null&&(t=!0);var w=Ie;if(Ie=0,bt=null,Xi(e,E,x,w),a&&Yi){S=0;break e}break;default:w=Ie,Ie=0,bt=null,Xi(e,E,x,w)}}my(),S=Je;break}catch(q){xf(e,q)}while(!0);return t&&e.shellSuspendCounter++,sn=li=null,we=s,I.H=d,I.A=p,Ae===null&&(Ge=null,_e=0,Nl()),S}function my(){for(;Ae!==null;)Rf(Ae)}function py(e,t){var a=we;we|=2;var s=bf(),d=Mf();Ge!==e||_e!==t?(ao=null,io=ft()+500,Qi(e,t)):Yi=pa(e,t);e:do try{if(Ie!==0&&Ae!==null){t=Ae;var p=bt;t:switch(Ie){case 1:Ie=0,bt=null,Xi(e,t,p,1);break;case 2:case 9:if(Pc(p)){Ie=0,bt=null,wf(t);break}t=function(){Ie!==2&&Ie!==9||Ge!==e||(Ie=7),$t(e)},p.then(t,t);break e;case 3:Ie=7;break e;case 4:Ie=5;break e;case 7:Pc(p)?(Ie=0,bt=null,wf(t)):(Ie=0,bt=null,Xi(e,t,p,7));break;case 5:var S=null;switch(Ae.tag){case 26:S=Ae.memoizedState;case 5:case 27:var E=Ae;if(S?hm(S):E.stateNode.complete){Ie=0,bt=null;var x=E.sibling;if(x!==null)Ae=x;else{var w=E.return;w!==null?(Ae=w,so(w)):Ae=null}break t}}Ie=0,bt=null,Xi(e,t,p,5);break;case 6:Ie=0,bt=null,Xi(e,t,p,6);break;case 8:Rr(),Je=6;break e;default:throw Error(o(462))}}hy();break}catch(q){xf(e,q)}while(!0);return sn=li=null,I.H=s,I.A=d,we=a,Ae!==null?0:(Ge=null,_e=0,Nl(),Je)}function hy(){for(;Ae!==null&&!zo();)Rf(Ae)}function Rf(e){var t=$d(e.alternate,e,yn);e.memoizedProps=e.pendingProps,t===null?so(e):Ae=t}function wf(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Yd(a,t,t.pendingProps,t.type,void 0,_e);break;case 11:t=Yd(a,t,t.pendingProps,t.type.render,t.ref,_e);break;case 5:Js(t);default:ef(a,t),t=Ae=bc(t,yn),t=$d(a,t,yn)}e.memoizedProps=e.pendingProps,t===null?so(e):Ae=t}function Xi(e,t,a,s){sn=li=null,Js(t),Hi=null,ka=0;var d=t.return;try{if(iy(e,d,t,a,_e)){Je=1,jl(e,Ut(a,e.current)),Ae=null;return}}catch(p){if(d!==null)throw Ae=d,p;Je=1,jl(e,Ut(a,e.current)),Ae=null;return}t.flags&32768?(Ee||s===1?e=!0:Yi||(_e&536870912)!==0?e=!1:(Ln=e=!0,(s===2||s===9||s===3||s===6)&&(s=xt.current,s!==null&&s.tag===13&&(s.flags|=16384))),kf(t,e)):so(t)}function so(e){var t=e;do{if((t.flags&32768)!==0){kf(t,Ln);return}e=t.return;var a=oy(t.alternate,t,yn);if(a!==null){Ae=a;return}if(t=t.sibling,t!==null){Ae=t;return}Ae=t=e}while(t!==null);Je===0&&(Je=5)}function kf(e,t){do{var a=sy(e.alternate,e);if(a!==null){a.flags&=32767,Ae=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){Ae=e;return}Ae=e=a}while(e!==null);Je=6,Ae=null}function If(e,t,a,s,d,p,S,E,x){e.cancelPendingCommit=null;do ro();while(We!==0);if((we&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(p=t.lanes|t.childLanes,p|=vs,jh(e,a,p,S,E,x),e===Ge&&(Ae=Ge=null,_e=0),ji=t,Hn=e,vn=a,Nr=p,br=d,_f=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ay(Pe,function(){return Gf(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=I.T,I.T=null,d=$.p,$.p=2,S=we,we|=4;try{ry(e,t,a)}finally{we=S,$.p=d,I.T=s}}We=1,Df(),Uf(),Bf()}}function Df(){if(We===1){We=0;var e=Hn,t=ji,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=I.T,I.T=null;var s=$.p;$.p=2;var d=we;we|=4;try{mf(t,e);var p=zr,S=vc(e.containerInfo),E=p.focusedElem,x=p.selectionRange;if(S!==E&&E&&E.ownerDocument&&yc(E.ownerDocument.documentElement,E)){if(x!==null&&ms(E)){var w=x.start,q=x.end;if(q===void 0&&(q=w),"selectionStart"in E)E.selectionStart=w,E.selectionEnd=Math.min(q,E.value.length);else{var J=E.ownerDocument||document,k=J&&J.defaultView||window;if(k.getSelection){var B=k.getSelection(),oe=E.textContent.length,me=Math.min(x.start,oe),Le=x.end===void 0?me:Math.min(x.end,oe);!B.extend&&me>Le&&(S=Le,Le=me,me=S);var M=gc(E,me),b=gc(E,Le);if(M&&b&&(B.rangeCount!==1||B.anchorNode!==M.node||B.anchorOffset!==M.offset||B.focusNode!==b.node||B.focusOffset!==b.offset)){var R=J.createRange();R.setStart(M.node,M.offset),B.removeAllRanges(),me>Le?(B.addRange(R),B.extend(b.node,b.offset)):(R.setEnd(b.node,b.offset),B.addRange(R))}}}}for(J=[],B=E;B=B.parentNode;)B.nodeType===1&&J.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<J.length;E++){var F=J[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}_o=!!Vr,zr=Vr=null}finally{we=d,$.p=s,I.T=a}}e.current=t,We=2}}function Uf(){if(We===2){We=0;var e=Hn,t=ji,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=I.T,I.T=null;var s=$.p;$.p=2;var d=we;we|=4;try{rf(e,t.alternate,t)}finally{we=d,$.p=s,I.T=a}}We=3}}function Bf(){if(We===4||We===3){We=0,Fo();var e=Hn,t=ji,a=vn,s=_f;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?We=5:(We=0,ji=Hn=null,Lf(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(Pn=null),jo(a),t=t.stateNode,rt&&typeof rt.onCommitFiberRoot=="function")try{rt.onCommitFiberRoot(yi,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=I.T,d=$.p,$.p=2,I.T=null;try{for(var p=e.onRecoverableError,S=0;S<s.length;S++){var E=s[S];p(E.value,{componentStack:E.stack})}}finally{I.T=t,$.p=d}}(vn&3)!==0&&ro(),$t(e),d=e.pendingLanes,(a&261930)!==0&&(d&42)!==0?e===Mr?ja++:(ja=0,Mr=e):ja=0,Qa(0)}}function Lf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ra(t)))}function ro(){return Df(),Uf(),Bf(),Gf()}function Gf(){if(We!==5)return!1;var e=Hn,t=Nr;Nr=0;var a=jo(vn),s=I.T,d=$.p;try{$.p=32>a?32:a,I.T=null,a=br,br=null;var p=Hn,S=vn;if(We=0,ji=Hn=null,vn=0,(we&6)!==0)throw Error(o(331));var E=we;if(we|=4,vf(p.current),hf(p,p.current,S,a),we=E,Qa(0,!1),rt&&typeof rt.onPostCommitFiberRoot=="function")try{rt.onPostCommitFiberRoot(yi,p)}catch{}return!0}finally{$.p=d,I.T=s,Lf(e,t)}}function Pf(e,t,a){t=Ut(a,t),t=or(e.stateNode,t,2),e=In(e,t,2),e!==null&&(ha(e,2),$t(e))}function De(e,t,a){if(e.tag===3)Pf(e,e,a);else for(;t!==null;){if(t.tag===3){Pf(t,e,a);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Pn===null||!Pn.has(s))){e=Ut(a,e),a=Pd(2),s=In(t,a,2),s!==null&&(Hd(a,s,t,e),ha(s,2),$t(s));break}}t=t.return}}function kr(e,t,a){var s=e.pingCache;if(s===null){s=e.pingCache=new dy;var d=new Set;s.set(t,d)}else d=s.get(t),d===void 0&&(d=new Set,s.set(t,d));d.has(a)||(Er=!0,d.add(a),e=gy.bind(null,e,t,a),t.then(e,e))}function gy(e,t,a){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ge===e&&(_e&a)===a&&(Je===4||Je===3&&(_e&62914560)===_e&&300>ft()-no?(we&2)===0&&Qi(e,0):Cr|=a,Ki===_e&&(Ki=0)),$t(e)}function Hf(e,t){t===0&&(t=Iu()),e=ni(e,t),e!==null&&(ha(e,t),$t(e))}function yy(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Hf(e,a)}function vy(e,t){var a=0;switch(e.tag){case 31:case 13:var s=e.stateNode,d=e.memoizedState;d!==null&&(a=d.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(o(314))}s!==null&&s.delete(t),Hf(e,a)}function Ay(e,t){return fa(e,t)}var uo=null,Zi=null,Ir=!1,co=!1,Dr=!1,Vn=0;function $t(e){e!==Zi&&e.next===null&&(Zi===null?uo=Zi=e:Zi=Zi.next=e),co=!0,Ir||(Ir=!0,_y())}function Qa(e,t){if(!Dr&&co){Dr=!0;do for(var a=!1,s=uo;s!==null;){if(e!==0){var d=s.pendingLanes;if(d===0)var p=0;else{var S=s.suspendedLanes,E=s.pingedLanes;p=(1<<31-ut(42|e)+1)-1,p&=d&~(S&~E),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(a=!0,Ff(s,p))}else p=_e,p=pl(s,s===Ge?p:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(p&3)===0||pa(s,p)||(a=!0,Ff(s,p));s=s.next}while(a);Dr=!1}}function Sy(){qf()}function qf(){co=Ir=!1;var e=0;Vn!==0&&ky()&&(e=Vn);for(var t=ft(),a=null,s=uo;s!==null;){var d=s.next,p=Vf(s,t);p===0?(s.next=null,a===null?uo=d:a.next=d,d===null&&(Zi=a)):(a=s,(e!==0||(p&3)!==0)&&(co=!0)),s=d}We!==0&&We!==5||Qa(e),Vn!==0&&(Vn=0)}function Vf(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,d=e.expirationTimes,p=e.pendingLanes&-62914561;0<p;){var S=31-ut(p),E=1<<S,x=d[S];x===-1?((E&a)===0||(E&s)!==0)&&(d[S]=Kh(E,t)):x<=t&&(e.expiredLanes|=E),p&=~E}if(t=Ge,a=_e,a=pl(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,a===0||e===t&&(Ie===2||Ie===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&ma(s),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||pa(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(s!==null&&ma(s),jo(a)){case 2:case 8:a=Ne;break;case 32:a=Pe;break;case 268435456:a=$e;break;default:a=Pe}return s=zf.bind(null,e),a=fa(a,s),e.callbackPriority=t,e.callbackNode=a,t}return s!==null&&s!==null&&ma(s),e.callbackPriority=2,e.callbackNode=null,2}function zf(e,t){if(We!==0&&We!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(ro()&&e.callbackNode!==a)return null;var s=_e;return s=pl(e,e===Ge?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Ef(e,s,t),Vf(e,ft()),e.callbackNode!=null&&e.callbackNode===a?zf.bind(null,e):null)}function Ff(e,t){if(ro())return null;Ef(e,t,!0)}function _y(){Dy(function(){(we&6)!==0?fa(le,Sy):qf()})}function Ur(){if(Vn===0){var e=Li;e===0&&(e=dl,dl<<=1,(dl&261888)===0&&(dl=256)),Vn=e}return Vn}function Of(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:vl(""+e)}function Jf(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Ty(e,t,a,s,d){if(t==="submit"&&a&&a.stateNode===d){var p=Of((d[pt]||null).action),S=s.submitter;S&&(t=(t=S[pt]||null)?Of(t.formAction):S.getAttribute("formAction"),t!==null&&(p=t,S=null));var E=new Tl("action","action",null,s,d);e.push({event:E,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Vn!==0){var x=S?Jf(d,S):new FormData(d);er(a,{pending:!0,data:x,method:d.method,action:p},null,x)}}else typeof p=="function"&&(E.preventDefault(),x=S?Jf(d,S):new FormData(d),er(a,{pending:!0,data:x,method:d.method,action:p},p,x))},currentTarget:d}]})}}for(var Br=0;Br<ys.length;Br++){var Lr=ys[Br],Ey=Lr.toLowerCase(),Cy=Lr[0].toUpperCase()+Lr.slice(1);Ot(Ey,"on"+Cy)}Ot(_c,"onAnimationEnd"),Ot(Tc,"onAnimationIteration"),Ot(Ec,"onAnimationStart"),Ot("dblclick","onDoubleClick"),Ot("focusin","onFocus"),Ot("focusout","onBlur"),Ot(qg,"onTransitionRun"),Ot(Vg,"onTransitionStart"),Ot(zg,"onTransitionCancel"),Ot(Cc,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),$n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$n("onBeforeInput",["compositionend","keypress","textInput","paste"]),$n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xa));function Yf(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],d=s.event;s=s.listeners;e:{var p=void 0;if(t)for(var S=s.length-1;0<=S;S--){var E=s[S],x=E.instance,w=E.currentTarget;if(E=E.listener,x!==p&&d.isPropagationStopped())break e;p=E,d.currentTarget=w;try{p(d)}catch(q){xl(q)}d.currentTarget=null,p=x}else for(S=0;S<s.length;S++){if(E=s[S],x=E.instance,w=E.currentTarget,E=E.listener,x!==p&&d.isPropagationStopped())break e;p=E,d.currentTarget=w;try{p(d)}catch(q){xl(q)}d.currentTarget=null,p=x}}}}function Se(e,t){var a=t[Qo];a===void 0&&(a=t[Qo]=new Set);var s=e+"__bubble";a.has(s)||(Kf(t,e,2,!1),a.add(s))}function Gr(e,t,a){var s=0;t&&(s|=4),Kf(a,e,s,t)}var fo="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){if(!e[fo]){e[fo]=!0,Hu.forEach(function(a){a!=="selectionchange"&&(xy.has(a)||Gr(a,!1,e),Gr(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[fo]||(t[fo]=!0,Gr("selectionchange",!1,t))}}function Kf(e,t,a,s){switch(Tm(t)){case 2:var d=Wy;break;case 8:d=e0;break;default:d=Wr}a=d.bind(null,t,a,e),d=void 0,!as||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(d=!0),s?d!==void 0?e.addEventListener(t,a,{capture:!0,passive:d}):e.addEventListener(t,a,!0):d!==void 0?e.addEventListener(t,a,{passive:d}):e.addEventListener(t,a,!1)}function Hr(e,t,a,s,d){var p=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var S=s.tag;if(S===3||S===4){var E=s.stateNode.containerInfo;if(E===d)break;if(S===4)for(S=s.return;S!==null;){var x=S.tag;if((x===3||x===4)&&S.stateNode.containerInfo===d)return;S=S.return}for(;E!==null;){if(S=Ai(E),S===null)return;if(x=S.tag,x===5||x===6||x===26||x===27){s=p=S;continue e}E=E.parentNode}}s=s.return}Zu(function(){var w=p,q=ns(a),J=[];e:{var k=xc.get(e);if(k!==void 0){var B=Tl,oe=e;switch(e){case"keypress":if(Sl(a)===0)break e;case"keydown":case"keyup":B=vg;break;case"focusin":oe="focus",B=rs;break;case"focusout":oe="blur",B=rs;break;case"beforeblur":case"afterblur":B=rs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=ec;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=og;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=_g;break;case _c:case Tc:case Ec:B=ug;break;case Cc:B=Eg;break;case"scroll":case"scrollend":B=ag;break;case"wheel":B=xg;break;case"copy":case"cut":case"paste":B=dg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=nc;break;case"toggle":case"beforetoggle":B=bg}var me=(t&4)!==0,Le=!me&&(e==="scroll"||e==="scrollend"),M=me?k!==null?k+"Capture":null:k;me=[];for(var b=w,R;b!==null;){var F=b;if(R=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||R===null||M===null||(F=va(b,M),F!=null&&me.push(Za(b,F,R))),Le)break;b=b.return}0<me.length&&(k=new B(k,oe,null,a,q),J.push({event:k,listeners:me}))}}if((t&7)===0){e:{if(k=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",k&&a!==ts&&(oe=a.relatedTarget||a.fromElement)&&(Ai(oe)||oe[vi]))break e;if((B||k)&&(k=q.window===q?q:(k=q.ownerDocument)?k.defaultView||k.parentWindow:window,B?(oe=a.relatedTarget||a.toElement,B=w,oe=oe?Ai(oe):null,oe!==null&&(Le=f(oe),me=oe.tag,oe!==Le||me!==5&&me!==27&&me!==6)&&(oe=null)):(B=null,oe=w),B!==oe)){if(me=ec,F="onMouseLeave",M="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(me=nc,F="onPointerLeave",M="onPointerEnter",b="pointer"),Le=B==null?k:ya(B),R=oe==null?k:ya(oe),k=new me(F,b+"leave",B,a,q),k.target=Le,k.relatedTarget=R,F=null,Ai(q)===w&&(me=new me(M,b+"enter",oe,a,q),me.target=R,me.relatedTarget=Le,F=me),Le=F,B&&oe)t:{for(me=Ny,M=B,b=oe,R=0,F=M;F;F=me(F))R++;F=0;for(var de=b;de;de=me(de))F++;for(;0<R-F;)M=me(M),R--;for(;0<F-R;)b=me(b),F--;for(;R--;){if(M===b||b!==null&&M===b.alternate){me=M;break t}M=me(M),b=me(b)}me=null}else me=null;B!==null&&jf(J,k,B,me,!1),oe!==null&&Le!==null&&jf(J,Le,oe,me,!0)}}e:{if(k=w?ya(w):window,B=k.nodeName&&k.nodeName.toLowerCase(),B==="select"||B==="input"&&k.type==="file")var be=cc;else if(rc(k))if(dc)be=Gg;else{be=Bg;var se=Ug}else B=k.nodeName,!B||B.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?w&&es(w.elementType)&&(be=cc):be=Lg;if(be&&(be=be(e,w))){uc(J,be,a,q);break e}se&&se(e,k,w),e==="focusout"&&w&&k.type==="number"&&w.memoizedProps.value!=null&&Wo(k,"number",k.value)}switch(se=w?ya(w):window,e){case"focusin":(rc(se)||se.contentEditable==="true")&&(Mi=se,ps=w,Na=null);break;case"focusout":Na=ps=Mi=null;break;case"mousedown":hs=!0;break;case"contextmenu":case"mouseup":case"dragend":hs=!1,Ac(J,a,q);break;case"selectionchange":if(Hg)break;case"keydown":case"keyup":Ac(J,a,q)}var ve;if(cs)e:{switch(e){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else bi?oc(e,a)&&(Te="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&(ic&&a.locale!=="ko"&&(bi||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&bi&&(ve=$u()):(xn=q,ls="value"in xn?xn.value:xn.textContent,bi=!0)),se=mo(w,Te),0<se.length&&(Te=new tc(Te,e,null,a,q),J.push({event:Te,listeners:se}),ve?Te.data=ve:(ve=sc(a),ve!==null&&(Te.data=ve)))),(ve=Rg?wg(e,a):kg(e,a))&&(Te=mo(w,"onBeforeInput"),0<Te.length&&(se=new tc("onBeforeInput","beforeinput",null,a,q),J.push({event:se,listeners:Te}),se.data=ve)),Ty(J,e,w,a,q)}Yf(J,t)})}function Za(e,t,a){return{instance:e,listener:t,currentTarget:a}}function mo(e,t){for(var a=t+"Capture",s=[];e!==null;){var d=e,p=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||p===null||(d=va(e,a),d!=null&&s.unshift(Za(e,d,p)),d=va(e,t),d!=null&&s.push(Za(e,d,p))),e.tag===3)return s;e=e.return}return[]}function Ny(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function jf(e,t,a,s,d){for(var p=t._reactName,S=[];a!==null&&a!==s;){var E=a,x=E.alternate,w=E.stateNode;if(E=E.tag,x!==null&&x===s)break;E!==5&&E!==26&&E!==27||w===null||(x=w,d?(w=va(a,p),w!=null&&S.unshift(Za(a,w,x))):d||(w=va(a,p),w!=null&&S.push(Za(a,w,x)))),a=a.return}S.length!==0&&e.push({event:t,listeners:S})}var by=/\r\n?/g,My=/\u0000|\uFFFD/g;function Qf(e){return(typeof e=="string"?e:""+e).replace(by,`
`).replace(My,"")}function Xf(e,t){return t=Qf(t),Qf(e)===t}function Be(e,t,a,s,d,p){switch(a){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Ci(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Ci(e,""+s);break;case"className":gl(e,"class",s);break;case"tabIndex":gl(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":gl(e,a,s);break;case"style":Qu(e,s,p);break;case"data":if(t!=="object"){gl(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=vl(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(t!=="input"&&Be(e,t,"name",d.name,d,null),Be(e,t,"formEncType",d.formEncType,d,null),Be(e,t,"formMethod",d.formMethod,d,null),Be(e,t,"formTarget",d.formTarget,d,null)):(Be(e,t,"encType",d.encType,d,null),Be(e,t,"method",d.method,d,null),Be(e,t,"target",d.target,d,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=vl(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=nn);break;case"onScroll":s!=null&&Se("scroll",e);break;case"onScrollEnd":s!=null&&Se("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(o(61));if(a=s.__html,a!=null){if(d.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=vl(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":Se("beforetoggle",e),Se("toggle",e),hl(e,"popover",s);break;case"xlinkActuate":tn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":tn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":tn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":tn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":tn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":tn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":tn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":tn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":tn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":hl(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ng.get(a)||a,hl(e,a,s))}}function qr(e,t,a,s,d,p){switch(a){case"style":Qu(e,s,p);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(o(61));if(a=s.__html,a!=null){if(d.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"children":typeof s=="string"?Ci(e,s):(typeof s=="number"||typeof s=="bigint")&&Ci(e,""+s);break;case"onScroll":s!=null&&Se("scroll",e);break;case"onScrollEnd":s!=null&&Se("scrollend",e);break;case"onClick":s!=null&&(e.onclick=nn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qu.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),t=a.slice(2,d?a.length-7:void 0),p=e[pt]||null,p=p!=null?p[a]:null,typeof p=="function"&&e.removeEventListener(t,p,d),typeof s=="function")){typeof p!="function"&&p!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,s,d);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):hl(e,a,s)}}}function ot(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Se("error",e),Se("load",e);var s=!1,d=!1,p;for(p in a)if(a.hasOwnProperty(p)){var S=a[p];if(S!=null)switch(p){case"src":s=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Be(e,t,p,S,a,null)}}d&&Be(e,t,"srcSet",a.srcSet,a,null),s&&Be(e,t,"src",a.src,a,null);return;case"input":Se("invalid",e);var E=p=S=d=null,x=null,w=null;for(s in a)if(a.hasOwnProperty(s)){var q=a[s];if(q!=null)switch(s){case"name":d=q;break;case"type":S=q;break;case"checked":x=q;break;case"defaultChecked":w=q;break;case"value":p=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(o(137,t));break;default:Be(e,t,s,q,a,null)}}Ju(e,p,E,x,w,S,d,!1);return;case"select":Se("invalid",e),s=S=p=null;for(d in a)if(a.hasOwnProperty(d)&&(E=a[d],E!=null))switch(d){case"value":p=E;break;case"defaultValue":S=E;break;case"multiple":s=E;default:Be(e,t,d,E,a,null)}t=p,a=S,e.multiple=!!s,t!=null?Ei(e,!!s,t,!1):a!=null&&Ei(e,!!s,a,!0);return;case"textarea":Se("invalid",e),p=d=s=null;for(S in a)if(a.hasOwnProperty(S)&&(E=a[S],E!=null))switch(S){case"value":s=E;break;case"defaultValue":d=E;break;case"children":p=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(o(91));break;default:Be(e,t,S,E,a,null)}Ku(e,s,d,p);return;case"option":for(x in a)if(a.hasOwnProperty(x)&&(s=a[x],s!=null))switch(x){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Be(e,t,x,s,a,null)}return;case"dialog":Se("beforetoggle",e),Se("toggle",e),Se("cancel",e),Se("close",e);break;case"iframe":case"object":Se("load",e);break;case"video":case"audio":for(s=0;s<Xa.length;s++)Se(Xa[s],e);break;case"image":Se("error",e),Se("load",e);break;case"details":Se("toggle",e);break;case"embed":case"source":case"link":Se("error",e),Se("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(w in a)if(a.hasOwnProperty(w)&&(s=a[w],s!=null))switch(w){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Be(e,t,w,s,a,null)}return;default:if(es(t)){for(q in a)a.hasOwnProperty(q)&&(s=a[q],s!==void 0&&qr(e,t,q,s,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(s=a[E],s!=null&&Be(e,t,E,s,a,null))}function Ry(e,t,a,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,p=null,S=null,E=null,x=null,w=null,q=null;for(B in a){var J=a[B];if(a.hasOwnProperty(B)&&J!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":x=J;default:s.hasOwnProperty(B)||Be(e,t,B,null,s,J)}}for(var k in s){var B=s[k];if(J=a[k],s.hasOwnProperty(k)&&(B!=null||J!=null))switch(k){case"type":p=B;break;case"name":d=B;break;case"checked":w=B;break;case"defaultChecked":q=B;break;case"value":S=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(o(137,t));break;default:B!==J&&Be(e,t,k,B,s,J)}}$o(e,S,E,x,w,q,p,d);return;case"select":B=S=E=k=null;for(p in a)if(x=a[p],a.hasOwnProperty(p)&&x!=null)switch(p){case"value":break;case"multiple":B=x;default:s.hasOwnProperty(p)||Be(e,t,p,null,s,x)}for(d in s)if(p=s[d],x=a[d],s.hasOwnProperty(d)&&(p!=null||x!=null))switch(d){case"value":k=p;break;case"defaultValue":E=p;break;case"multiple":S=p;default:p!==x&&Be(e,t,d,p,s,x)}t=E,a=S,s=B,k!=null?Ei(e,!!a,k,!1):!!s!=!!a&&(t!=null?Ei(e,!!a,t,!0):Ei(e,!!a,a?[]:"",!1));return;case"textarea":B=k=null;for(E in a)if(d=a[E],a.hasOwnProperty(E)&&d!=null&&!s.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Be(e,t,E,null,s,d)}for(S in s)if(d=s[S],p=a[S],s.hasOwnProperty(S)&&(d!=null||p!=null))switch(S){case"value":k=d;break;case"defaultValue":B=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(o(91));break;default:d!==p&&Be(e,t,S,d,s,p)}Yu(e,k,B);return;case"option":for(var oe in a)if(k=a[oe],a.hasOwnProperty(oe)&&k!=null&&!s.hasOwnProperty(oe))switch(oe){case"selected":e.selected=!1;break;default:Be(e,t,oe,null,s,k)}for(x in s)if(k=s[x],B=a[x],s.hasOwnProperty(x)&&k!==B&&(k!=null||B!=null))switch(x){case"selected":e.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Be(e,t,x,k,s,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var me in a)k=a[me],a.hasOwnProperty(me)&&k!=null&&!s.hasOwnProperty(me)&&Be(e,t,me,null,s,k);for(w in s)if(k=s[w],B=a[w],s.hasOwnProperty(w)&&k!==B&&(k!=null||B!=null))switch(w){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(o(137,t));break;default:Be(e,t,w,k,s,B)}return;default:if(es(t)){for(var Le in a)k=a[Le],a.hasOwnProperty(Le)&&k!==void 0&&!s.hasOwnProperty(Le)&&qr(e,t,Le,void 0,s,k);for(q in s)k=s[q],B=a[q],!s.hasOwnProperty(q)||k===B||k===void 0&&B===void 0||qr(e,t,q,k,s,B);return}}for(var M in a)k=a[M],a.hasOwnProperty(M)&&k!=null&&!s.hasOwnProperty(M)&&Be(e,t,M,null,s,k);for(J in s)k=s[J],B=a[J],!s.hasOwnProperty(J)||k===B||k==null&&B==null||Be(e,t,J,k,s,B)}function Zf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function wy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),s=0;s<a.length;s++){var d=a[s],p=d.transferSize,S=d.initiatorType,E=d.duration;if(p&&E&&Zf(S)){for(S=0,E=d.responseEnd,s+=1;s<a.length;s++){var x=a[s],w=x.startTime;if(w>E)break;var q=x.transferSize,J=x.initiatorType;q&&Zf(J)&&(x=x.responseEnd,S+=q*(x<E?1:(E-w)/(x-w)))}if(--s,t+=8*(p+S)/(d.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Vr=null,zr=null;function po(e){return e.nodeType===9?e:e.ownerDocument}function $f(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Fr(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Or=null;function ky(){var e=window.event;return e&&e.type==="popstate"?e===Or?!1:(Or=e,!0):(Or=null,!1)}var em=typeof setTimeout=="function"?setTimeout:void 0,Iy=typeof clearTimeout=="function"?clearTimeout:void 0,tm=typeof Promise=="function"?Promise:void 0,Dy=typeof queueMicrotask=="function"?queueMicrotask:typeof tm<"u"?function(e){return tm.resolve(null).then(e).catch(Uy)}:em;function Uy(e){setTimeout(function(){throw e})}function zn(e){return e==="head"}function nm(e,t){var a=t,s=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"||a==="/&"){if(s===0){e.removeChild(d),ta(t);return}s--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")s++;else if(a==="html")$a(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,$a(a);for(var p=a.firstChild;p;){var S=p.nextSibling,E=p.nodeName;p[ga]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&p.rel.toLowerCase()==="stylesheet"||a.removeChild(p),p=S}}else a==="body"&&$a(e.ownerDocument.body);a=d}while(a);ta(t)}function im(e,t){var a=e;e=0;do{var s=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),s&&s.nodeType===8)if(a=s.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=s}while(a)}function Jr(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Jr(a),Xo(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function By(e,t,a,s){for(;e.nodeType===1;){var d=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[ga])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(p=e.getAttribute("rel"),p==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(p!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(p=e.getAttribute("src"),(p!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&p&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var p=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===p)return e}else return e;if(e=Ht(e.nextSibling),e===null)break}return null}function Ly(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Ht(e.nextSibling),e===null))return null;return e}function am(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Ht(e.nextSibling),e===null))return null;return e}function Yr(e){return e.data==="$?"||e.data==="$~"}function Kr(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Gy(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var s=function(){t(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Ht(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var jr=null;function lm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Ht(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function om(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function sm(e,t,a){switch(t=po(a),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function $a(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Xo(e)}var qt=new Map,rm=new Set;function ho(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var An=$.d;$.d={f:Py,r:Hy,D:qy,C:Vy,L:zy,m:Fy,X:Jy,S:Oy,M:Yy};function Py(){var e=An.f(),t=lo();return e||t}function Hy(e){var t=Si(e);t!==null&&t.tag===5&&t.type==="form"?Cd(t):An.r(e)}var $i=typeof document>"u"?null:document;function um(e,t,a){var s=$i;if(s&&typeof t=="string"&&t){var d=It(t);d='link[rel="'+e+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),rm.has(d)||(rm.add(d),e={rel:e,crossOrigin:a,href:t},s.querySelector(d)===null&&(t=s.createElement("link"),ot(t,"link",e),et(t),s.head.appendChild(t)))}}function qy(e){An.D(e),um("dns-prefetch",e,null)}function Vy(e,t){An.C(e,t),um("preconnect",e,t)}function zy(e,t,a){An.L(e,t,a);var s=$i;if(s&&e&&t){var d='link[rel="preload"][as="'+It(t)+'"]';t==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+It(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+It(a.imageSizes)+'"]')):d+='[href="'+It(e)+'"]';var p=d;switch(t){case"style":p=Wi(e);break;case"script":p=ea(e)}qt.has(p)||(e=_({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),qt.set(p,e),s.querySelector(d)!==null||t==="style"&&s.querySelector(Wa(p))||t==="script"&&s.querySelector(el(p))||(t=s.createElement("link"),ot(t,"link",e),et(t),s.head.appendChild(t)))}}function Fy(e,t){An.m(e,t);var a=$i;if(a&&e){var s=t&&typeof t.as=="string"?t.as:"script",d='link[rel="modulepreload"][as="'+It(s)+'"][href="'+It(e)+'"]',p=d;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=ea(e)}if(!qt.has(p)&&(e=_({rel:"modulepreload",href:e},t),qt.set(p,e),a.querySelector(d)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(el(p)))return}s=a.createElement("link"),ot(s,"link",e),et(s),a.head.appendChild(s)}}}function Oy(e,t,a){An.S(e,t,a);var s=$i;if(s&&e){var d=_i(s).hoistableStyles,p=Wi(e);t=t||"default";var S=d.get(p);if(!S){var E={loading:0,preload:null};if(S=s.querySelector(Wa(p)))E.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":t},a),(a=qt.get(p))&&Qr(e,a);var x=S=s.createElement("link");et(x),ot(x,"link",e),x._p=new Promise(function(w,q){x.onload=w,x.onerror=q}),x.addEventListener("load",function(){E.loading|=1}),x.addEventListener("error",function(){E.loading|=2}),E.loading|=4,go(S,t,s)}S={type:"stylesheet",instance:S,count:1,state:E},d.set(p,S)}}}function Jy(e,t){An.X(e,t);var a=$i;if(a&&e){var s=_i(a).hoistableScripts,d=ea(e),p=s.get(d);p||(p=a.querySelector(el(d)),p||(e=_({src:e,async:!0},t),(t=qt.get(d))&&Xr(e,t),p=a.createElement("script"),et(p),ot(p,"link",e),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},s.set(d,p))}}function Yy(e,t){An.M(e,t);var a=$i;if(a&&e){var s=_i(a).hoistableScripts,d=ea(e),p=s.get(d);p||(p=a.querySelector(el(d)),p||(e=_({src:e,async:!0,type:"module"},t),(t=qt.get(d))&&Xr(e,t),p=a.createElement("script"),et(p),ot(p,"link",e),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},s.set(d,p))}}function cm(e,t,a,s){var d=(d=te.current)?ho(d):null;if(!d)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Wi(a.href),a=_i(d).hoistableStyles,s=a.get(t),s||(s={type:"style",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Wi(a.href);var p=_i(d).hoistableStyles,S=p.get(e);if(S||(d=d.ownerDocument||d,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(e,S),(p=d.querySelector(Wa(e)))&&!p._p&&(S.instance=p,S.state.loading=5),qt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},qt.set(e,a),p||Ky(d,e,a,S.state))),t&&s===null)throw Error(o(528,""));return S}if(t&&s!==null)throw Error(o(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ea(a),a=_i(d).hoistableScripts,s=a.get(t),s||(s={type:"script",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Wi(e){return'href="'+It(e)+'"'}function Wa(e){return'link[rel="stylesheet"]['+e+"]"}function dm(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function Ky(e,t,a,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),ot(t,"link",a),et(t),e.head.appendChild(t))}function ea(e){return'[src="'+It(e)+'"]'}function el(e){return"script[async]"+e}function fm(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+It(a.href)+'"]');if(s)return t.instance=s,et(s),s;var d=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),et(s),ot(s,"style",d),go(s,a.precedence,e),t.instance=s;case"stylesheet":d=Wi(a.href);var p=e.querySelector(Wa(d));if(p)return t.state.loading|=4,t.instance=p,et(p),p;s=dm(a),(d=qt.get(d))&&Qr(s,d),p=(e.ownerDocument||e).createElement("link"),et(p);var S=p;return S._p=new Promise(function(E,x){S.onload=E,S.onerror=x}),ot(p,"link",s),t.state.loading|=4,go(p,a.precedence,e),t.instance=p;case"script":return p=ea(a.src),(d=e.querySelector(el(p)))?(t.instance=d,et(d),d):(s=a,(d=qt.get(p))&&(s=_({},a),Xr(s,d)),e=e.ownerDocument||e,d=e.createElement("script"),et(d),ot(d,"link",s),e.head.appendChild(d),t.instance=d);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,go(s,a.precedence,e));return t.instance}function go(e,t,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=s.length?s[s.length-1]:null,p=d,S=0;S<s.length;S++){var E=s[S];if(E.dataset.precedence===t)p=E;else if(p!==d)break}p?p.parentNode.insertBefore(e,p.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Qr(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Xr(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var yo=null;function mm(e,t,a){if(yo===null){var s=new Map,d=yo=new Map;d.set(a,s)}else d=yo,s=d.get(a),s||(s=new Map,d.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),d=0;d<a.length;d++){var p=a[d];if(!(p[ga]||p[nt]||e==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var S=p.getAttribute(t)||"";S=e+S;var E=s.get(S);E?E.push(p):s.set(S,[p])}}return s}function pm(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function jy(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function hm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Qy(e,t,a,s){if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=Wi(s.href),p=t.querySelector(Wa(d));if(p){t=p._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=vo.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=p,et(p);return}p=t.ownerDocument||t,s=dm(s),(d=qt.get(d))&&Qr(s,d),p=p.createElement("link"),et(p);var S=p;S._p=new Promise(function(E,x){S.onload=E,S.onerror=x}),ot(p,"link",s),a.instance=p}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=vo.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Zr=0;function Xy(e,t){return e.stylesheets&&e.count===0&&So(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var s=setTimeout(function(){if(e.stylesheets&&So(e,e.stylesheets),e.unsuspend){var p=e.unsuspend;e.unsuspend=null,p()}},6e4+t);0<e.imgBytes&&Zr===0&&(Zr=62500*wy());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&So(e,e.stylesheets),e.unsuspend)){var p=e.unsuspend;e.unsuspend=null,p()}},(e.imgBytes>Zr?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(d)}}:null}function vo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)So(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ao=null;function So(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ao=new Map,t.forEach(Zy,e),Ao=null,vo.call(e))}function Zy(e,t){if(!(t.state.loading&4)){var a=Ao.get(e);if(a)var s=a.get(null);else{a=new Map,Ao.set(e,a);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<d.length;p++){var S=d[p];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(a.set(S.dataset.precedence,S),s=S)}s&&a.set(null,s)}d=t.instance,S=d.getAttribute("data-precedence"),p=a.get(S)||s,p===s&&a.set(null,d),a.set(S,d),this.count++,s=vo.bind(this),d.addEventListener("load",s),d.addEventListener("error",s),p?p.parentNode.insertBefore(d,p.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),t.state.loading|=4}}var tl={$$typeof:O,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function $y(e,t,a,s,d,p,S,E,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yo(0),this.hiddenUpdates=Yo(null),this.identifierPrefix=s,this.onUncaughtError=d,this.onCaughtError=p,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function gm(e,t,a,s,d,p,S,E,x,w,q,J){return e=new $y(e,t,a,S,x,w,q,J,E),t=1,p===!0&&(t|=24),p=Ct(3,null,null,t),e.current=p,p.stateNode=e,t=ws(),t.refCount++,e.pooledCache=t,t.refCount++,p.memoizedState={element:s,isDehydrated:a,cache:t},Us(p),e}function ym(e){return e?(e=ki,e):ki}function vm(e,t,a,s,d,p){d=ym(d),s.context===null?s.context=d:s.pendingContext=d,s=kn(t),s.payload={element:a},p=p===void 0?null:p,p!==null&&(s.callback=p),a=In(e,s,t),a!==null&&(St(a,e,t),Da(a,e,t))}function Am(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function $r(e,t){Am(e,t),(e=e.alternate)&&Am(e,t)}function Sm(e){if(e.tag===13||e.tag===31){var t=ni(e,67108864);t!==null&&St(t,e,67108864),$r(e,67108864)}}function _m(e){if(e.tag===13||e.tag===31){var t=Rt();t=Ko(t);var a=ni(e,t);a!==null&&St(a,e,t),$r(e,t)}}var _o=!0;function Wy(e,t,a,s){var d=I.T;I.T=null;var p=$.p;try{$.p=2,Wr(e,t,a,s)}finally{$.p=p,I.T=d}}function e0(e,t,a,s){var d=I.T;I.T=null;var p=$.p;try{$.p=8,Wr(e,t,a,s)}finally{$.p=p,I.T=d}}function Wr(e,t,a,s){if(_o){var d=eu(s);if(d===null)Hr(e,t,s,To,a),Em(e,s);else if(n0(d,e,t,a,s))s.stopPropagation();else if(Em(e,s),t&4&&-1<t0.indexOf(e)){for(;d!==null;){var p=Si(d);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var S=Zn(p.pendingLanes);if(S!==0){var E=p;for(E.pendingLanes|=2,E.entangledLanes|=2;S;){var x=1<<31-ut(S);E.entanglements[1]|=x,S&=~x}$t(p),(we&6)===0&&(io=ft()+500,Qa(0))}}break;case 31:case 13:E=ni(p,2),E!==null&&St(E,p,2),lo(),$r(p,2)}if(p=eu(s),p===null&&Hr(e,t,s,To,a),p===d)break;d=p}d!==null&&s.stopPropagation()}else Hr(e,t,s,null,a)}}function eu(e){return e=ns(e),tu(e)}var To=null;function tu(e){if(To=null,e=Ai(e),e!==null){var t=f(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=m(t),e!==null)return e;e=null}else if(a===31){if(e=g(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return To=e,null}function Tm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Oo()){case le:return 2;case Ne:return 8;case Pe:case st:return 32;case $e:return 268435456;default:return 32}default:return 32}}var nu=!1,Fn=null,On=null,Jn=null,nl=new Map,il=new Map,Yn=[],t0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Em(e,t){switch(e){case"focusin":case"focusout":Fn=null;break;case"dragenter":case"dragleave":On=null;break;case"mouseover":case"mouseout":Jn=null;break;case"pointerover":case"pointerout":nl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":il.delete(t.pointerId)}}function al(e,t,a,s,d,p){return e===null||e.nativeEvent!==p?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:p,targetContainers:[d]},t!==null&&(t=Si(t),t!==null&&Sm(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,d!==null&&t.indexOf(d)===-1&&t.push(d),e)}function n0(e,t,a,s,d){switch(t){case"focusin":return Fn=al(Fn,e,t,a,s,d),!0;case"dragenter":return On=al(On,e,t,a,s,d),!0;case"mouseover":return Jn=al(Jn,e,t,a,s,d),!0;case"pointerover":var p=d.pointerId;return nl.set(p,al(nl.get(p)||null,e,t,a,s,d)),!0;case"gotpointercapture":return p=d.pointerId,il.set(p,al(il.get(p)||null,e,t,a,s,d)),!0}return!1}function Cm(e){var t=Ai(e.target);if(t!==null){var a=f(t);if(a!==null){if(t=a.tag,t===13){if(t=m(a),t!==null){e.blockedOn=t,Gu(e.priority,function(){_m(a)});return}}else if(t===31){if(t=g(a),t!==null){e.blockedOn=t,Gu(e.priority,function(){_m(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Eo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=eu(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);ts=s,a.target.dispatchEvent(s),ts=null}else return t=Si(a),t!==null&&Sm(t),e.blockedOn=a,!1;t.shift()}return!0}function xm(e,t,a){Eo(e)&&a.delete(t)}function i0(){nu=!1,Fn!==null&&Eo(Fn)&&(Fn=null),On!==null&&Eo(On)&&(On=null),Jn!==null&&Eo(Jn)&&(Jn=null),nl.forEach(xm),il.forEach(xm)}function Co(e,t){e.blockedOn===t&&(e.blockedOn=null,nu||(nu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,i0)))}var xo=null;function Nm(e){xo!==e&&(xo=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){xo===e&&(xo=null);for(var t=0;t<e.length;t+=3){var a=e[t],s=e[t+1],d=e[t+2];if(typeof s!="function"){if(tu(s||a)===null)continue;break}var p=Si(a);p!==null&&(e.splice(t,3),t-=3,er(p,{pending:!0,data:d,method:a.method,action:s},s,d))}}))}function ta(e){function t(x){return Co(x,e)}Fn!==null&&Co(Fn,e),On!==null&&Co(On,e),Jn!==null&&Co(Jn,e),nl.forEach(t),il.forEach(t);for(var a=0;a<Yn.length;a++){var s=Yn[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Yn.length&&(a=Yn[0],a.blockedOn===null);)Cm(a),a.blockedOn===null&&Yn.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var d=a[s],p=a[s+1],S=d[pt]||null;if(typeof p=="function")S||Nm(a);else if(S){var E=null;if(p&&p.hasAttribute("formAction")){if(d=p,S=p[pt]||null)E=S.formAction;else if(tu(d)!==null)continue}else E=S.action;typeof E=="function"?a[s+1]=E:(a.splice(s,3),s-=3),Nm(a)}}}function bm(){function e(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(S){return d=S})},focusReset:"manual",scroll:"manual"})}function t(){d!==null&&(d(),d=null),s||setTimeout(a,20)}function a(){if(!s&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),d!==null&&(d(),d=null)}}}function iu(e){this._internalRoot=e}No.prototype.render=iu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var a=t.current,s=Rt();vm(a,s,e,t,null,null)},No.prototype.unmount=iu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;vm(e.current,2,null,e,null,null),lo(),t[vi]=null}};function No(e){this._internalRoot=e}No.prototype.unstable_scheduleHydration=function(e){if(e){var t=Lu();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Yn.length&&t!==0&&t<Yn[a].priority;a++);Yn.splice(a,0,e),a===0&&Cm(e)}};var Mm=n.version;if(Mm!=="19.2.0")throw Error(o(527,Mm,"19.2.0"));$.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=h(t),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var a0={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bo.isDisabled&&bo.supportsFiber)try{yi=bo.inject(a0),rt=bo}catch{}}return ol.createRoot=function(e,t){if(!r(e))throw Error(o(299));var a=!1,s="",d=Ud,p=Bd,S=Ld;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(d=t.onUncaughtError),t.onCaughtError!==void 0&&(p=t.onCaughtError),t.onRecoverableError!==void 0&&(S=t.onRecoverableError)),t=gm(e,1,!1,null,null,a,s,null,d,p,S,bm),e[vi]=t.current,Pr(e),new iu(t)},ol.hydrateRoot=function(e,t,a){if(!r(e))throw Error(o(299));var s=!1,d="",p=Ud,S=Bd,E=Ld,x=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(S=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(x=a.formState)),t=gm(e,1,!0,t,a??null,s,d,x,p,S,E,bm),t.context=ym(null),a=t.current,s=Rt(),s=Ko(s),d=kn(s),d.callback=null,In(a,d,s),a=s,t.current.lanes=a,ha(t,a),$t(t),e[vi]=t.current,Pr(e),new No(t)},ol.version="19.2.0",ol}var Pm;function p0(){if(Pm)return ou.exports;Pm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),ou.exports=m0(),ou.exports}var h0=p0();const g0=Au(h0),y0=({currentUser:i})=>v.jsx("header",{className:"bg-gray-900 border-b-4 border-yellow-500 shadow-lg",children:v.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("h1",{id:"app-title",className:"text-3xl font-bold text-white",children:"Generator Administrasi Guru & Bank Soal Adaptif"}),v.jsx("p",{className:"text-yellow-200 mt-2",children:"Wujudkan Pembelajaran Inovatif dengan Perangkat Ajar Cerdas Berbasis AI"})]}),v.jsx("div",{className:"text-right",children:i?v.jsxs(v.Fragment,{children:[v.jsxs("p",{id:"welcome-message",className:"text-white font-semibold",children:["Selamat Datang, ",i,"!"]}),v.jsx("p",{className:"text-yellow-200 text-sm",children:"Berbasis Deep Learning & AI"})]}):v.jsxs(v.Fragment,{children:[v.jsx("p",{id:"institution-name",className:"text-white font-semibold",children:"YAYASAN PENDIDIKAN ISLAM PONDOK MODERN AL-GHOZALI"}),v.jsx("p",{className:"text-yellow-200 text-sm",children:"Berbasis Deep Learning & AI"})]})})]})})}),v0=()=>v.jsx("footer",{className:"bg-gray-800 text-white py-8 mt-12",children:v.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[v.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Platform Generator"}),v.jsx("p",{className:"text-gray-300",children:"Sistem berbasis Deep Learning untuk menghasilkan perangkat administrasi guru dan bank soal sesuai Kurikulum Merdeka."})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Fitur Utama"}),v.jsxs("ul",{className:"text-gray-300 space-y-2",children:[v.jsx("li",{children:" Generator ATP & Modul Ajar"}),v.jsx("li",{children:" Bank Soal Adaptif"}),v.jsx("li",{children:" Asesmen Komprehensif"}),v.jsx("li",{children:" Sesuai Kurikulum Merdeka"})]})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Jenjang Pendidikan"}),v.jsxs("ul",{className:"text-gray-300 space-y-2",children:[v.jsx("li",{children:" SD/MI (Kelas 1-6)"}),v.jsx("li",{children:" SMP/MTS (Kelas 7-9)"}),v.jsx("li",{children:" SMA/MA (Kelas 10-12)"}),v.jsx("li",{children:" Pesantren (Semua Tingkatan)"}),v.jsx("li",{children:" Semua Mata Pelajaran Nasional & Agama"})]})]})]}),v.jsxs("div",{className:"border-t border-gray-700 mt-8 pt-8 text-center",children:[v.jsx("p",{id:"footer-text",className:"text-gray-300",children:" 2025 Generator Administrasi Guru & Bank Soal Adaptif - YPI Pondok Modern Al-Ghozali. Dikembangkan dengan teknologi Deep Learning."}),v.jsx("p",{className:"text-yellow-200 text-lg font-semibold mt-4 tracking-wider",children:"Developed @2025 by Liyas Syarifudin, M.Pd."})]})]})}),Hm=[{id:"admin",title:"Generator Administrasi Guru",description:"ATP, Prota, Promes, Modul Ajar, KKTP, & Jurnal Harian.",icon:v.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),color:"blue"},{id:"soal",title:"Generator Bank Soal",description:"Bank soal adaptif, kisi-kisi, & rubrik penilaian.",icon:v.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),color:"green"},{id:"ecourse",title:"Generator E-Course",description:"Silabus, materi, latihan, evaluasi, & slide presentasi.",icon:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",viewBox:"0 0 20 20",fill:"currentColor",children:v.jsx("path",{d:"M10.394 2.08a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})}),color:"yellow"},{id:"audioLab",title:"Lab Audio & Percakapan",description:"Percakapan real-time dengan AI & transkripsi audio.",icon:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",viewBox:"0 0 20 20",fill:"currentColor",children:v.jsx("path",{fillRule:"evenodd",d:"M7 4a3 3 0 016 0v4a3 3 0 11-6 0V4zm4 10.93V14a1 1 0 10-2 0v.93a7 7 0 00-5 6.47A1 1 0 005 22h10a1 1 0 00.997-1.47A7 7 0 0011 14.93z",clipRule:"evenodd"})}),color:"teal"},{id:"groundedSearch",title:"Pencarian Cerdas",description:"Dapatkan jawaban akurat dari web & peta terkini.",icon:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",viewBox:"0 0 20 20",fill:"currentColor",children:v.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),color:"pink"},{id:"imageLab",title:"Studio Gambar AI",description:"Buat, edit, dan analisis gambar dengan AI.",icon:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",viewBox:"0 0 20 20",fill:"currentColor",children:v.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})}),color:"purple"},{id:"videoLab",title:"Studio Video AI",description:"Buat video dari teks/gambar & analisis konten video.",icon:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",viewBox:"0 0 20 20",fill:"currentColor",children:v.jsx("path",{d:"M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 001.553.832l3-2a1 1 0 000-1.664l-3-2z"})}),color:"red"},{id:"ebook",title:"Perpustakaan Digital",description:"Akses ribuan buku digital resmi dari Kemendikbud.",icon:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",viewBox:"0 0 20 20",fill:"currentColor",children:v.jsx("path",{d:"M9 4.804A7.968 7.968 0 005.5 4c-1.255 0-2.443.29-3.5.804v10A7.969 7.969 0 015.5 16c1.255 0 2.443-.29 3.5-.804V4.804zM14.5 4c-1.255 0-2.443.29-3.5.804v10A7.969 7.969 0 0114.5 16c1.255 0 2.443-.29 3.5-.804v-10A7.968 7.968 0 0014.5 4z"})}),color:"orange",url:"https://buku.kemendikdasmen.go.id/"},{id:"quran",title:"Al-Qur'an Digital",description:"Akses Al-Qur'an digital lengkap dari Kemenag.",icon:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",viewBox:"0 0 20 20",fill:"currentColor",children:v.jsx("path",{d:"M9 4.804A7.968 7.968 0 005.5 4c-1.255 0-2.443.29-3.5.804v10A7.969 7.969 0 015.5 16c1.255 0 2.443-.29 3.5-.804V4.804zM14.5 4c-1.255 0-2.443.29-3.5.804v10A7.969 7.969 0 0114.5 16c1.255 0 2.443-.29 3.5-.804v-10A7.968 7.968 0 0014.5 4z"})}),color:"indigo",url:"https://quran.kemenag.go.id/"},{id:"hadits",title:"Hadits Digital",description:"Akses koleksi hadits lengkap dari Hadits.id.",icon:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",viewBox:"0 0 20 20",fill:"currentColor",children:v.jsx("path",{d:"M9 4.804A7.968 7.968 0 005.5 4c-1.255 0-2.443.29-3.5.804v10A7.969 7.969 0 015.5 16c1.255 0 2.443-.29 3.5-.804V4.804zM14.5 4c-1.255 0-2.443.29-3.5.804v10A7.969 7.969 0 0114.5 16c1.255 0 2.443-.29 3.5-.804v-10A7.968 7.968 0 0014.5 4z"})}),color:"cyan",url:"https://www.hadits.id/"},{id:"perpusnas",title:"Perpustakaan Nasional",description:"Jelajahi koleksi buku baru dari Perpusnas RI.",icon:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",viewBox:"0 0 20 20",fill:"currentColor",children:v.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h8a2 2 0 012 2v12a1 1 0 110 2h-3a1 1 0 01-1-1v-2a1 1 0 00-1-1H9a1 1 0 00-1 1v2a1 1 0 01-1 1H4a1 1 0 110-2V4zm3 1h2v2H7V5zm2 4H7v2h2V9zm2-4h2v2h-2V5zm2 4h-2v2h2V9z",clipRule:"evenodd"})}),color:"gray",url:"https://www.perpusnas.go.id/buku-baru"}],A0={blue:{bg:"bg-blue-500",border:"border-blue-200",hoverBg:"hover:bg-blue-50",hoverBorder:"hover:border-blue-500"},green:{bg:"bg-green-500",border:"border-green-200",hoverBg:"hover:bg-green-50",hoverBorder:"hover:border-green-500"},yellow:{bg:"bg-yellow-500",border:"border-yellow-200",hoverBg:"hover:bg-yellow-50",hoverBorder:"hover:border-yellow-500"},teal:{bg:"bg-teal-500",border:"border-teal-200",hoverBg:"hover:bg-teal-50",hoverBorder:"hover:border-teal-500"},pink:{bg:"bg-pink-500",border:"border-pink-200",hoverBg:"hover:bg-pink-50",hoverBorder:"hover:border-pink-500"},purple:{bg:"bg-purple-500",border:"border-purple-200",hoverBg:"hover:bg-purple-50",hoverBorder:"hover:border-purple-500"},red:{bg:"bg-red-500",border:"border-red-200",hoverBg:"hover:bg-red-50",hoverBorder:"hover:border-red-500"},orange:{bg:"bg-orange-500",border:"border-orange-200",hoverBg:"hover:bg-orange-50",hoverBorder:"hover:border-orange-500"},indigo:{bg:"bg-indigo-500",border:"border-indigo-200",hoverBg:"hover:bg-indigo-50",hoverBorder:"hover:border-indigo-500"},cyan:{bg:"bg-cyan-500",border:"border-cyan-200",hoverBg:"hover:bg-cyan-50",hoverBorder:"hover:border-cyan-500"},gray:{bg:"bg-gray-500",border:"border-gray-200",hoverBg:"hover:bg-gray-50",hoverBorder:"hover:border-gray-500"}},qm=({onModuleSelect:i,isAdmin:n})=>{const l=["admin","soal","ebook"],o=n?Hm:Hm.filter(f=>l.includes(f.id)),r=n?"grid-cols-1 md:grid-cols-2 lg:grid-cols-4":"grid-cols-1 md:grid-cols-2 lg:grid-cols-3";return v.jsxs("div",{className:"fade-in",children:[v.jsxs("div",{className:"text-center mb-10",children:[v.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Selamat Datang di Toolkit AI Guru"}),v.jsx("p",{className:"mt-1 text-xl font-semibold text-gray-700",children:"YAYASAN PENDIDIKAN ISLAM PONDOK MODERN AL-GHOZALI"}),v.jsx("p",{className:"mt-4 text-lg text-gray-600",children:n?"Pilih salah satu alat canggih di bawah ini untuk memulai.":"Silakan pilih modul yang tersedia untuk memulai."})]}),v.jsxs("div",{className:`grid ${r} gap-6`,children:[o.map(f=>{const m=A0[f.color],g="url"in f&&f.url,y=`module-btn p-6 border-2 ${m.border} rounded-lg ${m.hoverBorder} ${m.hoverBg} transition-all duration-200 text-left flex flex-col items-start card-shadow`,h=v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"flex items-center mb-3 w-full",children:[v.jsx("div",{className:`w-16 h-16 ${m.bg} rounded-lg flex items-center justify-center mr-4 flex-shrink-0`,children:f.icon}),v.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:f.title})]}),v.jsx("p",{className:"text-gray-600",children:f.description})]});return g?v.jsx("a",{href:f.url,target:"_blank",rel:"noopener noreferrer",id:`tour-step-${f.id}`,className:y,children:h},f.id):v.jsx("button",{id:`tour-step-${f.id}`,onClick:()=>i(f.id),className:y,children:h},f.id)}),n&&v.jsxs("button",{id:"tour-step-admin-panel",onClick:()=>i("adminPanel"),className:"module-btn p-6 border-2 border-slate-200 rounded-lg hover:border-slate-500 hover:bg-slate-50 transition-all duration-200 text-left flex items-center card-shadow col-span-1 md:col-span-2 lg:col-span-4",children:[v.jsx("div",{className:"w-16 h-16 bg-slate-500 rounded-lg flex items-center justify-center mr-4 flex-shrink-0",children:v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",viewBox:"0 0 20 20",fill:"currentColor",children:[v.jsx("path",{fillRule:"evenodd",d:"M18 8a6 6 0 11-12 0 6 6 0 0112 0zM7 8a3 3 0 116 0 3 3 0 01-6 0z",clipRule:"evenodd"}),v.jsx("path",{d:"M5.433 13.407A7.002 7.002 0 0012 15a7.002 7.002 0 006.567-1.593A5 5 0 0012 11a5 5 0 00-6.567 2.407z"})]})}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Ruang Admin"}),v.jsx("p",{className:"text-gray-600",children:"Kelola pengguna dan lihat statistik penggunaan aplikasi."})]})]})]})]})},S0={SD:["1","2","3","4","5","6"],MI:["1","2","3","4","5","6"],SMP:["7","8","9"],MTS:["7","8","9"],SMA:["10","11","12"],MA:["10","11","12"],Pesantren:["I'dad","1","2","3","4","5","6 KMI"]},Mo=["PAI dan Budi Pekerti","Bahasa Sunda","Bahasa Arab","Grammar","Nahwu","Sharaf","Ulumul Quran","Ushul Fiqh","Tarbiyah","Insya","Hadits","Mushtolahul Hadits","Fiqih","Tarikh Islam"],wo=["Al-Qur'an Hadits","Akidah Akhlak","Fiqih","Sejarah Kebudayaan Islam (SKI)","Bahasa Arab"],gh=["AQIDAH","BALAGHAH","BAHASA ARAB","FAROID","FIQIH","HADIS","IMLA","INSYA","KHOT","KHOT IMLA","MAHFUDZAT","MUST HADITS","MUTHALAAH","NAHWU","READING & GRAMMAR","SHARAF","TAFSIR","TAHFIDZ","TAJWID","TAMRIN LUGHAH","TARBIYAH","TARIKH ISLAM","ULUMUL QURAN","USHUL FIQH"],_0=["Bahasa Arab","Nahwu","Sharaf","Shorof","Tarbiyah","Insya","Hadits","Mushtolahul Hadits","Fiqih","Tarikh Islam","Balaghah","Imla","Khot","Khot Imla","Muthola'ah","Muthalaah","Tamrin Lughoh","Tamrin Lughah","Tafsir","Ulumul Qur'an","Ushul Fiqh",...wo,...gh],T0=[...new Set(_0.map(i=>i.toUpperCase().replace(/'|\\/g,"")))],ul=[...new Set(["PAI DAN BUDI PEKERTI",...T0])],Vm=["Bahasa Indonesia","Matematika","IPA","IPS","PPKn","Bahasa Inggris","PJOK","Seni Budaya","Prakarya","PAI dan Budi Pekerti"],zm=["Bahasa Indonesia","Matematika","IPA","IPS","PPKn","Bahasa Inggris","PJOK","Seni Budaya","Prakarya","Bahasa Daerah"],Fm=["Bahasa Indonesia","Matematika","Fisika","Kimia","Biologi","Ekonomi","Geografi","Sejarah","Sosiologi","PPKn","Bahasa Inggris","Informatika","PJOK","Seni Budaya","Prakarya"],E0={SD:Vm,MI:[...new Set([...Vm,...wo])],SMP:[...new Set([...zm,...Mo])],MTS:[...new Set([...zm,...wo,...Mo])],SMA:[...new Set([...Fm,...Mo])],MA:[...new Set([...Fm,...wo,...Mo])],Pesantren:gh},C0={SD:["2 JP/minggu (70 JP/tahun)","3 JP/minggu (105 JP/tahun)","4 JP/minggu (140 JP/tahun)"],MI:["2 JP/minggu (70 JP/tahun)","3 JP/minggu (105 JP/tahun)","4 JP/minggu (140 JP/tahun)"],SMP:["2 JP/minggu (72 JP/tahun)","3 JP/minggu (108 JP/tahun)","4 JP/minggu (144 JP/tahun)"],MTS:["2 JP/minggu (72 JP/tahun)","3 JP/minggu (108 JP/tahun)","4 JP/minggu (144 JP/tahun)"],SMA:["2 JP/minggu (90 menit/minggu)","3 JP/minggu (135 menit/minggu)","4 JP/minggu (180 menit/minggu)"],MA:["2 JP/minggu (90 menit/minggu)","3 JP/minggu (135 menit/minggu)","4 JP/minggu (180 menit/minggu)"],Pesantren:["2 JP/minggu (90 menit/minggu)","3 JP/minggu (135 menit/minggu)","4 JP/minggu (180 menit/minggu)","5 JP/minggu (225 menit/minggu)"]},x0=["Alif","Ba","Jim","Dal","Ha","Waw","Zay"],Wt=()=>v.jsx("div",{className:"loading-spinner"}),N0=({module:i,onSubmit:n,onBack:l,onShowAIAssistant:o,isLoading:r,generationProgress:f})=>{var $,X,pe,he,N,U;const[m,g]=V.useState(()=>{const D={jenjang:"",kelas:"",semester:"1",mata_pelajaran:"",sekolah:"SEKOLAH MENENGAH ATAS (SMA) ISLAM AL-GHOZALI",tahun_ajaran:"2025-2026",nama_guru:"",fase:"",cp_elements:"",alokasi_waktu:"",jumlah_modul_ajar:1,topik_materi:"",sertakan_kisi_kisi:!0,sertakan_soal_tka:!1,jumlah_soal_tka:5,sertakan_soal_tka_uraian:!1,jumlah_soal_tka_uraian:3,kelompok_tka:"saintek",jumlah_soal_total:20,jenis_soal:["Pilihan Ganda","Uraian"],jumlah_pg:15,jumlah_uraian:5,jumlah_isian_singkat:0,soal_pesantren_sections:[],tingkat_kesulitan:"Sedang",bahasa:"Bahasa Indonesia",yayasan:"YAYASAN PENDIDIKAN ISLAM PONDOK MODERN AL-GHOZALI",alamat_sekolah:"Jl. Permata No. 19 Curug Gunungsindur Kab. Bogor 16340",logo_sekolah:"",judul_asesmen:"PENILAIAN SUMATIF AKHIR SEMESTER GANJIL",tanggal_ujian:"",jam_ke:"",waktu_ujian:"90 Menit",use_thinking_mode:!1,topik_ecourse:"",jumlah_pertemuan:5};try{const Y=localStorage.getItem("guruAppData");if(Y)return{...D,...JSON.parse(Y)}}catch(Y){console.error("Failed to load saved form data",Y)}return D}),[y,h]=V.useState(null),[A,_]=V.useState(!1),[T,C]=V.useState(null);V.useEffect(()=>{try{const{sekolah:D,nama_guru:Y,yayasan:ee,alamat_sekolah:te,jenjang:ce,kelas:xe,mata_pelajaran:ke,tahun_ajaran:wt,bahasa:Tt,semester:jt}=m,gi={sekolah:D,nama_guru:Y,yayasan:ee,alamat_sekolah:te,jenjang:ce,kelas:xe,mata_pelajaran:ke,tahun_ajaran:wt,bahasa:Tt,semester:jt};localStorage.setItem("guruAppData",JSON.stringify(gi))}catch(D){console.error("Failed to save form data",D)}},[m.sekolah,m.nama_guru,m.yayasan,m.alamat_sekolah,m.jenjang,m.kelas,m.mata_pelajaran,m.tahun_ajaran,m.bahasa,m.semester]),V.useEffect(()=>{m.jenjang?(H(S0[m.jenjang]||[]),Q(E0[m.jenjang]||[]),O(C0[m.jenjang]||[]),JSON.parse(localStorage.getItem("guruAppData")||"{}").jenjang!==m.jenjang&&g(Y=>({...Y,kelas:"",mata_pelajaran:""})),_(!1)):(H([]),Q([]),O([]))},[m.jenjang]),V.useEffect(()=>{h(null),_(!1)},[i]),V.useEffect(()=>{const{jenjang:D,kelas:Y}=m;let ee="";const te=parseInt(Y,10);D==="SD"||D==="MI"?te<=2?ee="Fase A":te<=4?ee="Fase B":ee="Fase C":D==="SMP"||D==="MTS"?ee="Fase D":D==="SMA"||D==="MA"?ee=te===10?"Fase E":"Fase F":D==="Pesantren"&&(ee=""),ee!==m.fase&&g(ce=>({...ce,fase:ee}))},[m.jenjang,m.kelas]),V.useEffect(()=>{var D,Y,ee;if(i==="soal"){let te=0;if(m.jenjang==="Pesantren")te=(m.soal_pesantren_sections||[]).reduce((ce,xe)=>ce+(Number(xe.count)||0),0);else{const ce=(D=m.jenis_soal)!=null&&D.includes("Pilihan Ganda")&&Number(m.jumlah_pg)||0,xe=(Y=m.jenis_soal)!=null&&Y.includes("Uraian")&&Number(m.jumlah_uraian)||0,ke=(ee=m.jenis_soal)!=null&&ee.includes("Isian Singkat")&&Number(m.jumlah_isian_singkat)||0;te=ce+xe+ke}te>(Number(m.jumlah_soal_total)||0)?C(`Jumlah soal per jenis (${te}) melebihi total soal standar (${m.jumlah_soal_total}).`):C(null)}else C(null)},[m.jumlah_pg,m.jumlah_uraian,m.jumlah_isian_singkat,m.jumlah_soal_total,m.jenis_soal,i,m.jenjang,m.soal_pesantren_sections]);const[L,H]=V.useState([]),[Z,Q]=V.useState([]),[j,O]=V.useState([]),G=D=>{const{name:Y,value:ee,type:te}=D.target;if(te==="checkbox"){const{checked:ce}=D.target;g(xe=>({...xe,[Y]:ce}))}else g(ce=>({...ce,[Y]:ee}))},z=D=>{const Y=D.target.value;Y==="custom"?(_(!0),g(ee=>({...ee,mata_pelajaran:""}))):(_(!1),g(ee=>({...ee,mata_pelajaran:Y})))},K=D=>{const{name:Y,checked:ee}=D.target;g(te=>{const ce=ee?[...te.jenis_soal||[],Y]:(te.jenis_soal||[]).filter(xe=>xe!==Y);return{...te,jenis_soal:ce}})},P=()=>{const D={id:`section_${Date.now()}`,letter:"Alif",instruction:"",count:5};g(Y=>({...Y,soal_pesantren_sections:[...Y.soal_pesantren_sections||[],D]}))},ae=D=>{g(Y=>({...Y,soal_pesantren_sections:(Y.soal_pesantren_sections||[]).filter(ee=>ee.id!==D)}))},W=(D,Y,ee)=>{g(te=>({...te,soal_pesantren_sections:(te.soal_pesantren_sections||[]).map(ce=>ce.id===D?{...ce,[Y]:ee}:ce)}))},ne=D=>{var ee;const Y=(ee=D.target.files)==null?void 0:ee[0];if(Y){const te=new FileReader;te.onloadend=()=>{const ce=te.result;g(xe=>({...xe,logo_sekolah:ce})),h(ce)},te.readAsDataURL(Y)}},fe=D=>{D.preventDefault(),!T&&n(m)},re=i==="admin"?"Generator Administrasi Guru":i==="soal"?"Generator Bank Soal":"Generator E-Course",Ce=i==="admin"?"Lengkapi form untuk menghasilkan ATP, Prota, Promes, Modul Ajar, KKTP, dan Jurnal Harian.":i==="soal"?"Lengkapi form untuk menghasilkan bank soal dan perangkat asesmen adaptif.":"Lengkapi form untuk menghasilkan silabus, materi, latihan, dan slide presentasi untuk e-course Anda.",ue="w-full rounded-md border-2 border-gray-300 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 transition duration-150 ease-in-out",ze=m.bahasa==="Bahasa Arab"||ul.includes(m.mata_pelajaran.toUpperCase()),I=i==="soal"&&m.jenjang==="Pesantren"&&ze;return v.jsxs("div",{className:"bg-white rounded-lg card-shadow p-6 fade-in",children:[v.jsxs("div",{className:"mb-6",children:[v.jsx("button",{onClick:l,className:"text-blue-600 hover:text-blue-800 text-sm font-medium mb-4",children:" Kembali ke Dashboard"}),v.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:re}),v.jsx("p",{className:"text-gray-600 mt-1",children:Ce})]}),v.jsxs("form",{onSubmit:fe,className:"space-y-6",children:[v.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[v.jsxs("select",{id:"jenjang",name:"jenjang",value:m.jenjang,onChange:G,required:!0,className:ue,"aria-label":"Jenjang",children:[v.jsx("option",{value:"",children:"Pilih Jenjang"}),v.jsx("option",{children:"SD"}),v.jsx("option",{children:"MI"}),v.jsx("option",{children:"SMP"}),v.jsx("option",{children:"MTS"}),v.jsx("option",{children:"SMA"}),v.jsx("option",{children:"MA"}),v.jsx("option",{children:"Pesantren"})]}),v.jsxs("select",{id:"kelas",name:"kelas",value:m.kelas,onChange:G,required:!0,disabled:!m.jenjang,className:`${ue} disabled:bg-gray-100`,"aria-label":"Kelas",children:[v.jsx("option",{value:"",children:"Pilih Kelas"}),L.map(D=>v.jsx("option",{value:D,children:D},D))]}),v.jsxs("select",{id:"mata_pelajaran_select",name:"mata_pelajaran_select",value:A?"custom":m.mata_pelajaran,onChange:z,required:!0,disabled:!m.jenjang,className:`${ue} disabled:bg-gray-100`,"aria-label":"Mata Pelajaran",children:[v.jsx("option",{value:"",children:"Pilih Mapel"}),Z.map(D=>v.jsx("option",{value:D,children:D},D)),v.jsx("option",{value:"custom",children:"Lainnya..."})]}),v.jsxs("select",{id:"bahasa",name:"bahasa",value:m.bahasa,onChange:G,className:ue,"aria-label":"Bahasa",children:[v.jsx("option",{children:"Bahasa Indonesia"}),v.jsx("option",{children:"Bahasa Inggris"}),v.jsx("option",{children:"Bahasa Sunda"}),v.jsx("option",{children:"Bahasa Arab"})]})]}),A&&v.jsx("input",{type:"text",id:"mata_pelajaran",name:"mata_pelajaran",value:m.mata_pelajaran,onChange:G,required:!0,className:`mt-1 block ${ue}`,placeholder:"Tulis nama mata pelajaran..."}),v.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[v.jsxs("select",{id:"semester",name:"semester",value:m.semester,onChange:G,required:!0,className:ue,"aria-label":"Semester",children:[v.jsx("option",{value:"1",children:"Semester 1 (Ganjil)"}),v.jsx("option",{value:"2",children:"Semester 2 (Genap)"})]}),v.jsx("input",{type:"text",id:"tahun_ajaran",name:"tahun_ajaran",value:m.tahun_ajaran,onChange:G,required:!0,className:ue,placeholder:"Tahun Ajaran"})]}),v.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[v.jsx("input",{type:"text",id:"sekolah",name:"sekolah",value:m.sekolah,onChange:G,required:!0,className:ue,placeholder:"Nama Sekolah"}),v.jsx("input",{type:"text",id:"nama_guru",name:"nama_guru",value:m.nama_guru,onChange:G,required:!0,className:ue,placeholder:"Nama Pengajar"})]}),v.jsx("hr",{}),i==="ecourse"&&v.jsxs("div",{className:"space-y-6",children:[v.jsx("textarea",{id:"topik_ecourse",name:"topik_ecourse",value:m.topik_ecourse??"",onChange:G,required:!0,rows:3,className:ue,placeholder:"Masukkan topik utama e-course..."}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"jumlah_pertemuan",className:"block text-sm font-medium text-gray-700 mb-1",children:"Jumlah Pertemuan/Modul"}),v.jsx("input",{type:"number",id:"jumlah_pertemuan",name:"jumlah_pertemuan",value:m.jumlah_pertemuan,onChange:G,required:!0,min:"1",max:"20",className:ue,placeholder:"Jumlah Pertemuan"})]})]}),i==="admin"&&v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[v.jsxs("select",{id:"fase",name:"fase",value:m.fase,onChange:G,required:m.jenjang!=="Pesantren",disabled:m.jenjang==="Pesantren",className:`${ue} bg-gray-50 disabled:bg-gray-100 disabled:cursor-not-allowed`,children:[v.jsx("option",{value:"",children:m.jenjang==="Pesantren"?"Tidak ada Fase":"Pilih Fase"}),v.jsx("option",{value:"Fase A",children:"Fase A (1-2 SD/MI)"}),v.jsx("option",{value:"Fase B",children:"Fase B (3-4 SD/MI)"}),v.jsx("option",{value:"Fase C",children:"Fase C (5-6 SD/MI)"}),v.jsx("option",{value:"Fase D",children:"Fase D (7-9 SMP/MTS)"}),v.jsx("option",{value:"Fase E",children:"Fase E (10 SMA/MA)"}),v.jsx("option",{value:"Fase F",children:"Fase F (11-12 SMA/MA)"})]}),v.jsxs("select",{id:"alokasi_waktu",name:"alokasi_waktu",value:m.alokasi_waktu,onChange:G,required:!0,disabled:!m.jenjang,className:`${ue} disabled:bg-gray-100`,children:[v.jsx("option",{value:"",children:"Alokasi Waktu"}),j.map(D=>v.jsx("option",{value:D,children:D},D))]}),v.jsx("input",{type:"number",id:"jumlah_modul_ajar",name:"jumlah_modul_ajar",value:m.jumlah_modul_ajar,onChange:G,required:!0,min:"1",max:"20",className:ue,placeholder:"Jumlah Modul Ajar"})]}),v.jsx("textarea",{id:"cp_elements",name:"cp_elements",value:m.cp_elements??"",onChange:G,required:!0,rows:4,className:ue,placeholder:"Elemen Capaian Pembelajaran (CP)..."}),v.jsx("button",{type:"button",onClick:()=>o(m,"cp"),className:"text-sm text-blue-600 font-semibold hover:underline",children:" Dapatkan saran dari AI Asisten"})]}),i==="soal"&&!I&&v.jsxs("div",{className:"space-y-6",children:[v.jsx("textarea",{id:"topik_materi",name:"topik_materi",value:m.topik_materi??"",onChange:G,required:!0,rows:3,className:ue,placeholder:"Topik / Materi..."}),v.jsx("button",{type:"button",onClick:()=>o(m,"topic"),className:"text-sm text-blue-600 font-semibold hover:underline",children:" Dapatkan saran dari AI Asisten"}),v.jsx("input",{type:"number",id:"jumlah_soal_total",name:"jumlah_soal_total",value:m.jumlah_soal_total,onChange:G,className:ue,placeholder:"Total Soal Standar"}),v.jsxs("div",{className:"flex space-x-4",children:[v.jsxs("label",{children:[v.jsx("input",{type:"checkbox",name:"Pilihan Ganda",checked:($=m.jenis_soal)==null?void 0:$.includes("Pilihan Ganda"),onChange:K})," PG"]}),v.jsxs("label",{children:[v.jsx("input",{type:"checkbox",name:"Uraian",checked:(X=m.jenis_soal)==null?void 0:X.includes("Uraian"),onChange:K})," Uraian"]}),v.jsxs("label",{children:[v.jsx("input",{type:"checkbox",name:"Isian Singkat",checked:(pe=m.jenis_soal)==null?void 0:pe.includes("Isian Singkat"),onChange:K})," Isian"]})]}),v.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[((he=m.jenis_soal)==null?void 0:he.includes("Pilihan Ganda"))&&v.jsx("input",{type:"number",name:"jumlah_pg",value:m.jumlah_pg,onChange:G,className:ue,placeholder:"Jumlah PG"}),((N=m.jenis_soal)==null?void 0:N.includes("Uraian"))&&v.jsx("input",{type:"number",name:"jumlah_uraian",value:m.jumlah_uraian,onChange:G,className:ue,placeholder:"Jumlah Uraian"}),((U=m.jenis_soal)==null?void 0:U.includes("Isian Singkat"))&&v.jsx("input",{type:"number",name:"jumlah_isian_singkat",value:m.jumlah_isian_singkat,onChange:G,className:ue,placeholder:"Jumlah Isian"})]}),T&&v.jsx("p",{className:"text-sm text-red-600",children:T}),["SMA","MA"].includes(m.jenjang)&&v.jsxs("div",{className:"p-4 bg-indigo-50 border rounded-lg space-y-4",children:[v.jsxs("div",{className:"flex flex-col sm:flex-row sm:space-x-6",children:[v.jsxs("label",{className:"flex items-center space-x-2",children:[v.jsx("input",{type:"checkbox",name:"sertakan_soal_tka",checked:m.sertakan_soal_tka,onChange:G}),v.jsx("span",{children:"Tambah soal TKA Pilihan Ganda"})]}),v.jsxs("label",{className:"flex items-center space-x-2 mt-2 sm:mt-0",children:[v.jsx("input",{type:"checkbox",name:"sertakan_soal_tka_uraian",checked:m.sertakan_soal_tka_uraian,onChange:G}),v.jsx("span",{children:"Tambah soal TKA Uraian"})]})]}),(m.sertakan_soal_tka||m.sertakan_soal_tka_uraian)&&v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 border-t pt-4",children:[m.sertakan_soal_tka&&v.jsxs("div",{children:[v.jsx("label",{htmlFor:"jumlah_soal_tka",className:"text-xs font-medium text-gray-600",children:"Jumlah TKA PG"}),v.jsx("input",{type:"number",id:"jumlah_soal_tka",name:"jumlah_soal_tka",value:m.jumlah_soal_tka,onChange:G,className:ue,min:"1",max:"10"})]}),m.sertakan_soal_tka_uraian&&v.jsxs("div",{children:[v.jsx("label",{htmlFor:"jumlah_soal_tka_uraian",className:"text-xs font-medium text-gray-600",children:"Jumlah TKA Uraian"}),v.jsx("input",{type:"number",id:"jumlah_soal_tka_uraian",name:"jumlah_soal_tka_uraian",value:m.jumlah_soal_tka_uraian,onChange:G,className:ue,min:"1",max:"5"})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"kelompok_tka",className:"text-xs font-medium text-gray-600",children:"Kelompok TKA"}),v.jsxs("select",{id:"kelompok_tka",name:"kelompok_tka",value:m.kelompok_tka,onChange:G,className:ue,children:[v.jsx("option",{value:"saintek",children:"SAINTEK"}),v.jsx("option",{value:"soshum",children:"SOSHUM"})]})]})]})]}),v.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[v.jsxs("select",{name:"tingkat_kesulitan",value:m.tingkat_kesulitan,onChange:G,className:ue,children:[v.jsx("option",{children:"Mudah"}),v.jsx("option",{children:"Sedang"}),v.jsx("option",{children:"Sulit (HOTS)"})]}),v.jsxs("label",{children:[v.jsx("input",{type:"checkbox",name:"sertakan_kisi_kisi",checked:m.sertakan_kisi_kisi,onChange:G})," Sertakan Kisi-kisi"]})]})]}),I&&v.jsxs("div",{className:"space-y-6",children:[v.jsx("textarea",{id:"topik_materi",name:"topik_materi",value:m.topik_materi??"",onChange:G,required:!0,rows:3,className:ue,placeholder:"Topik / Materi (contoh: I'rab, Tashrif, Adad Ma'dud)..."}),v.jsx("button",{type:"button",onClick:()=>o(m,"topic"),className:"text-sm text-blue-600 font-semibold hover:underline",children:" Dapatkan saran dari AI Asisten"}),v.jsx("input",{type:"number",id:"jumlah_soal_total",name:"jumlah_soal_total",value:m.jumlah_soal_total,onChange:G,className:ue,placeholder:"Total Soal Standar (untuk validasi)"}),v.jsxs("div",{className:"p-4 bg-gray-50 border rounded-lg space-y-4",children:[v.jsx("h3",{className:"font-semibold text-gray-800",children:"Pembangun Bagian Soal (Berbahasa Arab)"}),(m.soal_pesantren_sections||[]).map((D,Y)=>v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-2 items-center p-2 border-b",children:[v.jsx("div",{className:"md:col-span-2",children:v.jsx("select",{value:D.letter,onChange:ee=>W(D.id,"letter",ee.target.value),className:ue,children:x0.map(ee=>v.jsx("option",{value:ee,children:ee},ee))})}),v.jsx("div",{className:"md:col-span-6",children:v.jsx("input",{type:"text",value:D.instruction,placeholder:"  ... (Contoh:    )",onChange:ee=>W(D.id,"instruction",ee.target.value),className:`${ue} arabic-font-preview`,style:{textAlign:"right"},required:!0})}),v.jsx("div",{className:"md:col-span-2",children:v.jsx("input",{type:"number",value:D.count,min:"1",placeholder:"Jumlah Soal",onChange:ee=>W(D.id,"count",parseInt(ee.target.value,10)),className:ue,required:!0})}),v.jsx("div",{className:"md:col-span-2 flex justify-end",children:v.jsx("button",{type:"button",onClick:()=>ae(D.id),className:"text-red-500 hover:text-red-700 font-semibold",children:"Hapus"})})]},D.id)),v.jsx("button",{type:"button",onClick:P,className:"w-full mt-2 px-4 py-2 bg-blue-100 text-blue-700 font-semibold rounded-md hover:bg-blue-200",children:"+ Tambah Bagian Soal"})]}),T&&v.jsx("p",{className:"text-sm text-red-600",children:T}),v.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[v.jsxs("select",{name:"tingkat_kesulitan",value:m.tingkat_kesulitan,onChange:G,className:ue,children:[v.jsx("option",{children:"Mudah"}),v.jsx("option",{children:"Sedang"}),v.jsx("option",{children:"Sulit (HOTS)"})]}),v.jsxs("label",{children:[v.jsx("input",{type:"checkbox",name:"sertakan_kisi_kisi",checked:m.sertakan_kisi_kisi,onChange:G})," Sertakan Kisi-kisi"]})]})]}),i==="soal"&&v.jsxs(v.Fragment,{children:[v.jsx("hr",{}),v.jsx("h3",{className:"text-lg font-medium",children:"Kustomisasi Header Soal"}),v.jsx("input",{type:"file",id:"logo_sekolah",name:"logo_sekolah",accept:"image/*",onChange:ne,className:"text-sm"}),v.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[v.jsx("input",{type:"text",name:"yayasan",value:m.yayasan,onChange:G,className:ue,placeholder:"Nama Yayasan"}),v.jsx("input",{type:"text",name:"alamat_sekolah",value:m.alamat_sekolah,onChange:G,className:ue,placeholder:"Alamat Sekolah"})]})]}),v.jsxs("div",{className:"p-4 bg-gray-100 rounded-lg flex items-center justify-between",children:[v.jsx("div",{className:"form-control",children:v.jsxs("label",{className:"cursor-pointer label",children:[v.jsx("span",{className:"label-text font-semibold text-gray-700 mr-2",children:" Mode Cerdas (HOTS & Analisis Mendalam)"}),v.jsx("input",{type:"checkbox",name:"use_thinking_mode",checked:!!m.use_thinking_mode,onChange:G,className:"toggle toggle-primary"})]})}),v.jsxs("p",{className:"text-xs text-gray-500",children:["Menggunakan model AI yang lebih kuat untuk hasil yang lebih komprehensif. ",v.jsx("br",{}),"Proses generate mungkin sedikit lebih lama."]})]}),r&&v.jsxs("div",{className:"my-4",children:[v.jsxs("div",{className:"flex justify-between mb-1",children:[v.jsx("span",{className:"font-medium text-indigo-700",children:"AI Sedang Bekerja..."}),v.jsxs("span",{className:"font-medium text-indigo-700",children:[Math.round(f),"%"]})]}),v.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:v.jsx("div",{className:"bg-indigo-600 h-2.5 rounded-full",style:{width:`${f}%`}})})]}),v.jsx("div",{className:"flex justify-end pt-2",children:v.jsx("button",{type:"submit",disabled:r||!!T,className:"inline-flex items-center justify-center px-6 py-2 border rounded-md text-white bg-indigo-600 hover:bg-indigo-700 disabled:bg-indigo-400",children:r?v.jsxs(v.Fragment,{children:[v.jsx(Wt,{}),v.jsx("span",{className:"ml-2",children:"Generating..."})]}):"Generate Perangkat"})})]})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let b0,M0;function R0(){return{geminiUrl:b0,vertexUrl:M0}}function w0(i,n,l,o){var r,f;if(!(i!=null&&i.baseUrl)){const m=R0();return n?(r=m.vertexUrl)!==null&&r!==void 0?r:l:(f=m.geminiUrl)!==null&&f!==void 0?f:o}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _n{}function ie(i,n){const l=/\{([^}]+)\}/g;return i.replace(l,(o,r)=>{if(Object.prototype.hasOwnProperty.call(n,r)){const f=n[r];return f!=null?String(f):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function c(i,n,l){for(let f=0;f<n.length-1;f++){const m=n[f];if(m.endsWith("[]")){const g=m.slice(0,-2);if(!(g in i))if(Array.isArray(l))i[g]=Array.from({length:l.length},()=>({}));else throw new Error(`Value must be a list given an array path ${m}`);if(Array.isArray(i[g])){const y=i[g];if(Array.isArray(l))for(let h=0;h<y.length;h++){const A=y[h];c(A,n.slice(f+1),l[h])}else for(const h of y)c(h,n.slice(f+1),l)}return}else if(m.endsWith("[0]")){const g=m.slice(0,-3);g in i||(i[g]=[{}]);const y=i[g];c(y[0],n.slice(f+1),l);return}(!i[m]||typeof i[m]!="object")&&(i[m]={}),i=i[m]}const o=n[n.length-1],r=i[o];if(r!==void 0){if(!l||typeof l=="object"&&Object.keys(l).length===0||l===r)return;if(typeof r=="object"&&typeof l=="object"&&r!==null&&l!==null)Object.assign(r,l);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof l=="object"&&l!==null&&!Array.isArray(l)?Object.assign(i,l):i[o]=l}function u(i,n,l=void 0){try{if(n.length===1&&n[0]==="_self")return i;for(let o=0;o<n.length;o++){if(typeof i!="object"||i===null)return l;const r=n[o];if(r.endsWith("[]")){const f=r.slice(0,-2);if(f in i){const m=i[f];return Array.isArray(m)?m.map(g=>u(g,n.slice(o+1),l)):l}else return l}else i=i[r]}return i}catch(o){if(o instanceof TypeError)return l;throw o}}function k0(i,n){for(const[l,o]of Object.entries(n)){const r=l.split("."),f=o.split("."),m=new Set;let g=-1;for(let y=0;y<r.length;y++)if(r[y]==="*"){g=y;break}if(g!==-1&&f.length>g)for(let y=g;y<f.length;y++){const h=f[y];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&m.add(h)}cu(i,r,f,0,m)}}function cu(i,n,l,o,r){if(o>=n.length||typeof i!="object"||i===null)return;const f=n[o];if(f.endsWith("[]")){const m=f.slice(0,-2),g=i;if(m in g&&Array.isArray(g[m]))for(const y of g[m])cu(y,n,l,o+1,r)}else if(f==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const m=i,g=Object.keys(m).filter(h=>!h.startsWith("_")&&!r.has(h)),y={};for(const h of g)y[h]=m[h];for(const[h,A]of Object.entries(y)){const _=[];for(const T of l.slice(o))T==="*"?_.push(h):_.push(T);c(m,_,A)}for(const h of g)delete m[h]}}else{const m=i;f in m&&cu(m[f],n,l,o+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _u(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function I0(i){const n={},l=u(i,["operationName"]);l!=null&&c(n,["operationName"],l);const o=u(i,["resourceName"]);return o!=null&&c(n,["_url","resourceName"],o),n}function D0(i){const n={},l=u(i,["name"]);l!=null&&c(n,["name"],l);const o=u(i,["metadata"]);o!=null&&c(n,["metadata"],o);const r=u(i,["done"]);r!=null&&c(n,["done"],r);const f=u(i,["error"]);f!=null&&c(n,["error"],f);const m=u(i,["response","generateVideoResponse"]);return m!=null&&c(n,["response"],B0(m)),n}function U0(i){const n={},l=u(i,["name"]);l!=null&&c(n,["name"],l);const o=u(i,["metadata"]);o!=null&&c(n,["metadata"],o);const r=u(i,["done"]);r!=null&&c(n,["done"],r);const f=u(i,["error"]);f!=null&&c(n,["error"],f);const m=u(i,["response"]);return m!=null&&c(n,["response"],L0(m)),n}function B0(i){const n={},l=u(i,["generatedSamples"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>G0(m))),c(n,["generatedVideos"],f)}const o=u(i,["raiMediaFilteredCount"]);o!=null&&c(n,["raiMediaFilteredCount"],o);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(n,["raiMediaFilteredReasons"],r),n}function L0(i){const n={},l=u(i,["videos"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>P0(m))),c(n,["generatedVideos"],f)}const o=u(i,["raiMediaFilteredCount"]);o!=null&&c(n,["raiMediaFilteredCount"],o);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(n,["raiMediaFilteredReasons"],r),n}function G0(i){const n={},l=u(i,["video"]);return l!=null&&c(n,["video"],O0(l)),n}function P0(i){const n={},l=u(i,["_self"]);return l!=null&&c(n,["video"],J0(l)),n}function H0(i){const n={},l=u(i,["operationName"]);return l!=null&&c(n,["_url","operationName"],l),n}function q0(i){const n={},l=u(i,["operationName"]);return l!=null&&c(n,["_url","operationName"],l),n}function V0(i){const n={},l=u(i,["name"]);l!=null&&c(n,["name"],l);const o=u(i,["metadata"]);o!=null&&c(n,["metadata"],o);const r=u(i,["done"]);r!=null&&c(n,["done"],r);const f=u(i,["error"]);f!=null&&c(n,["error"],f);const m=u(i,["response"]);return m!=null&&c(n,["response"],z0(m)),n}function z0(i){const n={},l=u(i,["sdkHttpResponse"]);l!=null&&c(n,["sdkHttpResponse"],l);const o=u(i,["parent"]);o!=null&&c(n,["parent"],o);const r=u(i,["documentName"]);return r!=null&&c(n,["documentName"],r),n}function yh(i){const n={},l=u(i,["name"]);l!=null&&c(n,["name"],l);const o=u(i,["metadata"]);o!=null&&c(n,["metadata"],o);const r=u(i,["done"]);r!=null&&c(n,["done"],r);const f=u(i,["error"]);f!=null&&c(n,["error"],f);const m=u(i,["response"]);return m!=null&&c(n,["response"],F0(m)),n}function F0(i){const n={},l=u(i,["sdkHttpResponse"]);l!=null&&c(n,["sdkHttpResponse"],l);const o=u(i,["parent"]);o!=null&&c(n,["parent"],o);const r=u(i,["documentName"]);return r!=null&&c(n,["documentName"],r),n}function O0(i){const n={},l=u(i,["uri"]);l!=null&&c(n,["uri"],l);const o=u(i,["encodedVideo"]);o!=null&&c(n,["videoBytes"],_u(o));const r=u(i,["encoding"]);return r!=null&&c(n,["mimeType"],r),n}function J0(i){const n={},l=u(i,["gcsUri"]);l!=null&&c(n,["uri"],l);const o=u(i,["bytesBase64Encoded"]);o!=null&&c(n,["videoBytes"],_u(o));const r=u(i,["mimeType"]);return r!=null&&c(n,["mimeType"],r),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Om;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Om||(Om={}));var Jm;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(Jm||(Jm={}));var Ym;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(Ym||(Ym={}));var jn;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(jn||(jn={}));var Km;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Km||(Km={}));var jm;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(jm||(jm={}));var Qm;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(Qm||(Qm={}));var Xm;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Xm||(Xm={}));var Zm;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Zm||(Zm={}));var $m;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})($m||($m={}));var Wm;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(Wm||(Wm={}));var ep;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(ep||(ep={}));var tp;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE"})(tp||(tp={}));var np;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(np||(np={}));var ip;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(ip||(ip={}));var ap;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(ap||(ap={}));var lp;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(lp||(lp={}));var op;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(op||(op={}));var Qn;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(Qn||(Qn={}));var sp;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(sp||(sp={}));var rp;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(rp||(rp={}));var up;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(up||(up={}));var du;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(du||(du={}));var cp;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(cp||(cp={}));var dp;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(dp||(dp={}));var fp;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(fp||(fp={}));var mp;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(mp||(mp={}));var pp;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(pp||(pp={}));var hp;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(hp||(hp={}));var gp;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(gp||(gp={}));var yp;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(yp||(yp={}));var vp;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(vp||(vp={}));var Ap;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Ap||(Ap={}));var Sp;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Sp||(Sp={}));var _p;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(_p||(_p={}));var Tp;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Tp||(Tp={}));var Ep;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(Ep||(Ep={}));var Cp;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(Cp||(Cp={}));var xp;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(xp||(xp={}));var Np;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(Np||(Np={}));var bp;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(bp||(bp={}));var Mp;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(Mp||(Mp={}));var Rp;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(Rp||(Rp={}));var wp;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED"})(wp||(wp={}));var kp;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(kp||(kp={}));var Ip;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(Ip||(Ip={}));var Dp;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Dp||(Dp={}));var Up;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Up||(Up={}));var Bp;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(Bp||(Bp={}));var Lp;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Lp||(Lp={}));var Gp;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Gp||(Gp={}));var Pp;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(Pp||(Pp={}));var na;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(na||(na={}));class fu{constructor(n){const l={};for(const o of n.headers.entries())l[o[0]]=o[1];this.headers=l,this.responseInternal=n}json(){return this.responseInternal.json()}}class sl{get text(){var n,l,o,r,f,m,g,y;if(((r=(o=(l=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||l===void 0?void 0:l.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",A=!1;const _=[];for(const T of(y=(g=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[C,L]of Object.entries(T))C!=="text"&&C!=="thought"&&(L!==null||L!==void 0)&&_.push(C);if(typeof T.text=="string"){if(typeof T.thought=="boolean"&&T.thought)continue;A=!0,h+=T.text}}return _.length>0&&console.warn(`there are non-text parts ${_} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),A?h:void 0}get data(){var n,l,o,r,f,m,g,y;if(((r=(o=(l=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||l===void 0?void 0:l.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const A=[];for(const _ of(y=(g=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[T,C]of Object.entries(_))T!=="inlineData"&&(C!==null||C!==void 0)&&A.push(T);_.inlineData&&typeof _.inlineData.data=="string"&&(h+=atob(_.inlineData.data))}return A.length>0&&console.warn(`there are non-data parts ${A} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var n,l,o,r,f,m,g,y;if(((r=(o=(l=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||l===void 0?void 0:l.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(y=(g=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(A=>A.functionCall).map(A=>A.functionCall).filter(A=>A!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var n,l,o,r,f,m,g,y,h;if(((r=(o=(l=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||l===void 0?void 0:l.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const A=(y=(g=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(_=>_.executableCode).map(_=>_.executableCode).filter(_=>_!==void 0);if((A==null?void 0:A.length)!==0)return(h=A==null?void 0:A[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var n,l,o,r,f,m,g,y,h;if(((r=(o=(l=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||l===void 0?void 0:l.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const A=(y=(g=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(_=>_.codeExecutionResult).map(_=>_.codeExecutionResult).filter(_=>_!==void 0);if((A==null?void 0:A.length)!==0)return(h=A==null?void 0:A[0])===null||h===void 0?void 0:h.output}}class Hp{}class qp{}class Y0{}class K0{}class j0{}class Q0{}class Vp{}class zp{}class Fp{}class X0{}class Do{_fromAPIResponse({apiResponse:n,_isVertexAI:l}){const o=new Do;let r;const f=n;return l?r=U0(f):r=D0(f),Object.assign(o,r),o}}class Op{}class Jp{}class Yp{}class Z0{}class $0{}class W0{}class Tu{_fromAPIResponse({apiResponse:n,_isVertexAI:l}){const o=new Tu,f=V0(n);return Object.assign(o,f),o}}class ev{}class tv{}class nv{}class Kp{}class iv{get text(){var n,l,o;let r="",f=!1;const m=[];for(const g of(o=(l=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&o!==void 0?o:[]){for(const[y,h]of Object.entries(g))y!=="text"&&y!=="thought"&&h!==null&&m.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;f=!0,r+=g.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?r:void 0}get data(){var n,l,o;let r="";const f=[];for(const m of(o=(l=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&o!==void 0?o:[]){for(const[g,y]of Object.entries(m))g!=="inlineData"&&y!==null&&f.push(g);m.inlineData&&typeof m.inlineData.data=="string"&&(r+=atob(m.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class av{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Eu{_fromAPIResponse({apiResponse:n,_isVertexAI:l}){const o=new Eu,f=yh(n);return Object.assign(o,f),o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Re(i,n){if(!n||typeof n!="string")throw new Error("model is required and must be a string");if(i.isVertexAI()){if(n.startsWith("publishers/")||n.startsWith("projects/")||n.startsWith("models/"))return n;if(n.indexOf("/")>=0){const l=n.split("/",2);return`publishers/${l[0]}/models/${l[1]}`}else return`publishers/google/models/${n}`}else return n.startsWith("models/")||n.startsWith("tunedModels/")?n:`models/${n}`}function vh(i,n){const l=Re(i,n);return l?l.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${l}`:l.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${l}`:l:""}function Ah(i){return Array.isArray(i)?i.map(n=>Uo(n)):[Uo(i)]}function Uo(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function Sh(i){const n=Uo(i);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function _h(i){const n=Uo(i);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function jp(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function Th(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(n=>jp(n)):[jp(i)]}function mu(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function Qp(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function Xp(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function dt(i){if(i==null)throw new Error("ContentUnion is required");return mu(i)?i:{role:"user",parts:Th(i)}}function Cu(i,n){if(!n)return[];if(i.isVertexAI()&&Array.isArray(n))return n.flatMap(l=>{const o=dt(l);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(i.isVertexAI()){const l=dt(n);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]}return Array.isArray(n)?n.map(l=>dt(l)):[dt(n)]}function Vt(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(Qp(i)||Xp(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[dt(i)]}const n=[],l=[],o=mu(i[0]);for(const r of i){const f=mu(r);if(f!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(f)n.push(r);else{if(Qp(r)||Xp(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");l.push(r)}}return o||n.push({role:"user",parts:Th(l)}),n}function lv(i,n){i.includes("null")&&(n.nullable=!0);const l=i.filter(o=>o!=="null");if(l.length===1)n.type=Object.values(jn).includes(l[0].toUpperCase())?l[0].toUpperCase():jn.TYPE_UNSPECIFIED;else{n.anyOf=[];for(const o of l)n.anyOf.push({type:Object.values(jn).includes(o.toUpperCase())?o.toUpperCase():jn.TYPE_UNSPECIFIED})}}function ia(i){const n={},l=["items"],o=["anyOf"],r=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const f=i.anyOf;f!=null&&f.length==2&&(f[0].type==="null"?(n.nullable=!0,i=f[1]):f[1].type==="null"&&(n.nullable=!0,i=f[0])),i.type instanceof Array&&lv(i.type,n);for(const[m,g]of Object.entries(i))if(g!=null)if(m=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;n.type=Object.values(jn).includes(g.toUpperCase())?g.toUpperCase():jn.TYPE_UNSPECIFIED}else if(l.includes(m))n[m]=ia(g);else if(o.includes(m)){const y=[];for(const h of g){if(h.type=="null"){n.nullable=!0;continue}y.push(ia(h))}n[m]=y}else if(r.includes(m)){const y={};for(const[h,A]of Object.entries(g))y[h]=ia(A);n[m]=y}else{if(m==="additionalProperties")continue;n[m]=g}return n}function xu(i){return ia(i)}function Nu(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function bu(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function oa(i){if(i.functionDeclarations)for(const n of i.functionDeclarations)n.parameters&&(Object.keys(n.parameters).includes("$schema")?n.parametersJsonSchema||(n.parametersJsonSchema=n.parameters,delete n.parameters):n.parameters=ia(n.parameters)),n.response&&(Object.keys(n.response).includes("$schema")?n.responseJsonSchema||(n.responseJsonSchema=n.response,delete n.response):n.response=ia(n.response));return i}function sa(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const n=[];for(const l of i)n.push(l);return n}function ov(i,n,l,o=1){const r=!n.startsWith(`${l}/`)&&n.split("/").length===o;return i.isVertexAI()?n.startsWith("projects/")?n:n.startsWith("locations/")?`projects/${i.getProject()}/${n}`:n.startsWith(`${l}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${n}`:r?`projects/${i.getProject()}/locations/${i.getLocation()}/${l}/${n}`:n:r?`${l}/${n}`:n}function Tn(i,n){if(typeof n!="string")throw new Error("name must be a string");return ov(i,n,"cachedContents")}function Eh(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function Xn(i){return _u(i)}function sv(i){return i!=null&&typeof i=="object"&&"name"in i}function rv(i){return i!=null&&typeof i=="object"&&"video"in i}function uv(i){return i!=null&&typeof i=="object"&&"uri"in i}function Ch(i){var n;let l;if(sv(i)&&(l=i.name),!(uv(i)&&(l=i.uri,l===void 0))&&!(rv(i)&&(l=(n=i.video)===null||n===void 0?void 0:n.uri,l===void 0))){if(typeof i=="string"&&(l=i),l===void 0)throw new Error("Could not extract file name from the provided input.");if(l.startsWith("https://")){const r=l.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${l}`);l=r[0]}else l.startsWith("files/")&&(l=l.split("files/")[1]);return l}}function xh(i,n){let l;return i.isVertexAI()?l=n?"publishers/google/models":"models":l=n?"models":"tunedModels",l}function Nh(i){for(const n of["models","tunedModels","publisherModels"])if(cv(i,n))return i[n];return[]}function cv(i,n){return i!==null&&typeof i=="object"&&n in i}function dv(i,n={}){const l=i,o={name:l.name,description:l.description,parametersJsonSchema:l.inputSchema};return l.outputSchema&&(o.responseJsonSchema=l.outputSchema),n.behavior&&(o.behavior=n.behavior),{functionDeclarations:[o]}}function fv(i,n={}){const l=[],o=new Set;for(const r of i){const f=r.name;if(o.has(f))throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);o.add(f);const m=dv(r,n);m.functionDeclarations&&l.push(...m.functionDeclarations)}return{functionDeclarations:l}}function bh(i,n){let l;if(typeof n=="string")if(i.isVertexAI())if(n.startsWith("gs://"))l={format:"jsonl",gcsUri:[n]};else if(n.startsWith("bq://"))l={format:"bigquery",bigqueryUri:n};else throw new Error(`Unsupported string source for Vertex AI: ${n}`);else if(n.startsWith("files/"))l={fileName:n};else throw new Error(`Unsupported string source for Gemini API: ${n}`);else if(Array.isArray(n)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");l={inlinedRequests:n}}else l=n;const o=[l.gcsUri,l.bigqueryUri].filter(Boolean).length,r=[l.inlinedRequests,l.fileName].filter(Boolean).length;if(i.isVertexAI()){if(r>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return l}function mv(i){if(typeof i!="string")return i;const n=i;if(n.startsWith("gs://"))return{format:"jsonl",gcsUri:n};if(n.startsWith("bq://"))return{format:"bigquery",bigqueryUri:n};throw new Error(`Unsupported destination: ${n}`)}function Mh(i){if(typeof i!="object"||i===null)return{};const n=i,l=n.inlinedResponses;if(typeof l!="object"||l===null)return i;const r=l.inlinedResponses;if(!Array.isArray(r)||r.length===0)return i;let f=!1;for(const m of r){if(typeof m!="object"||m===null)continue;const y=m.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){f=!0;break}}return f&&(n.inlinedEmbedContentResponses=n.inlinedResponses,delete n.inlinedResponses),i}function ra(i,n){const l=n;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(l))return l.split("/").pop();throw new Error(`Invalid batch job name: ${l}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(l))return l.split("/").pop();if(/^\d+$/.test(l))return l;throw new Error(`Invalid batch job name: ${l}.`)}function Rh(i){const n=i;return n==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":n==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":n==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":n==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":n==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":n==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":n==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pv(i){const n={},l=u(i,["responsesFile"]);l!=null&&c(n,["fileName"],l);const o=u(i,["inlinedResponses","inlinedResponses"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>Jv(m))),c(n,["inlinedResponses"],f)}const r=u(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>m)),c(n,["inlinedEmbedContentResponses"],f)}return n}function hv(i){const n={},l=u(i,["predictionsFormat"]);l!=null&&c(n,["format"],l);const o=u(i,["gcsDestination","outputUriPrefix"]);o!=null&&c(n,["gcsUri"],o);const r=u(i,["bigqueryDestination","outputUri"]);return r!=null&&c(n,["bigqueryUri"],r),n}function gv(i){const n={},l=u(i,["format"]);l!=null&&c(n,["predictionsFormat"],l);const o=u(i,["gcsUri"]);o!=null&&c(n,["gcsDestination","outputUriPrefix"],o);const r=u(i,["bigqueryUri"]);if(r!=null&&c(n,["bigqueryDestination","outputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return n}function ko(i){const n={},l=u(i,["name"]);l!=null&&c(n,["name"],l);const o=u(i,["metadata","displayName"]);o!=null&&c(n,["displayName"],o);const r=u(i,["metadata","state"]);r!=null&&c(n,["state"],Rh(r));const f=u(i,["metadata","createTime"]);f!=null&&c(n,["createTime"],f);const m=u(i,["metadata","endTime"]);m!=null&&c(n,["endTime"],m);const g=u(i,["metadata","updateTime"]);g!=null&&c(n,["updateTime"],g);const y=u(i,["metadata","model"]);y!=null&&c(n,["model"],y);const h=u(i,["metadata","output"]);return h!=null&&c(n,["dest"],pv(Mh(h))),n}function pu(i){const n={},l=u(i,["name"]);l!=null&&c(n,["name"],l);const o=u(i,["displayName"]);o!=null&&c(n,["displayName"],o);const r=u(i,["state"]);r!=null&&c(n,["state"],Rh(r));const f=u(i,["error"]);f!=null&&c(n,["error"],f);const m=u(i,["createTime"]);m!=null&&c(n,["createTime"],m);const g=u(i,["startTime"]);g!=null&&c(n,["startTime"],g);const y=u(i,["endTime"]);y!=null&&c(n,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&c(n,["updateTime"],h);const A=u(i,["model"]);A!=null&&c(n,["model"],A);const _=u(i,["inputConfig"]);_!=null&&c(n,["src"],yv(_));const T=u(i,["outputConfig"]);T!=null&&c(n,["dest"],hv(Mh(T)));const C=u(i,["completionStats"]);return C!=null&&c(n,["completionStats"],C),n}function yv(i){const n={},l=u(i,["instancesFormat"]);l!=null&&c(n,["format"],l);const o=u(i,["gcsSource","uris"]);o!=null&&c(n,["gcsUri"],o);const r=u(i,["bigquerySource","inputUri"]);return r!=null&&c(n,["bigqueryUri"],r),n}function vv(i,n){const l={};if(u(n,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(n,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=u(n,["fileName"]);o!=null&&c(l,["fileName"],o);const r=u(n,["inlinedRequests"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>Ov(i,m))),c(l,["requests","requests"],f)}return l}function Av(i){const n={},l=u(i,["format"]);l!=null&&c(n,["instancesFormat"],l);const o=u(i,["gcsUri"]);o!=null&&c(n,["gcsSource","uris"],o);const r=u(i,["bigqueryUri"]);if(r!=null&&c(n,["bigquerySource","inputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return n}function Sv(i){const n={},l=u(i,["data"]);if(l!=null&&c(n,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["mimeType"]);return o!=null&&c(n,["mimeType"],o),n}function _v(i,n){const l={},o=u(n,["name"]);return o!=null&&c(l,["_url","name"],ra(i,o)),l}function Tv(i,n){const l={},o=u(n,["name"]);return o!=null&&c(l,["_url","name"],ra(i,o)),l}function Ev(i){const n={},l=u(i,["content"]);l!=null&&c(n,["content"],l);const o=u(i,["citationMetadata"]);o!=null&&c(n,["citationMetadata"],Cv(o));const r=u(i,["tokenCount"]);r!=null&&c(n,["tokenCount"],r);const f=u(i,["finishReason"]);f!=null&&c(n,["finishReason"],f);const m=u(i,["avgLogprobs"]);m!=null&&c(n,["avgLogprobs"],m);const g=u(i,["groundingMetadata"]);g!=null&&c(n,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&c(n,["index"],y);const h=u(i,["logprobsResult"]);h!=null&&c(n,["logprobsResult"],h);const A=u(i,["safetyRatings"]);if(A!=null){let T=A;Array.isArray(T)&&(T=T.map(C=>C)),c(n,["safetyRatings"],T)}const _=u(i,["urlContextMetadata"]);return _!=null&&c(n,["urlContextMetadata"],_),n}function Cv(i){const n={},l=u(i,["citationSources"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>r)),c(n,["citations"],o)}return n}function wh(i){const n={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>$v(f))),c(n,["parts"],r)}const o=u(i,["role"]);return o!=null&&c(n,["role"],o),n}function xv(i,n){const l={},o=u(i,["displayName"]);if(n!==void 0&&o!=null&&c(n,["batch","displayName"],o),u(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return l}function Nv(i,n){const l={},o=u(i,["displayName"]);n!==void 0&&o!=null&&c(n,["displayName"],o);const r=u(i,["dest"]);return n!==void 0&&r!=null&&c(n,["outputConfig"],gv(mv(r))),l}function Zp(i,n){const l={},o=u(n,["model"]);o!=null&&c(l,["_url","model"],Re(i,o));const r=u(n,["src"]);r!=null&&c(l,["batch","inputConfig"],vv(i,bh(i,r)));const f=u(n,["config"]);return f!=null&&xv(f,l),l}function bv(i,n){const l={},o=u(n,["model"]);o!=null&&c(l,["model"],Re(i,o));const r=u(n,["src"]);r!=null&&c(l,["inputConfig"],Av(bh(i,r)));const f=u(n,["config"]);return f!=null&&Nv(f,l),l}function Mv(i,n){const l={},o=u(i,["displayName"]);return n!==void 0&&o!=null&&c(n,["batch","displayName"],o),l}function Rv(i,n){const l={},o=u(n,["model"]);o!=null&&c(l,["_url","model"],Re(i,o));const r=u(n,["src"]);r!=null&&c(l,["batch","inputConfig"],Lv(i,r));const f=u(n,["config"]);return f!=null&&Mv(f,l),l}function wv(i,n){const l={},o=u(n,["name"]);return o!=null&&c(l,["_url","name"],ra(i,o)),l}function kv(i,n){const l={},o=u(n,["name"]);return o!=null&&c(l,["_url","name"],ra(i,o)),l}function Iv(i){const n={},l=u(i,["sdkHttpResponse"]);l!=null&&c(n,["sdkHttpResponse"],l);const o=u(i,["name"]);o!=null&&c(n,["name"],o);const r=u(i,["done"]);r!=null&&c(n,["done"],r);const f=u(i,["error"]);return f!=null&&c(n,["error"],f),n}function Dv(i){const n={},l=u(i,["sdkHttpResponse"]);l!=null&&c(n,["sdkHttpResponse"],l);const o=u(i,["name"]);o!=null&&c(n,["name"],o);const r=u(i,["done"]);r!=null&&c(n,["done"],r);const f=u(i,["error"]);return f!=null&&c(n,["error"],f),n}function Uv(i,n){const l={},o=u(n,["contents"]);if(o!=null){let f=Cu(i,o);Array.isArray(f)&&(f=f.map(m=>m)),c(l,["requests[]","request","content"],f)}const r=u(n,["config"]);return r!=null&&(c(l,["_self"],Bv(r,l)),k0(l,{"requests[].*":"requests[].request.*"})),l}function Bv(i,n){const l={},o=u(i,["taskType"]);n!==void 0&&o!=null&&c(n,["requests[]","taskType"],o);const r=u(i,["title"]);n!==void 0&&r!=null&&c(n,["requests[]","title"],r);const f=u(i,["outputDimensionality"]);if(n!==void 0&&f!=null&&c(n,["requests[]","outputDimensionality"],f),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function Lv(i,n){const l={},o=u(n,["fileName"]);o!=null&&c(l,["file_name"],o);const r=u(n,["inlinedRequests"]);return r!=null&&c(l,["requests"],Uv(i,r)),l}function Gv(i){const n={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(n,["fileUri"],l);const o=u(i,["mimeType"]);return o!=null&&c(n,["mimeType"],o),n}function Pv(i,n,l){const o={},r=u(n,["systemInstruction"]);l!==void 0&&r!=null&&c(l,["systemInstruction"],wh(dt(r)));const f=u(n,["temperature"]);f!=null&&c(o,["temperature"],f);const m=u(n,["topP"]);m!=null&&c(o,["topP"],m);const g=u(n,["topK"]);g!=null&&c(o,["topK"],g);const y=u(n,["candidateCount"]);y!=null&&c(o,["candidateCount"],y);const h=u(n,["maxOutputTokens"]);h!=null&&c(o,["maxOutputTokens"],h);const A=u(n,["stopSequences"]);A!=null&&c(o,["stopSequences"],A);const _=u(n,["responseLogprobs"]);_!=null&&c(o,["responseLogprobs"],_);const T=u(n,["logprobs"]);T!=null&&c(o,["logprobs"],T);const C=u(n,["presencePenalty"]);C!=null&&c(o,["presencePenalty"],C);const L=u(n,["frequencyPenalty"]);L!=null&&c(o,["frequencyPenalty"],L);const H=u(n,["seed"]);H!=null&&c(o,["seed"],H);const Z=u(n,["responseMimeType"]);Z!=null&&c(o,["responseMimeType"],Z);const Q=u(n,["responseSchema"]);Q!=null&&c(o,["responseSchema"],xu(Q));const j=u(n,["responseJsonSchema"]);if(j!=null&&c(o,["responseJsonSchema"],j),u(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=u(n,["safetySettings"]);if(l!==void 0&&O!=null){let re=O;Array.isArray(re)&&(re=re.map(Ce=>Wv(Ce))),c(l,["safetySettings"],re)}const G=u(n,["tools"]);if(l!==void 0&&G!=null){let re=sa(G);Array.isArray(re)&&(re=re.map(Ce=>eA(oa(Ce)))),c(l,["tools"],re)}const z=u(n,["toolConfig"]);if(l!==void 0&&z!=null&&c(l,["toolConfig"],z),u(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const K=u(n,["cachedContent"]);l!==void 0&&K!=null&&c(l,["cachedContent"],Tn(i,K));const P=u(n,["responseModalities"]);P!=null&&c(o,["responseModalities"],P);const ae=u(n,["mediaResolution"]);ae!=null&&c(o,["mediaResolution"],ae);const W=u(n,["speechConfig"]);if(W!=null&&c(o,["speechConfig"],Nu(W)),u(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ne=u(n,["thinkingConfig"]);ne!=null&&c(o,["thinkingConfig"],ne);const fe=u(n,["imageConfig"]);return fe!=null&&c(o,["imageConfig"],fe),o}function Hv(i){const n={},l=u(i,["sdkHttpResponse"]);l!=null&&c(n,["sdkHttpResponse"],l);const o=u(i,["candidates"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(h=>Ev(h))),c(n,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&c(n,["modelVersion"],r);const f=u(i,["promptFeedback"]);f!=null&&c(n,["promptFeedback"],f);const m=u(i,["responseId"]);m!=null&&c(n,["responseId"],m);const g=u(i,["usageMetadata"]);return g!=null&&c(n,["usageMetadata"],g),n}function qv(i,n){const l={},o=u(n,["name"]);return o!=null&&c(l,["_url","name"],ra(i,o)),l}function Vv(i,n){const l={},o=u(n,["name"]);return o!=null&&c(l,["_url","name"],ra(i,o)),l}function zv(i){const n={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(n,["enableWidget"],l),n}function Fv(i){const n={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(n,["timeRangeFilter"],l),n}function Ov(i,n){const l={},o=u(n,["model"]);o!=null&&c(l,["request","model"],Re(i,o));const r=u(n,["contents"]);if(r!=null){let g=Vt(r);Array.isArray(g)&&(g=g.map(y=>wh(y))),c(l,["request","contents"],g)}const f=u(n,["metadata"]);f!=null&&c(l,["metadata"],f);const m=u(n,["config"]);return m!=null&&c(l,["request","generationConfig"],Pv(i,m,u(l,["request"],{}))),l}function Jv(i){const n={},l=u(i,["response"]);l!=null&&c(n,["response"],Hv(l));const o=u(i,["error"]);return o!=null&&c(n,["error"],o),n}function Yv(i,n){const l={},o=u(i,["pageSize"]);n!==void 0&&o!=null&&c(n,["_query","pageSize"],o);const r=u(i,["pageToken"]);if(n!==void 0&&r!=null&&c(n,["_query","pageToken"],r),u(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return l}function Kv(i,n){const l={},o=u(i,["pageSize"]);n!==void 0&&o!=null&&c(n,["_query","pageSize"],o);const r=u(i,["pageToken"]);n!==void 0&&r!=null&&c(n,["_query","pageToken"],r);const f=u(i,["filter"]);return n!==void 0&&f!=null&&c(n,["_query","filter"],f),l}function jv(i){const n={},l=u(i,["config"]);return l!=null&&Yv(l,n),n}function Qv(i){const n={},l=u(i,["config"]);return l!=null&&Kv(l,n),n}function Xv(i){const n={},l=u(i,["sdkHttpResponse"]);l!=null&&c(n,["sdkHttpResponse"],l);const o=u(i,["nextPageToken"]);o!=null&&c(n,["nextPageToken"],o);const r=u(i,["operations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>ko(m))),c(n,["batchJobs"],f)}return n}function Zv(i){const n={},l=u(i,["sdkHttpResponse"]);l!=null&&c(n,["sdkHttpResponse"],l);const o=u(i,["nextPageToken"]);o!=null&&c(n,["nextPageToken"],o);const r=u(i,["batchPredictionJobs"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>pu(m))),c(n,["batchJobs"],f)}return n}function $v(i){const n={},l=u(i,["functionCall"]);l!=null&&c(n,["functionCall"],l);const o=u(i,["codeExecutionResult"]);o!=null&&c(n,["codeExecutionResult"],o);const r=u(i,["executableCode"]);r!=null&&c(n,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(n,["fileData"],Gv(f));const m=u(i,["functionResponse"]);m!=null&&c(n,["functionResponse"],m);const g=u(i,["inlineData"]);g!=null&&c(n,["inlineData"],Sv(g));const y=u(i,["text"]);y!=null&&c(n,["text"],y);const h=u(i,["thought"]);h!=null&&c(n,["thought"],h);const A=u(i,["thoughtSignature"]);A!=null&&c(n,["thoughtSignature"],A);const _=u(i,["videoMetadata"]);return _!=null&&c(n,["videoMetadata"],_),n}function Wv(i){const n={},l=u(i,["category"]);if(l!=null&&c(n,["category"],l),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=u(i,["threshold"]);return o!=null&&c(n,["threshold"],o),n}function eA(i){const n={},l=u(i,["functionDeclarations"]);if(l!=null){let A=l;Array.isArray(A)&&(A=A.map(_=>_)),c(n,["functionDeclarations"],A)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["googleSearchRetrieval"]);o!=null&&c(n,["googleSearchRetrieval"],o);const r=u(i,["computerUse"]);r!=null&&c(n,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(n,["fileSearch"],f);const m=u(i,["codeExecution"]);if(m!=null&&c(n,["codeExecution"],m),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(n,["googleMaps"],zv(g));const y=u(i,["googleSearch"]);y!=null&&c(n,["googleSearch"],Fv(y));const h=u(i,["urlContext"]);return h!=null&&c(n,["urlContext"],h),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Sn;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(Sn||(Sn={}));class hi{constructor(n,l,o,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=l,this.init(n,o,r)}init(n,l,o){var r,f;this.nameInternal=n,this.pageInternal=l[this.nameInternal]||[],this.sdkHttpResponseInternal=l==null?void 0:l.sdkHttpResponse,this.idxInternal=0;let m={config:{}};!o||Object.keys(o).length===0?m={config:{}}:typeof o=="object"?m=Object.assign({},o):m=o,m.config&&(m.config.pageToken=l.nextPageToken),this.paramsInternal=m,this.pageInternalSize=(f=(r=m.config)===null||r===void 0?void 0:r.pageSize)!==null&&f!==void 0?f:this.pageInternal.length}initNextPage(n){this.init(this.nameInternal,n,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(n){return this.pageInternal[n]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const n=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:n,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const n=await this.requestInternal(this.params);return this.initNextPage(n),this.page}hasNextPage(){var n;return((n=this.params.config)===null||n===void 0?void 0:n.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tA extends _n{constructor(n){super(),this.apiClient=n,this.create=async l=>(this.apiClient.isVertexAI()&&(l.config=this.formatDestination(l.src,l.config)),this.createInternal(l)),this.createEmbeddings=async l=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(l)},this.list=async(l={})=>new hi(Sn.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(l),l)}createInlinedGenerateContentRequest(n){const l=Zp(this.apiClient,n),o=l._url,r=ie("{model}:batchGenerateContent",o),g=l.batch.inputConfig.requests,y=g.requests,h=[];for(const A of y){const _=Object.assign({},A);if(_.systemInstruction){const T=_.systemInstruction;delete _.systemInstruction;const C=_.request;C.systemInstruction=T,_.request=C}h.push(_)}return g.requests=h,delete l.config,delete l._url,delete l._query,{path:r,body:l}}getGcsUri(n){if(typeof n=="string")return n.startsWith("gs://")?n:void 0;if(!Array.isArray(n)&&n.gcsUri&&n.gcsUri.length>0)return n.gcsUri[0]}getBigqueryUri(n){if(typeof n=="string")return n.startsWith("bq://")?n:void 0;if(!Array.isArray(n))return n.bigqueryUri}formatDestination(n,l){const o=l?Object.assign({},l):{},r=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${r}`),o.dest===void 0){const f=this.getGcsUri(n),m=this.getBigqueryUri(n);if(f)f.endsWith(".jsonl")?o.dest=`${f.slice(0,-6)}/dest`:o.dest=`${f}_dest_${r}`;else if(m)o.dest=`${m}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(n){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=bv(this.apiClient,n);return g=ie("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(A=>A.json()),m.then(A=>pu(A))}else{const h=Zp(this.apiClient,n);return g=ie("{model}:batchGenerateContent",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(A=>A.json()),m.then(A=>ko(A))}}async createEmbeddingsInternal(n){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Rv(this.apiClient,n);return f=ie("{model}:asyncBatchEmbedContent",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>ko(y))}}async get(n){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=Vv(this.apiClient,n);return g=ie("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(A=>A.json()),m.then(A=>pu(A))}else{const h=qv(this.apiClient,n);return g=ie("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(A=>A.json()),m.then(A=>ko(A))}}async cancel(n){var l,o,r,f;let m="",g={};if(this.apiClient.isVertexAI()){const y=Tv(this.apiClient,n);m=ie("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal})}else{const y=_v(this.apiClient,n);m=ie("batches/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal})}}async listInternal(n){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=Qv(n);return g=ie("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(A=>A.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:A.headers},T})),m.then(A=>{const _=Zv(A),T=new Kp;return Object.assign(T,_),T})}else{const h=jv(n);return g=ie("batches",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(A=>A.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:A.headers},T})),m.then(A=>{const _=Xv(A),T=new Kp;return Object.assign(T,_),T})}}async delete(n){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=kv(this.apiClient,n);return g=ie("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(A=>A.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:A.headers},T})),m.then(A=>Dv(A))}else{const h=wv(this.apiClient,n);return g=ie("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(A=>A.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:A.headers},T})),m.then(A=>Iv(A))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nA(i){const n={},l=u(i,["data"]);if(l!=null&&c(n,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["mimeType"]);return o!=null&&c(n,["mimeType"],o),n}function $p(i){const n={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>EA(f))),c(n,["parts"],r)}const o=u(i,["role"]);return o!=null&&c(n,["role"],o),n}function iA(i,n){const l={},o=u(i,["ttl"]);n!==void 0&&o!=null&&c(n,["ttl"],o);const r=u(i,["expireTime"]);n!==void 0&&r!=null&&c(n,["expireTime"],r);const f=u(i,["displayName"]);n!==void 0&&f!=null&&c(n,["displayName"],f);const m=u(i,["contents"]);if(n!==void 0&&m!=null){let A=Vt(m);Array.isArray(A)&&(A=A.map(_=>$p(_))),c(n,["contents"],A)}const g=u(i,["systemInstruction"]);n!==void 0&&g!=null&&c(n,["systemInstruction"],$p(dt(g)));const y=u(i,["tools"]);if(n!==void 0&&y!=null){let A=y;Array.isArray(A)&&(A=A.map(_=>CA(_))),c(n,["tools"],A)}const h=u(i,["toolConfig"]);if(n!==void 0&&h!=null&&c(n,["toolConfig"],h),u(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return l}function aA(i,n){const l={},o=u(i,["ttl"]);n!==void 0&&o!=null&&c(n,["ttl"],o);const r=u(i,["expireTime"]);n!==void 0&&r!=null&&c(n,["expireTime"],r);const f=u(i,["displayName"]);n!==void 0&&f!=null&&c(n,["displayName"],f);const m=u(i,["contents"]);if(n!==void 0&&m!=null){let _=Vt(m);Array.isArray(_)&&(_=_.map(T=>T)),c(n,["contents"],_)}const g=u(i,["systemInstruction"]);n!==void 0&&g!=null&&c(n,["systemInstruction"],dt(g));const y=u(i,["tools"]);if(n!==void 0&&y!=null){let _=y;Array.isArray(_)&&(_=_.map(T=>xA(T))),c(n,["tools"],_)}const h=u(i,["toolConfig"]);n!==void 0&&h!=null&&c(n,["toolConfig"],h);const A=u(i,["kmsKeyName"]);return n!==void 0&&A!=null&&c(n,["encryption_spec","kmsKeyName"],A),l}function lA(i,n){const l={},o=u(n,["model"]);o!=null&&c(l,["model"],vh(i,o));const r=u(n,["config"]);return r!=null&&iA(r,l),l}function oA(i,n){const l={},o=u(n,["model"]);o!=null&&c(l,["model"],vh(i,o));const r=u(n,["config"]);return r!=null&&aA(r,l),l}function sA(i,n){const l={},o=u(n,["name"]);return o!=null&&c(l,["_url","name"],Tn(i,o)),l}function rA(i,n){const l={},o=u(n,["name"]);return o!=null&&c(l,["_url","name"],Tn(i,o)),l}function uA(i){const n={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(n,["sdkHttpResponse"],l),n}function cA(i){const n={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(n,["sdkHttpResponse"],l),n}function dA(i){const n={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(n,["fileUri"],l);const o=u(i,["mimeType"]);return o!=null&&c(n,["mimeType"],o),n}function fA(i){const n={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=u(i,["description"]);l!=null&&c(n,["description"],l);const o=u(i,["name"]);o!=null&&c(n,["name"],o);const r=u(i,["parameters"]);r!=null&&c(n,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(n,["parametersJsonSchema"],f);const m=u(i,["response"]);m!=null&&c(n,["response"],m);const g=u(i,["responseJsonSchema"]);return g!=null&&c(n,["responseJsonSchema"],g),n}function mA(i,n){const l={},o=u(n,["name"]);return o!=null&&c(l,["_url","name"],Tn(i,o)),l}function pA(i,n){const l={},o=u(n,["name"]);return o!=null&&c(l,["_url","name"],Tn(i,o)),l}function hA(i){const n={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(n,["enableWidget"],l),n}function gA(i){const n={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(n,["timeRangeFilter"],l),n}function yA(i,n){const l={},o=u(i,["pageSize"]);n!==void 0&&o!=null&&c(n,["_query","pageSize"],o);const r=u(i,["pageToken"]);return n!==void 0&&r!=null&&c(n,["_query","pageToken"],r),l}function vA(i,n){const l={},o=u(i,["pageSize"]);n!==void 0&&o!=null&&c(n,["_query","pageSize"],o);const r=u(i,["pageToken"]);return n!==void 0&&r!=null&&c(n,["_query","pageToken"],r),l}function AA(i){const n={},l=u(i,["config"]);return l!=null&&yA(l,n),n}function SA(i){const n={},l=u(i,["config"]);return l!=null&&vA(l,n),n}function _A(i){const n={},l=u(i,["sdkHttpResponse"]);l!=null&&c(n,["sdkHttpResponse"],l);const o=u(i,["nextPageToken"]);o!=null&&c(n,["nextPageToken"],o);const r=u(i,["cachedContents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>m)),c(n,["cachedContents"],f)}return n}function TA(i){const n={},l=u(i,["sdkHttpResponse"]);l!=null&&c(n,["sdkHttpResponse"],l);const o=u(i,["nextPageToken"]);o!=null&&c(n,["nextPageToken"],o);const r=u(i,["cachedContents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>m)),c(n,["cachedContents"],f)}return n}function EA(i){const n={},l=u(i,["functionCall"]);l!=null&&c(n,["functionCall"],l);const o=u(i,["codeExecutionResult"]);o!=null&&c(n,["codeExecutionResult"],o);const r=u(i,["executableCode"]);r!=null&&c(n,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(n,["fileData"],dA(f));const m=u(i,["functionResponse"]);m!=null&&c(n,["functionResponse"],m);const g=u(i,["inlineData"]);g!=null&&c(n,["inlineData"],nA(g));const y=u(i,["text"]);y!=null&&c(n,["text"],y);const h=u(i,["thought"]);h!=null&&c(n,["thought"],h);const A=u(i,["thoughtSignature"]);A!=null&&c(n,["thoughtSignature"],A);const _=u(i,["videoMetadata"]);return _!=null&&c(n,["videoMetadata"],_),n}function CA(i){const n={},l=u(i,["functionDeclarations"]);if(l!=null){let A=l;Array.isArray(A)&&(A=A.map(_=>_)),c(n,["functionDeclarations"],A)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["googleSearchRetrieval"]);o!=null&&c(n,["googleSearchRetrieval"],o);const r=u(i,["computerUse"]);r!=null&&c(n,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(n,["fileSearch"],f);const m=u(i,["codeExecution"]);if(m!=null&&c(n,["codeExecution"],m),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(n,["googleMaps"],hA(g));const y=u(i,["googleSearch"]);y!=null&&c(n,["googleSearch"],gA(y));const h=u(i,["urlContext"]);return h!=null&&c(n,["urlContext"],h),n}function xA(i){const n={},l=u(i,["functionDeclarations"]);if(l!=null){let _=l;Array.isArray(_)&&(_=_.map(T=>fA(T))),c(n,["functionDeclarations"],_)}const o=u(i,["retrieval"]);o!=null&&c(n,["retrieval"],o);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(n,["googleSearchRetrieval"],r);const f=u(i,["computerUse"]);if(f!=null&&c(n,["computerUse"],f),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const m=u(i,["codeExecution"]);m!=null&&c(n,["codeExecution"],m);const g=u(i,["enterpriseWebSearch"]);g!=null&&c(n,["enterpriseWebSearch"],g);const y=u(i,["googleMaps"]);y!=null&&c(n,["googleMaps"],y);const h=u(i,["googleSearch"]);h!=null&&c(n,["googleSearch"],h);const A=u(i,["urlContext"]);return A!=null&&c(n,["urlContext"],A),n}function NA(i,n){const l={},o=u(i,["ttl"]);n!==void 0&&o!=null&&c(n,["ttl"],o);const r=u(i,["expireTime"]);return n!==void 0&&r!=null&&c(n,["expireTime"],r),l}function bA(i,n){const l={},o=u(i,["ttl"]);n!==void 0&&o!=null&&c(n,["ttl"],o);const r=u(i,["expireTime"]);return n!==void 0&&r!=null&&c(n,["expireTime"],r),l}function MA(i,n){const l={},o=u(n,["name"]);o!=null&&c(l,["_url","name"],Tn(i,o));const r=u(n,["config"]);return r!=null&&NA(r,l),l}function RA(i,n){const l={},o=u(n,["name"]);o!=null&&c(l,["_url","name"],Tn(i,o));const r=u(n,["config"]);return r!=null&&bA(r,l),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wA extends _n{constructor(n){super(),this.apiClient=n,this.list=async(l={})=>new hi(Sn.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(l),l)}async create(n){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=oA(this.apiClient,n);return g=ie("cachedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(A=>A.json()),m.then(A=>A)}else{const h=lA(this.apiClient,n);return g=ie("cachedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(A=>A.json()),m.then(A=>A)}}async get(n){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=pA(this.apiClient,n);return g=ie("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(A=>A.json()),m.then(A=>A)}else{const h=mA(this.apiClient,n);return g=ie("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(A=>A.json()),m.then(A=>A)}}async delete(n){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=rA(this.apiClient,n);return g=ie("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(A=>A.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:A.headers},T})),m.then(A=>{const _=cA(A),T=new Jp;return Object.assign(T,_),T})}else{const h=sA(this.apiClient,n);return g=ie("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(A=>A.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:A.headers},T})),m.then(A=>{const _=uA(A),T=new Jp;return Object.assign(T,_),T})}}async update(n){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=RA(this.apiClient,n);return g=ie("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(A=>A.json()),m.then(A=>A)}else{const h=MA(this.apiClient,n);return g=ie("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(A=>A.json()),m.then(A=>A)}}async listInternal(n){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=SA(n);return g=ie("cachedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(A=>A.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:A.headers},T})),m.then(A=>{const _=TA(A),T=new Yp;return Object.assign(T,_),T})}else{const h=AA(n);return g=ie("cachedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(A=>A.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:A.headers},T})),m.then(A=>{const _=_A(A),T=new Yp;return Object.assign(T,_),T})}}}function Wp(i){var n=typeof Symbol=="function"&&Symbol.iterator,l=n&&i[n],o=0;if(l)return l.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ve(i){return this instanceof Ve?(this.v=i,this):new Ve(i)}function aa(i,n,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=l.apply(i,n||[]),r,f=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",m),r[Symbol.asyncIterator]=function(){return this},r;function m(C){return function(L){return Promise.resolve(L).then(C,_)}}function g(C,L){o[C]&&(r[C]=function(H){return new Promise(function(Z,Q){f.push([C,H,Z,Q])>1||y(C,H)})},L&&(r[C]=L(r[C])))}function y(C,L){try{h(o[C](L))}catch(H){T(f[0][3],H)}}function h(C){C.value instanceof Ve?Promise.resolve(C.value.v).then(A,_):T(f[0][2],C)}function A(C){y("next",C)}function _(C){y("throw",C)}function T(C,L){C(L),f.shift(),f.length&&y(f[0][0],f[0][1])}}function rl(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=i[Symbol.asyncIterator],l;return n?n.call(i):(i=typeof Wp=="function"?Wp(i):i[Symbol.iterator](),l={},o("next"),o("throw"),o("return"),l[Symbol.asyncIterator]=function(){return this},l);function o(f){l[f]=i[f]&&function(m){return new Promise(function(g,y){m=i[f](m),r(g,y,m.done,m.value)})}}function r(f,m,g,y){Promise.resolve(y).then(function(h){f({value:h,done:g})},m)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kA(i){var n;if(i.candidates==null||i.candidates.length===0)return!1;const l=(n=i.candidates[0])===null||n===void 0?void 0:n.content;return l===void 0?!1:kh(l)}function kh(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const n of i.parts)if(n===void 0||Object.keys(n).length===0)return!1;return!0}function IA(i){if(i.length!==0){for(const n of i)if(n.role!=="user"&&n.role!=="model")throw new Error(`Role must be user or model, but got ${n.role}.`)}}function eh(i){if(i===void 0||i.length===0)return[];const n=[],l=i.length;let o=0;for(;o<l;)if(i[o].role==="user")n.push(i[o]),o++;else{const r=[];let f=!0;for(;o<l&&i[o].role==="model";)r.push(i[o]),f&&!kh(i[o])&&(f=!1),o++;f?n.push(...r):n.pop()}return n}class DA{constructor(n,l){this.modelsModule=n,this.apiClient=l}create(n){return new UA(this.apiClient,this.modelsModule,n.model,n.config,structuredClone(n.history))}}class UA{constructor(n,l,o,r={},f=[]){this.apiClient=n,this.modelsModule=l,this.model=o,this.config=r,this.history=f,this.sendPromise=Promise.resolve(),IA(f)}async sendMessage(n){var l;await this.sendPromise;const o=dt(n.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(l=n.config)!==null&&l!==void 0?l:this.config});return this.sendPromise=(async()=>{var f,m,g;const y=await r,h=(m=(f=y.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content,A=y.automaticFunctionCallingHistory,_=this.getHistory(!0).length;let T=[];A!=null&&(T=(g=A.slice(_))!==null&&g!==void 0?g:[]);const C=h?[h]:[];this.recordHistory(o,C,T)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(n){var l;await this.sendPromise;const o=dt(n.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(l=n.config)!==null&&l!==void 0?l:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const f=await r;return this.processStreamResponse(f,o)}getHistory(n=!1){const l=n?eh(this.history):this.history;return structuredClone(l)}processStreamResponse(n,l){var o,r;return aa(this,arguments,function*(){var m,g,y,h;const A=[];try{for(var _=!0,T=rl(n),C;C=yield Ve(T.next()),m=C.done,!m;_=!0){h=C.value,_=!1;const L=h;if(kA(L)){const H=(r=(o=L.candidates)===null||o===void 0?void 0:o[0])===null||r===void 0?void 0:r.content;H!==void 0&&A.push(H)}yield yield Ve(L)}}catch(L){g={error:L}}finally{try{!_&&!m&&(y=T.return)&&(yield Ve(y.call(T)))}finally{if(g)throw g.error}}this.recordHistory(l,A)})}recordHistory(n,l,o){let r=[];l.length>0&&l.every(f=>f.role!==void 0)?r=l:r.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...eh(o)):this.history.push(n),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Lo extends Error{constructor(n){super(n.message),this.name="ApiError",this.status=n.status,Object.setPrototypeOf(this,Lo.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BA(i){const n={},l=u(i,["file"]);return l!=null&&c(n,["file"],l),n}function LA(i){const n={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(n,["sdkHttpResponse"],l),n}function GA(i){const n={},l=u(i,["name"]);return l!=null&&c(n,["_url","file"],Ch(l)),n}function PA(i){const n={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(n,["sdkHttpResponse"],l),n}function HA(i){const n={},l=u(i,["name"]);return l!=null&&c(n,["_url","file"],Ch(l)),n}function qA(i,n){const l={},o=u(i,["pageSize"]);n!==void 0&&o!=null&&c(n,["_query","pageSize"],o);const r=u(i,["pageToken"]);return n!==void 0&&r!=null&&c(n,["_query","pageToken"],r),l}function VA(i){const n={},l=u(i,["config"]);return l!=null&&qA(l,n),n}function zA(i){const n={},l=u(i,["sdkHttpResponse"]);l!=null&&c(n,["sdkHttpResponse"],l);const o=u(i,["nextPageToken"]);o!=null&&c(n,["nextPageToken"],o);const r=u(i,["files"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>m)),c(n,["files"],f)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FA extends _n{constructor(n){super(),this.apiClient=n,this.list=async(l={})=>new hi(Sn.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(l),l)}async upload(n){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(n.file,n.config).then(l=>l)}async download(n){await this.apiClient.downloadFile(n)}async listInternal(n){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=VA(n);return f=ie("files",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(h=>{const A=h;return A.sdkHttpResponse={headers:y.headers},A})),r.then(y=>{const h=zA(y),A=new ev;return Object.assign(A,h),A})}}async createInternal(n){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=BA(n);return f=ie("upload/v1beta/files",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>{const h=LA(y),A=new tv;return Object.assign(A,h),A})}}async get(n){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=HA(n);return f=ie("files/{file}",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(n){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=GA(n);return f=ie("files/{file}",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(h=>{const A=h;return A.sdkHttpResponse={headers:y.headers},A})),r.then(y=>{const h=PA(y),A=new nv;return Object.assign(A,h),A})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Io(i){const n={},l=u(i,["data"]);if(l!=null&&c(n,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["mimeType"]);return o!=null&&c(n,["mimeType"],o),n}function OA(i){const n={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>lS(f))),c(n,["parts"],r)}const o=u(i,["role"]);return o!=null&&c(n,["role"],o),n}function JA(i){const n={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(n,["fileUri"],l);const o=u(i,["mimeType"]);return o!=null&&c(n,["mimeType"],o),n}function YA(i){const n={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=u(i,["description"]);l!=null&&c(n,["description"],l);const o=u(i,["name"]);o!=null&&c(n,["name"],o);const r=u(i,["parameters"]);r!=null&&c(n,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(n,["parametersJsonSchema"],f);const m=u(i,["response"]);m!=null&&c(n,["response"],m);const g=u(i,["responseJsonSchema"]);return g!=null&&c(n,["responseJsonSchema"],g),n}function KA(i){const n={},l=u(i,["modelSelectionConfig"]);l!=null&&c(n,["modelConfig"],l);const o=u(i,["responseJsonSchema"]);o!=null&&c(n,["responseJsonSchema"],o);const r=u(i,["audioTimestamp"]);r!=null&&c(n,["audioTimestamp"],r);const f=u(i,["candidateCount"]);f!=null&&c(n,["candidateCount"],f);const m=u(i,["enableAffectiveDialog"]);m!=null&&c(n,["enableAffectiveDialog"],m);const g=u(i,["frequencyPenalty"]);g!=null&&c(n,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&c(n,["logprobs"],y);const h=u(i,["maxOutputTokens"]);h!=null&&c(n,["maxOutputTokens"],h);const A=u(i,["mediaResolution"]);A!=null&&c(n,["mediaResolution"],A);const _=u(i,["presencePenalty"]);_!=null&&c(n,["presencePenalty"],_);const T=u(i,["responseLogprobs"]);T!=null&&c(n,["responseLogprobs"],T);const C=u(i,["responseMimeType"]);C!=null&&c(n,["responseMimeType"],C);const L=u(i,["responseModalities"]);L!=null&&c(n,["responseModalities"],L);const H=u(i,["responseSchema"]);H!=null&&c(n,["responseSchema"],H);const Z=u(i,["routingConfig"]);Z!=null&&c(n,["routingConfig"],Z);const Q=u(i,["seed"]);Q!=null&&c(n,["seed"],Q);const j=u(i,["speechConfig"]);j!=null&&c(n,["speechConfig"],Ih(j));const O=u(i,["stopSequences"]);O!=null&&c(n,["stopSequences"],O);const G=u(i,["temperature"]);G!=null&&c(n,["temperature"],G);const z=u(i,["thinkingConfig"]);z!=null&&c(n,["thinkingConfig"],z);const K=u(i,["topK"]);K!=null&&c(n,["topK"],K);const P=u(i,["topP"]);if(P!=null&&c(n,["topP"],P),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function jA(i){const n={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(n,["enableWidget"],l),n}function QA(i){const n={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(n,["timeRangeFilter"],l),n}function XA(i,n){const l={},o=u(i,["generationConfig"]);n!==void 0&&o!=null&&c(n,["setup","generationConfig"],o);const r=u(i,["responseModalities"]);n!==void 0&&r!=null&&c(n,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);n!==void 0&&f!=null&&c(n,["setup","generationConfig","temperature"],f);const m=u(i,["topP"]);n!==void 0&&m!=null&&c(n,["setup","generationConfig","topP"],m);const g=u(i,["topK"]);n!==void 0&&g!=null&&c(n,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);n!==void 0&&y!=null&&c(n,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);n!==void 0&&h!=null&&c(n,["setup","generationConfig","mediaResolution"],h);const A=u(i,["seed"]);n!==void 0&&A!=null&&c(n,["setup","generationConfig","seed"],A);const _=u(i,["speechConfig"]);n!==void 0&&_!=null&&c(n,["setup","generationConfig","speechConfig"],bu(_));const T=u(i,["thinkingConfig"]);n!==void 0&&T!=null&&c(n,["setup","generationConfig","thinkingConfig"],T);const C=u(i,["enableAffectiveDialog"]);n!==void 0&&C!=null&&c(n,["setup","generationConfig","enableAffectiveDialog"],C);const L=u(i,["systemInstruction"]);n!==void 0&&L!=null&&c(n,["setup","systemInstruction"],OA(dt(L)));const H=u(i,["tools"]);if(n!==void 0&&H!=null){let K=sa(H);Array.isArray(K)&&(K=K.map(P=>sS(oa(P)))),c(n,["setup","tools"],K)}const Z=u(i,["sessionResumption"]);n!==void 0&&Z!=null&&c(n,["setup","sessionResumption"],oS(Z));const Q=u(i,["inputAudioTranscription"]);n!==void 0&&Q!=null&&c(n,["setup","inputAudioTranscription"],Q);const j=u(i,["outputAudioTranscription"]);n!==void 0&&j!=null&&c(n,["setup","outputAudioTranscription"],j);const O=u(i,["realtimeInputConfig"]);n!==void 0&&O!=null&&c(n,["setup","realtimeInputConfig"],O);const G=u(i,["contextWindowCompression"]);n!==void 0&&G!=null&&c(n,["setup","contextWindowCompression"],G);const z=u(i,["proactivity"]);return n!==void 0&&z!=null&&c(n,["setup","proactivity"],z),l}function ZA(i,n){const l={},o=u(i,["generationConfig"]);n!==void 0&&o!=null&&c(n,["setup","generationConfig"],KA(o));const r=u(i,["responseModalities"]);n!==void 0&&r!=null&&c(n,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);n!==void 0&&f!=null&&c(n,["setup","generationConfig","temperature"],f);const m=u(i,["topP"]);n!==void 0&&m!=null&&c(n,["setup","generationConfig","topP"],m);const g=u(i,["topK"]);n!==void 0&&g!=null&&c(n,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);n!==void 0&&y!=null&&c(n,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);n!==void 0&&h!=null&&c(n,["setup","generationConfig","mediaResolution"],h);const A=u(i,["seed"]);n!==void 0&&A!=null&&c(n,["setup","generationConfig","seed"],A);const _=u(i,["speechConfig"]);n!==void 0&&_!=null&&c(n,["setup","generationConfig","speechConfig"],Ih(bu(_)));const T=u(i,["thinkingConfig"]);n!==void 0&&T!=null&&c(n,["setup","generationConfig","thinkingConfig"],T);const C=u(i,["enableAffectiveDialog"]);n!==void 0&&C!=null&&c(n,["setup","generationConfig","enableAffectiveDialog"],C);const L=u(i,["systemInstruction"]);n!==void 0&&L!=null&&c(n,["setup","systemInstruction"],dt(L));const H=u(i,["tools"]);if(n!==void 0&&H!=null){let K=sa(H);Array.isArray(K)&&(K=K.map(P=>rS(oa(P)))),c(n,["setup","tools"],K)}const Z=u(i,["sessionResumption"]);n!==void 0&&Z!=null&&c(n,["setup","sessionResumption"],Z);const Q=u(i,["inputAudioTranscription"]);n!==void 0&&Q!=null&&c(n,["setup","inputAudioTranscription"],Q);const j=u(i,["outputAudioTranscription"]);n!==void 0&&j!=null&&c(n,["setup","outputAudioTranscription"],j);const O=u(i,["realtimeInputConfig"]);n!==void 0&&O!=null&&c(n,["setup","realtimeInputConfig"],O);const G=u(i,["contextWindowCompression"]);n!==void 0&&G!=null&&c(n,["setup","contextWindowCompression"],G);const z=u(i,["proactivity"]);return n!==void 0&&z!=null&&c(n,["setup","proactivity"],z),l}function $A(i,n){const l={},o=u(n,["model"]);o!=null&&c(l,["setup","model"],Re(i,o));const r=u(n,["config"]);return r!=null&&c(l,["config"],XA(r,l)),l}function WA(i,n){const l={},o=u(n,["model"]);o!=null&&c(l,["setup","model"],Re(i,o));const r=u(n,["config"]);return r!=null&&c(l,["config"],ZA(r,l)),l}function eS(i){const n={},l=u(i,["musicGenerationConfig"]);return l!=null&&c(n,["musicGenerationConfig"],l),n}function tS(i){const n={},l=u(i,["weightedPrompts"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>r)),c(n,["weightedPrompts"],o)}return n}function nS(i){const n={},l=u(i,["media"]);if(l!=null){let h=Ah(l);Array.isArray(h)&&(h=h.map(A=>Io(A))),c(n,["mediaChunks"],h)}const o=u(i,["audio"]);o!=null&&c(n,["audio"],Io(_h(o)));const r=u(i,["audioStreamEnd"]);r!=null&&c(n,["audioStreamEnd"],r);const f=u(i,["video"]);f!=null&&c(n,["video"],Io(Sh(f)));const m=u(i,["text"]);m!=null&&c(n,["text"],m);const g=u(i,["activityStart"]);g!=null&&c(n,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&c(n,["activityEnd"],y),n}function iS(i){const n={},l=u(i,["media"]);if(l!=null){let h=Ah(l);Array.isArray(h)&&(h=h.map(A=>A)),c(n,["mediaChunks"],h)}const o=u(i,["audio"]);o!=null&&c(n,["audio"],_h(o));const r=u(i,["audioStreamEnd"]);r!=null&&c(n,["audioStreamEnd"],r);const f=u(i,["video"]);f!=null&&c(n,["video"],Sh(f));const m=u(i,["text"]);m!=null&&c(n,["text"],m);const g=u(i,["activityStart"]);g!=null&&c(n,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&c(n,["activityEnd"],y),n}function aS(i){const n={},l=u(i,["setupComplete"]);l!=null&&c(n,["setupComplete"],l);const o=u(i,["serverContent"]);o!=null&&c(n,["serverContent"],o);const r=u(i,["toolCall"]);r!=null&&c(n,["toolCall"],r);const f=u(i,["toolCallCancellation"]);f!=null&&c(n,["toolCallCancellation"],f);const m=u(i,["usageMetadata"]);m!=null&&c(n,["usageMetadata"],uS(m));const g=u(i,["goAway"]);g!=null&&c(n,["goAway"],g);const y=u(i,["sessionResumptionUpdate"]);return y!=null&&c(n,["sessionResumptionUpdate"],y),n}function lS(i){const n={},l=u(i,["functionCall"]);l!=null&&c(n,["functionCall"],l);const o=u(i,["codeExecutionResult"]);o!=null&&c(n,["codeExecutionResult"],o);const r=u(i,["executableCode"]);r!=null&&c(n,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(n,["fileData"],JA(f));const m=u(i,["functionResponse"]);m!=null&&c(n,["functionResponse"],m);const g=u(i,["inlineData"]);g!=null&&c(n,["inlineData"],Io(g));const y=u(i,["text"]);y!=null&&c(n,["text"],y);const h=u(i,["thought"]);h!=null&&c(n,["thought"],h);const A=u(i,["thoughtSignature"]);A!=null&&c(n,["thoughtSignature"],A);const _=u(i,["videoMetadata"]);return _!=null&&c(n,["videoMetadata"],_),n}function oS(i){const n={},l=u(i,["handle"]);if(l!=null&&c(n,["handle"],l),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function Ih(i){const n={},l=u(i,["languageCode"]);l!=null&&c(n,["languageCode"],l);const o=u(i,["voiceConfig"]);if(o!=null&&c(n,["voiceConfig"],o),u(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return n}function sS(i){const n={},l=u(i,["functionDeclarations"]);if(l!=null){let A=l;Array.isArray(A)&&(A=A.map(_=>_)),c(n,["functionDeclarations"],A)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["googleSearchRetrieval"]);o!=null&&c(n,["googleSearchRetrieval"],o);const r=u(i,["computerUse"]);r!=null&&c(n,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(n,["fileSearch"],f);const m=u(i,["codeExecution"]);if(m!=null&&c(n,["codeExecution"],m),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(n,["googleMaps"],jA(g));const y=u(i,["googleSearch"]);y!=null&&c(n,["googleSearch"],QA(y));const h=u(i,["urlContext"]);return h!=null&&c(n,["urlContext"],h),n}function rS(i){const n={},l=u(i,["functionDeclarations"]);if(l!=null){let _=l;Array.isArray(_)&&(_=_.map(T=>YA(T))),c(n,["functionDeclarations"],_)}const o=u(i,["retrieval"]);o!=null&&c(n,["retrieval"],o);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(n,["googleSearchRetrieval"],r);const f=u(i,["computerUse"]);if(f!=null&&c(n,["computerUse"],f),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const m=u(i,["codeExecution"]);m!=null&&c(n,["codeExecution"],m);const g=u(i,["enterpriseWebSearch"]);g!=null&&c(n,["enterpriseWebSearch"],g);const y=u(i,["googleMaps"]);y!=null&&c(n,["googleMaps"],y);const h=u(i,["googleSearch"]);h!=null&&c(n,["googleSearch"],h);const A=u(i,["urlContext"]);return A!=null&&c(n,["urlContext"],A),n}function uS(i){const n={},l=u(i,["promptTokenCount"]);l!=null&&c(n,["promptTokenCount"],l);const o=u(i,["cachedContentTokenCount"]);o!=null&&c(n,["cachedContentTokenCount"],o);const r=u(i,["candidatesTokenCount"]);r!=null&&c(n,["responseTokenCount"],r);const f=u(i,["toolUsePromptTokenCount"]);f!=null&&c(n,["toolUsePromptTokenCount"],f);const m=u(i,["thoughtsTokenCount"]);m!=null&&c(n,["thoughtsTokenCount"],m);const g=u(i,["totalTokenCount"]);g!=null&&c(n,["totalTokenCount"],g);const y=u(i,["promptTokensDetails"]);if(y!=null){let C=y;Array.isArray(C)&&(C=C.map(L=>L)),c(n,["promptTokensDetails"],C)}const h=u(i,["cacheTokensDetails"]);if(h!=null){let C=h;Array.isArray(C)&&(C=C.map(L=>L)),c(n,["cacheTokensDetails"],C)}const A=u(i,["candidatesTokensDetails"]);if(A!=null){let C=A;Array.isArray(C)&&(C=C.map(L=>L)),c(n,["responseTokensDetails"],C)}const _=u(i,["toolUsePromptTokensDetails"]);if(_!=null){let C=_;Array.isArray(C)&&(C=C.map(L=>L)),c(n,["toolUsePromptTokensDetails"],C)}const T=u(i,["trafficType"]);return T!=null&&c(n,["trafficType"],T),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cS(i){const n={},l=u(i,["data"]);if(l!=null&&c(n,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["mimeType"]);return o!=null&&c(n,["mimeType"],o),n}function dS(i){const n={},l=u(i,["content"]);l!=null&&c(n,["content"],l);const o=u(i,["citationMetadata"]);o!=null&&c(n,["citationMetadata"],fS(o));const r=u(i,["tokenCount"]);r!=null&&c(n,["tokenCount"],r);const f=u(i,["finishReason"]);f!=null&&c(n,["finishReason"],f);const m=u(i,["avgLogprobs"]);m!=null&&c(n,["avgLogprobs"],m);const g=u(i,["groundingMetadata"]);g!=null&&c(n,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&c(n,["index"],y);const h=u(i,["logprobsResult"]);h!=null&&c(n,["logprobsResult"],h);const A=u(i,["safetyRatings"]);if(A!=null){let T=A;Array.isArray(T)&&(T=T.map(C=>C)),c(n,["safetyRatings"],T)}const _=u(i,["urlContextMetadata"]);return _!=null&&c(n,["urlContextMetadata"],_),n}function fS(i){const n={},l=u(i,["citationSources"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>r)),c(n,["citations"],o)}return n}function mS(i,n){const l={},o=u(n,["model"]);o!=null&&c(l,["_url","model"],Re(i,o));const r=u(n,["contents"]);if(r!=null){let f=Vt(r);Array.isArray(f)&&(f=f.map(m=>m)),c(l,["contents"],f)}return l}function pS(i){const n={},l=u(i,["sdkHttpResponse"]);l!=null&&c(n,["sdkHttpResponse"],l);const o=u(i,["tokensInfo"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>f)),c(n,["tokensInfo"],r)}return n}function hS(i){const n={},l=u(i,["values"]);l!=null&&c(n,["values"],l);const o=u(i,["statistics"]);return o!=null&&c(n,["statistics"],gS(o)),n}function gS(i){const n={},l=u(i,["truncated"]);l!=null&&c(n,["truncated"],l);const o=u(i,["token_count"]);return o!=null&&c(n,["tokenCount"],o),n}function Go(i){const n={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>__(f))),c(n,["parts"],r)}const o=u(i,["role"]);return o!=null&&c(n,["role"],o),n}function yS(i){const n={},l=u(i,["controlType"]);l!=null&&c(n,["controlType"],l);const o=u(i,["enableControlImageComputation"]);return o!=null&&c(n,["computeControl"],o),n}function vS(i){const n={};if(u(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function AS(i,n){const l={},o=u(i,["systemInstruction"]);n!==void 0&&o!=null&&c(n,["systemInstruction"],dt(o));const r=u(i,["tools"]);if(n!==void 0&&r!=null){let m=r;Array.isArray(m)&&(m=m.map(g=>Gh(g))),c(n,["tools"],m)}const f=u(i,["generationConfig"]);return n!==void 0&&f!=null&&c(n,["generationConfig"],r_(f)),l}function SS(i,n){const l={},o=u(n,["model"]);o!=null&&c(l,["_url","model"],Re(i,o));const r=u(n,["contents"]);if(r!=null){let m=Vt(r);Array.isArray(m)&&(m=m.map(g=>Go(g))),c(l,["contents"],m)}const f=u(n,["config"]);return f!=null&&vS(f),l}function _S(i,n){const l={},o=u(n,["model"]);o!=null&&c(l,["_url","model"],Re(i,o));const r=u(n,["contents"]);if(r!=null){let m=Vt(r);Array.isArray(m)&&(m=m.map(g=>g)),c(l,["contents"],m)}const f=u(n,["config"]);return f!=null&&AS(f,l),l}function TS(i){const n={},l=u(i,["sdkHttpResponse"]);l!=null&&c(n,["sdkHttpResponse"],l);const o=u(i,["totalTokens"]);o!=null&&c(n,["totalTokens"],o);const r=u(i,["cachedContentTokenCount"]);return r!=null&&c(n,["cachedContentTokenCount"],r),n}function ES(i){const n={},l=u(i,["sdkHttpResponse"]);l!=null&&c(n,["sdkHttpResponse"],l);const o=u(i,["totalTokens"]);return o!=null&&c(n,["totalTokens"],o),n}function CS(i,n){const l={},o=u(n,["model"]);return o!=null&&c(l,["_url","name"],Re(i,o)),l}function xS(i,n){const l={},o=u(n,["model"]);return o!=null&&c(l,["_url","name"],Re(i,o)),l}function NS(i){const n={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(n,["sdkHttpResponse"],l),n}function bS(i){const n={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(n,["sdkHttpResponse"],l),n}function MS(i,n){const l={},o=u(i,["outputGcsUri"]);n!==void 0&&o!=null&&c(n,["parameters","storageUri"],o);const r=u(i,["negativePrompt"]);n!==void 0&&r!=null&&c(n,["parameters","negativePrompt"],r);const f=u(i,["numberOfImages"]);n!==void 0&&f!=null&&c(n,["parameters","sampleCount"],f);const m=u(i,["aspectRatio"]);n!==void 0&&m!=null&&c(n,["parameters","aspectRatio"],m);const g=u(i,["guidanceScale"]);n!==void 0&&g!=null&&c(n,["parameters","guidanceScale"],g);const y=u(i,["seed"]);n!==void 0&&y!=null&&c(n,["parameters","seed"],y);const h=u(i,["safetyFilterLevel"]);n!==void 0&&h!=null&&c(n,["parameters","safetySetting"],h);const A=u(i,["personGeneration"]);n!==void 0&&A!=null&&c(n,["parameters","personGeneration"],A);const _=u(i,["includeSafetyAttributes"]);n!==void 0&&_!=null&&c(n,["parameters","includeSafetyAttributes"],_);const T=u(i,["includeRaiReason"]);n!==void 0&&T!=null&&c(n,["parameters","includeRaiReason"],T);const C=u(i,["language"]);n!==void 0&&C!=null&&c(n,["parameters","language"],C);const L=u(i,["outputMimeType"]);n!==void 0&&L!=null&&c(n,["parameters","outputOptions","mimeType"],L);const H=u(i,["outputCompressionQuality"]);n!==void 0&&H!=null&&c(n,["parameters","outputOptions","compressionQuality"],H);const Z=u(i,["addWatermark"]);n!==void 0&&Z!=null&&c(n,["parameters","addWatermark"],Z);const Q=u(i,["labels"]);n!==void 0&&Q!=null&&c(n,["labels"],Q);const j=u(i,["editMode"]);n!==void 0&&j!=null&&c(n,["parameters","editMode"],j);const O=u(i,["baseSteps"]);return n!==void 0&&O!=null&&c(n,["parameters","editConfig","baseSteps"],O),l}function RS(i,n){const l={},o=u(n,["model"]);o!=null&&c(l,["_url","model"],Re(i,o));const r=u(n,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(n,["referenceImages"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>b_(y))),c(l,["instances[0]","referenceImages"],g)}const m=u(n,["config"]);return m!=null&&MS(m,l),l}function wS(i){const n={},l=u(i,["sdkHttpResponse"]);l!=null&&c(n,["sdkHttpResponse"],l);const o=u(i,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>Po(f))),c(n,["generatedImages"],r)}return n}function kS(i,n){const l={},o=u(i,["taskType"]);n!==void 0&&o!=null&&c(n,["requests[]","taskType"],o);const r=u(i,["title"]);n!==void 0&&r!=null&&c(n,["requests[]","title"],r);const f=u(i,["outputDimensionality"]);if(n!==void 0&&f!=null&&c(n,["requests[]","outputDimensionality"],f),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function IS(i,n){const l={},o=u(i,["taskType"]);n!==void 0&&o!=null&&c(n,["instances[]","task_type"],o);const r=u(i,["title"]);n!==void 0&&r!=null&&c(n,["instances[]","title"],r);const f=u(i,["outputDimensionality"]);n!==void 0&&f!=null&&c(n,["parameters","outputDimensionality"],f);const m=u(i,["mimeType"]);n!==void 0&&m!=null&&c(n,["instances[]","mimeType"],m);const g=u(i,["autoTruncate"]);return n!==void 0&&g!=null&&c(n,["parameters","autoTruncate"],g),l}function DS(i,n){const l={},o=u(n,["model"]);o!=null&&c(l,["_url","model"],Re(i,o));const r=u(n,["contents"]);if(r!=null){let g=Cu(i,r);Array.isArray(g)&&(g=g.map(y=>y)),c(l,["requests[]","content"],g)}const f=u(n,["config"]);f!=null&&kS(f,l);const m=u(n,["model"]);return m!==void 0&&c(l,["requests[]","model"],Re(i,m)),l}function US(i,n){const l={},o=u(n,["model"]);o!=null&&c(l,["_url","model"],Re(i,o));const r=u(n,["contents"]);if(r!=null){let m=Cu(i,r);Array.isArray(m)&&(m=m.map(g=>g)),c(l,["instances[]","content"],m)}const f=u(n,["config"]);return f!=null&&IS(f,l),l}function BS(i){const n={},l=u(i,["sdkHttpResponse"]);l!=null&&c(n,["sdkHttpResponse"],l);const o=u(i,["embeddings"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>m)),c(n,["embeddings"],f)}const r=u(i,["metadata"]);return r!=null&&c(n,["metadata"],r),n}function LS(i){const n={},l=u(i,["sdkHttpResponse"]);l!=null&&c(n,["sdkHttpResponse"],l);const o=u(i,["predictions[]","embeddings"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>hS(m))),c(n,["embeddings"],f)}const r=u(i,["metadata"]);return r!=null&&c(n,["metadata"],r),n}function GS(i){const n={},l=u(i,["endpoint"]);l!=null&&c(n,["name"],l);const o=u(i,["deployedModelId"]);return o!=null&&c(n,["deployedModelId"],o),n}function PS(i){const n={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(n,["fileUri"],l);const o=u(i,["mimeType"]);return o!=null&&c(n,["mimeType"],o),n}function HS(i){const n={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=u(i,["description"]);l!=null&&c(n,["description"],l);const o=u(i,["name"]);o!=null&&c(n,["name"],o);const r=u(i,["parameters"]);r!=null&&c(n,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(n,["parametersJsonSchema"],f);const m=u(i,["response"]);m!=null&&c(n,["response"],m);const g=u(i,["responseJsonSchema"]);return g!=null&&c(n,["responseJsonSchema"],g),n}function qS(i,n,l){const o={},r=u(n,["systemInstruction"]);l!==void 0&&r!=null&&c(l,["systemInstruction"],Go(dt(r)));const f=u(n,["temperature"]);f!=null&&c(o,["temperature"],f);const m=u(n,["topP"]);m!=null&&c(o,["topP"],m);const g=u(n,["topK"]);g!=null&&c(o,["topK"],g);const y=u(n,["candidateCount"]);y!=null&&c(o,["candidateCount"],y);const h=u(n,["maxOutputTokens"]);h!=null&&c(o,["maxOutputTokens"],h);const A=u(n,["stopSequences"]);A!=null&&c(o,["stopSequences"],A);const _=u(n,["responseLogprobs"]);_!=null&&c(o,["responseLogprobs"],_);const T=u(n,["logprobs"]);T!=null&&c(o,["logprobs"],T);const C=u(n,["presencePenalty"]);C!=null&&c(o,["presencePenalty"],C);const L=u(n,["frequencyPenalty"]);L!=null&&c(o,["frequencyPenalty"],L);const H=u(n,["seed"]);H!=null&&c(o,["seed"],H);const Z=u(n,["responseMimeType"]);Z!=null&&c(o,["responseMimeType"],Z);const Q=u(n,["responseSchema"]);Q!=null&&c(o,["responseSchema"],xu(Q));const j=u(n,["responseJsonSchema"]);if(j!=null&&c(o,["responseJsonSchema"],j),u(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=u(n,["safetySettings"]);if(l!==void 0&&O!=null){let re=O;Array.isArray(re)&&(re=re.map(Ce=>M_(Ce))),c(l,["safetySettings"],re)}const G=u(n,["tools"]);if(l!==void 0&&G!=null){let re=sa(G);Array.isArray(re)&&(re=re.map(Ce=>U_(oa(Ce)))),c(l,["tools"],re)}const z=u(n,["toolConfig"]);if(l!==void 0&&z!=null&&c(l,["toolConfig"],z),u(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const K=u(n,["cachedContent"]);l!==void 0&&K!=null&&c(l,["cachedContent"],Tn(i,K));const P=u(n,["responseModalities"]);P!=null&&c(o,["responseModalities"],P);const ae=u(n,["mediaResolution"]);ae!=null&&c(o,["mediaResolution"],ae);const W=u(n,["speechConfig"]);if(W!=null&&c(o,["speechConfig"],Nu(W)),u(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ne=u(n,["thinkingConfig"]);ne!=null&&c(o,["thinkingConfig"],ne);const fe=u(n,["imageConfig"]);return fe!=null&&c(o,["imageConfig"],fe),o}function VS(i,n,l){const o={},r=u(n,["systemInstruction"]);l!==void 0&&r!=null&&c(l,["systemInstruction"],dt(r));const f=u(n,["temperature"]);f!=null&&c(o,["temperature"],f);const m=u(n,["topP"]);m!=null&&c(o,["topP"],m);const g=u(n,["topK"]);g!=null&&c(o,["topK"],g);const y=u(n,["candidateCount"]);y!=null&&c(o,["candidateCount"],y);const h=u(n,["maxOutputTokens"]);h!=null&&c(o,["maxOutputTokens"],h);const A=u(n,["stopSequences"]);A!=null&&c(o,["stopSequences"],A);const _=u(n,["responseLogprobs"]);_!=null&&c(o,["responseLogprobs"],_);const T=u(n,["logprobs"]);T!=null&&c(o,["logprobs"],T);const C=u(n,["presencePenalty"]);C!=null&&c(o,["presencePenalty"],C);const L=u(n,["frequencyPenalty"]);L!=null&&c(o,["frequencyPenalty"],L);const H=u(n,["seed"]);H!=null&&c(o,["seed"],H);const Z=u(n,["responseMimeType"]);Z!=null&&c(o,["responseMimeType"],Z);const Q=u(n,["responseSchema"]);Q!=null&&c(o,["responseSchema"],xu(Q));const j=u(n,["responseJsonSchema"]);j!=null&&c(o,["responseJsonSchema"],j);const O=u(n,["routingConfig"]);O!=null&&c(o,["routingConfig"],O);const G=u(n,["modelSelectionConfig"]);G!=null&&c(o,["modelConfig"],G);const z=u(n,["safetySettings"]);if(l!==void 0&&z!=null){let I=z;Array.isArray(I)&&(I=I.map($=>$)),c(l,["safetySettings"],I)}const K=u(n,["tools"]);if(l!==void 0&&K!=null){let I=sa(K);Array.isArray(I)&&(I=I.map($=>Gh(oa($)))),c(l,["tools"],I)}const P=u(n,["toolConfig"]);l!==void 0&&P!=null&&c(l,["toolConfig"],P);const ae=u(n,["labels"]);l!==void 0&&ae!=null&&c(l,["labels"],ae);const W=u(n,["cachedContent"]);l!==void 0&&W!=null&&c(l,["cachedContent"],Tn(i,W));const ne=u(n,["responseModalities"]);ne!=null&&c(o,["responseModalities"],ne);const fe=u(n,["mediaResolution"]);fe!=null&&c(o,["mediaResolution"],fe);const re=u(n,["speechConfig"]);re!=null&&c(o,["speechConfig"],Lh(Nu(re)));const Ce=u(n,["audioTimestamp"]);Ce!=null&&c(o,["audioTimestamp"],Ce);const ue=u(n,["thinkingConfig"]);ue!=null&&c(o,["thinkingConfig"],ue);const ze=u(n,["imageConfig"]);return ze!=null&&c(o,["imageConfig"],ze),o}function th(i,n){const l={},o=u(n,["model"]);o!=null&&c(l,["_url","model"],Re(i,o));const r=u(n,["contents"]);if(r!=null){let m=Vt(r);Array.isArray(m)&&(m=m.map(g=>Go(g))),c(l,["contents"],m)}const f=u(n,["config"]);return f!=null&&c(l,["generationConfig"],qS(i,f,l)),l}function nh(i,n){const l={},o=u(n,["model"]);o!=null&&c(l,["_url","model"],Re(i,o));const r=u(n,["contents"]);if(r!=null){let m=Vt(r);Array.isArray(m)&&(m=m.map(g=>g)),c(l,["contents"],m)}const f=u(n,["config"]);return f!=null&&c(l,["generationConfig"],VS(i,f,l)),l}function ih(i){const n={},l=u(i,["sdkHttpResponse"]);l!=null&&c(n,["sdkHttpResponse"],l);const o=u(i,["candidates"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(h=>dS(h))),c(n,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&c(n,["modelVersion"],r);const f=u(i,["promptFeedback"]);f!=null&&c(n,["promptFeedback"],f);const m=u(i,["responseId"]);m!=null&&c(n,["responseId"],m);const g=u(i,["usageMetadata"]);return g!=null&&c(n,["usageMetadata"],g),n}function ah(i){const n={},l=u(i,["sdkHttpResponse"]);l!=null&&c(n,["sdkHttpResponse"],l);const o=u(i,["candidates"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(A=>A)),c(n,["candidates"],h)}const r=u(i,["createTime"]);r!=null&&c(n,["createTime"],r);const f=u(i,["modelVersion"]);f!=null&&c(n,["modelVersion"],f);const m=u(i,["promptFeedback"]);m!=null&&c(n,["promptFeedback"],m);const g=u(i,["responseId"]);g!=null&&c(n,["responseId"],g);const y=u(i,["usageMetadata"]);return y!=null&&c(n,["usageMetadata"],y),n}function zS(i,n){const l={};if(u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=u(i,["numberOfImages"]);n!==void 0&&o!=null&&c(n,["parameters","sampleCount"],o);const r=u(i,["aspectRatio"]);n!==void 0&&r!=null&&c(n,["parameters","aspectRatio"],r);const f=u(i,["guidanceScale"]);if(n!==void 0&&f!=null&&c(n,["parameters","guidanceScale"],f),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=u(i,["safetyFilterLevel"]);n!==void 0&&m!=null&&c(n,["parameters","safetySetting"],m);const g=u(i,["personGeneration"]);n!==void 0&&g!=null&&c(n,["parameters","personGeneration"],g);const y=u(i,["includeSafetyAttributes"]);n!==void 0&&y!=null&&c(n,["parameters","includeSafetyAttributes"],y);const h=u(i,["includeRaiReason"]);n!==void 0&&h!=null&&c(n,["parameters","includeRaiReason"],h);const A=u(i,["language"]);n!==void 0&&A!=null&&c(n,["parameters","language"],A);const _=u(i,["outputMimeType"]);n!==void 0&&_!=null&&c(n,["parameters","outputOptions","mimeType"],_);const T=u(i,["outputCompressionQuality"]);if(n!==void 0&&T!=null&&c(n,["parameters","outputOptions","compressionQuality"],T),u(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=u(i,["imageSize"]);if(n!==void 0&&C!=null&&c(n,["parameters","sampleImageSize"],C),u(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return l}function FS(i,n){const l={},o=u(i,["outputGcsUri"]);n!==void 0&&o!=null&&c(n,["parameters","storageUri"],o);const r=u(i,["negativePrompt"]);n!==void 0&&r!=null&&c(n,["parameters","negativePrompt"],r);const f=u(i,["numberOfImages"]);n!==void 0&&f!=null&&c(n,["parameters","sampleCount"],f);const m=u(i,["aspectRatio"]);n!==void 0&&m!=null&&c(n,["parameters","aspectRatio"],m);const g=u(i,["guidanceScale"]);n!==void 0&&g!=null&&c(n,["parameters","guidanceScale"],g);const y=u(i,["seed"]);n!==void 0&&y!=null&&c(n,["parameters","seed"],y);const h=u(i,["safetyFilterLevel"]);n!==void 0&&h!=null&&c(n,["parameters","safetySetting"],h);const A=u(i,["personGeneration"]);n!==void 0&&A!=null&&c(n,["parameters","personGeneration"],A);const _=u(i,["includeSafetyAttributes"]);n!==void 0&&_!=null&&c(n,["parameters","includeSafetyAttributes"],_);const T=u(i,["includeRaiReason"]);n!==void 0&&T!=null&&c(n,["parameters","includeRaiReason"],T);const C=u(i,["language"]);n!==void 0&&C!=null&&c(n,["parameters","language"],C);const L=u(i,["outputMimeType"]);n!==void 0&&L!=null&&c(n,["parameters","outputOptions","mimeType"],L);const H=u(i,["outputCompressionQuality"]);n!==void 0&&H!=null&&c(n,["parameters","outputOptions","compressionQuality"],H);const Z=u(i,["addWatermark"]);n!==void 0&&Z!=null&&c(n,["parameters","addWatermark"],Z);const Q=u(i,["labels"]);n!==void 0&&Q!=null&&c(n,["labels"],Q);const j=u(i,["imageSize"]);n!==void 0&&j!=null&&c(n,["parameters","sampleImageSize"],j);const O=u(i,["enhancePrompt"]);return n!==void 0&&O!=null&&c(n,["parameters","enhancePrompt"],O),l}function OS(i,n){const l={},o=u(n,["model"]);o!=null&&c(l,["_url","model"],Re(i,o));const r=u(n,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(n,["config"]);return f!=null&&zS(f,l),l}function JS(i,n){const l={},o=u(n,["model"]);o!=null&&c(l,["_url","model"],Re(i,o));const r=u(n,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(n,["config"]);return f!=null&&FS(f,l),l}function YS(i){const n={},l=u(i,["sdkHttpResponse"]);l!=null&&c(n,["sdkHttpResponse"],l);const o=u(i,["predictions"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>a_(m))),c(n,["generatedImages"],f)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(n,["positivePromptSafetyAttributes"],Uh(r)),n}function KS(i){const n={},l=u(i,["sdkHttpResponse"]);l!=null&&c(n,["sdkHttpResponse"],l);const o=u(i,["predictions"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>Po(m))),c(n,["generatedImages"],f)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(n,["positivePromptSafetyAttributes"],Bh(r)),n}function jS(i,n){const l={},o=u(i,["numberOfVideos"]);if(n!==void 0&&o!=null&&c(n,["parameters","sampleCount"],o),u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=u(i,["durationSeconds"]);if(n!==void 0&&r!=null&&c(n,["parameters","durationSeconds"],r),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=u(i,["aspectRatio"]);n!==void 0&&f!=null&&c(n,["parameters","aspectRatio"],f);const m=u(i,["resolution"]);n!==void 0&&m!=null&&c(n,["parameters","resolution"],m);const g=u(i,["personGeneration"]);if(n!==void 0&&g!=null&&c(n,["parameters","personGeneration"],g),u(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=u(i,["negativePrompt"]);n!==void 0&&y!=null&&c(n,["parameters","negativePrompt"],y);const h=u(i,["enhancePrompt"]);if(n!==void 0&&h!=null&&c(n,["parameters","enhancePrompt"],h),u(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const A=u(i,["lastFrame"]);n!==void 0&&A!=null&&c(n,["instances[0]","lastFrame"],Ho(A));const _=u(i,["referenceImages"]);if(n!==void 0&&_!=null){let T=_;Array.isArray(T)&&(T=T.map(C=>K_(C))),c(n,["instances[0]","referenceImages"],T)}if(u(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return l}function QS(i,n){const l={},o=u(i,["numberOfVideos"]);n!==void 0&&o!=null&&c(n,["parameters","sampleCount"],o);const r=u(i,["outputGcsUri"]);n!==void 0&&r!=null&&c(n,["parameters","storageUri"],r);const f=u(i,["fps"]);n!==void 0&&f!=null&&c(n,["parameters","fps"],f);const m=u(i,["durationSeconds"]);n!==void 0&&m!=null&&c(n,["parameters","durationSeconds"],m);const g=u(i,["seed"]);n!==void 0&&g!=null&&c(n,["parameters","seed"],g);const y=u(i,["aspectRatio"]);n!==void 0&&y!=null&&c(n,["parameters","aspectRatio"],y);const h=u(i,["resolution"]);n!==void 0&&h!=null&&c(n,["parameters","resolution"],h);const A=u(i,["personGeneration"]);n!==void 0&&A!=null&&c(n,["parameters","personGeneration"],A);const _=u(i,["pubsubTopic"]);n!==void 0&&_!=null&&c(n,["parameters","pubsubTopic"],_);const T=u(i,["negativePrompt"]);n!==void 0&&T!=null&&c(n,["parameters","negativePrompt"],T);const C=u(i,["enhancePrompt"]);n!==void 0&&C!=null&&c(n,["parameters","enhancePrompt"],C);const L=u(i,["generateAudio"]);n!==void 0&&L!=null&&c(n,["parameters","generateAudio"],L);const H=u(i,["lastFrame"]);n!==void 0&&H!=null&&c(n,["instances[0]","lastFrame"],Kt(H));const Z=u(i,["referenceImages"]);if(n!==void 0&&Z!=null){let O=Z;Array.isArray(O)&&(O=O.map(G=>j_(G))),c(n,["instances[0]","referenceImages"],O)}const Q=u(i,["mask"]);n!==void 0&&Q!=null&&c(n,["instances[0]","mask"],Y_(Q));const j=u(i,["compressionQuality"]);return n!==void 0&&j!=null&&c(n,["parameters","compressionQuality"],j),l}function XS(i){const n={},l=u(i,["name"]);l!=null&&c(n,["name"],l);const o=u(i,["metadata"]);o!=null&&c(n,["metadata"],o);const r=u(i,["done"]);r!=null&&c(n,["done"],r);const f=u(i,["error"]);f!=null&&c(n,["error"],f);const m=u(i,["response","generateVideoResponse"]);return m!=null&&c(n,["response"],e_(m)),n}function ZS(i){const n={},l=u(i,["name"]);l!=null&&c(n,["name"],l);const o=u(i,["metadata"]);o!=null&&c(n,["metadata"],o);const r=u(i,["done"]);r!=null&&c(n,["done"],r);const f=u(i,["error"]);f!=null&&c(n,["error"],f);const m=u(i,["response"]);return m!=null&&c(n,["response"],t_(m)),n}function $S(i,n){const l={},o=u(n,["model"]);o!=null&&c(l,["_url","model"],Re(i,o));const r=u(n,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(n,["image"]);f!=null&&c(l,["instances[0]","image"],Ho(f));const m=u(n,["video"]);m!=null&&c(l,["instances[0]","video"],Ph(m));const g=u(n,["source"]);g!=null&&n_(g,l);const y=u(n,["config"]);return y!=null&&jS(y,l),l}function WS(i,n){const l={},o=u(n,["model"]);o!=null&&c(l,["_url","model"],Re(i,o));const r=u(n,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(n,["image"]);f!=null&&c(l,["instances[0]","image"],Kt(f));const m=u(n,["video"]);m!=null&&c(l,["instances[0]","video"],Hh(m));const g=u(n,["source"]);g!=null&&i_(g,l);const y=u(n,["config"]);return y!=null&&QS(y,l),l}function e_(i){const n={},l=u(i,["generatedSamples"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>o_(m))),c(n,["generatedVideos"],f)}const o=u(i,["raiMediaFilteredCount"]);o!=null&&c(n,["raiMediaFilteredCount"],o);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(n,["raiMediaFilteredReasons"],r),n}function t_(i){const n={},l=u(i,["videos"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>s_(m))),c(n,["generatedVideos"],f)}const o=u(i,["raiMediaFilteredCount"]);o!=null&&c(n,["raiMediaFilteredCount"],o);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(n,["raiMediaFilteredReasons"],r),n}function n_(i,n){const l={},o=u(i,["prompt"]);n!==void 0&&o!=null&&c(n,["instances[0]","prompt"],o);const r=u(i,["image"]);n!==void 0&&r!=null&&c(n,["instances[0]","image"],Ho(r));const f=u(i,["video"]);return n!==void 0&&f!=null&&c(n,["instances[0]","video"],Ph(f)),l}function i_(i,n){const l={},o=u(i,["prompt"]);n!==void 0&&o!=null&&c(n,["instances[0]","prompt"],o);const r=u(i,["image"]);n!==void 0&&r!=null&&c(n,["instances[0]","image"],Kt(r));const f=u(i,["video"]);return n!==void 0&&f!=null&&c(n,["instances[0]","video"],Hh(f)),l}function a_(i){const n={},l=u(i,["_self"]);l!=null&&c(n,["image"],m_(l));const o=u(i,["raiFilteredReason"]);o!=null&&c(n,["raiFilteredReason"],o);const r=u(i,["_self"]);return r!=null&&c(n,["safetyAttributes"],Uh(r)),n}function Po(i){const n={},l=u(i,["_self"]);l!=null&&c(n,["image"],Dh(l));const o=u(i,["raiFilteredReason"]);o!=null&&c(n,["raiFilteredReason"],o);const r=u(i,["_self"]);r!=null&&c(n,["safetyAttributes"],Bh(r));const f=u(i,["prompt"]);return f!=null&&c(n,["enhancedPrompt"],f),n}function l_(i){const n={},l=u(i,["_self"]);l!=null&&c(n,["mask"],Dh(l));const o=u(i,["labels"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>f)),c(n,["labels"],r)}return n}function o_(i){const n={},l=u(i,["video"]);return l!=null&&c(n,["video"],O_(l)),n}function s_(i){const n={},l=u(i,["_self"]);return l!=null&&c(n,["video"],J_(l)),n}function r_(i){const n={},l=u(i,["modelSelectionConfig"]);l!=null&&c(n,["modelConfig"],l);const o=u(i,["responseJsonSchema"]);o!=null&&c(n,["responseJsonSchema"],o);const r=u(i,["audioTimestamp"]);r!=null&&c(n,["audioTimestamp"],r);const f=u(i,["candidateCount"]);f!=null&&c(n,["candidateCount"],f);const m=u(i,["enableAffectiveDialog"]);m!=null&&c(n,["enableAffectiveDialog"],m);const g=u(i,["frequencyPenalty"]);g!=null&&c(n,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&c(n,["logprobs"],y);const h=u(i,["maxOutputTokens"]);h!=null&&c(n,["maxOutputTokens"],h);const A=u(i,["mediaResolution"]);A!=null&&c(n,["mediaResolution"],A);const _=u(i,["presencePenalty"]);_!=null&&c(n,["presencePenalty"],_);const T=u(i,["responseLogprobs"]);T!=null&&c(n,["responseLogprobs"],T);const C=u(i,["responseMimeType"]);C!=null&&c(n,["responseMimeType"],C);const L=u(i,["responseModalities"]);L!=null&&c(n,["responseModalities"],L);const H=u(i,["responseSchema"]);H!=null&&c(n,["responseSchema"],H);const Z=u(i,["routingConfig"]);Z!=null&&c(n,["routingConfig"],Z);const Q=u(i,["seed"]);Q!=null&&c(n,["seed"],Q);const j=u(i,["speechConfig"]);j!=null&&c(n,["speechConfig"],Lh(j));const O=u(i,["stopSequences"]);O!=null&&c(n,["stopSequences"],O);const G=u(i,["temperature"]);G!=null&&c(n,["temperature"],G);const z=u(i,["thinkingConfig"]);z!=null&&c(n,["thinkingConfig"],z);const K=u(i,["topK"]);K!=null&&c(n,["topK"],K);const P=u(i,["topP"]);if(P!=null&&c(n,["topP"],P),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function u_(i,n){const l={},o=u(n,["model"]);return o!=null&&c(l,["_url","name"],Re(i,o)),l}function c_(i,n){const l={},o=u(n,["model"]);return o!=null&&c(l,["_url","name"],Re(i,o)),l}function d_(i){const n={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(n,["enableWidget"],l),n}function f_(i){const n={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(n,["timeRangeFilter"],l),n}function m_(i){const n={},l=u(i,["bytesBase64Encoded"]);l!=null&&c(n,["imageBytes"],Xn(l));const o=u(i,["mimeType"]);return o!=null&&c(n,["mimeType"],o),n}function Dh(i){const n={},l=u(i,["gcsUri"]);l!=null&&c(n,["gcsUri"],l);const o=u(i,["bytesBase64Encoded"]);o!=null&&c(n,["imageBytes"],Xn(o));const r=u(i,["mimeType"]);return r!=null&&c(n,["mimeType"],r),n}function Ho(i){const n={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const l=u(i,["imageBytes"]);l!=null&&c(n,["bytesBase64Encoded"],Xn(l));const o=u(i,["mimeType"]);return o!=null&&c(n,["mimeType"],o),n}function Kt(i){const n={},l=u(i,["gcsUri"]);l!=null&&c(n,["gcsUri"],l);const o=u(i,["imageBytes"]);o!=null&&c(n,["bytesBase64Encoded"],Xn(o));const r=u(i,["mimeType"]);return r!=null&&c(n,["mimeType"],r),n}function p_(i,n,l){const o={},r=u(n,["pageSize"]);l!==void 0&&r!=null&&c(l,["_query","pageSize"],r);const f=u(n,["pageToken"]);l!==void 0&&f!=null&&c(l,["_query","pageToken"],f);const m=u(n,["filter"]);l!==void 0&&m!=null&&c(l,["_query","filter"],m);const g=u(n,["queryBase"]);return l!==void 0&&g!=null&&c(l,["_url","models_url"],xh(i,g)),o}function h_(i,n,l){const o={},r=u(n,["pageSize"]);l!==void 0&&r!=null&&c(l,["_query","pageSize"],r);const f=u(n,["pageToken"]);l!==void 0&&f!=null&&c(l,["_query","pageToken"],f);const m=u(n,["filter"]);l!==void 0&&m!=null&&c(l,["_query","filter"],m);const g=u(n,["queryBase"]);return l!==void 0&&g!=null&&c(l,["_url","models_url"],xh(i,g)),o}function g_(i,n){const l={},o=u(n,["config"]);return o!=null&&p_(i,o,l),l}function y_(i,n){const l={},o=u(n,["config"]);return o!=null&&h_(i,o,l),l}function v_(i){const n={},l=u(i,["sdkHttpResponse"]);l!=null&&c(n,["sdkHttpResponse"],l);const o=u(i,["nextPageToken"]);o!=null&&c(n,["nextPageToken"],o);const r=u(i,["_self"]);if(r!=null){let f=Nh(r);Array.isArray(f)&&(f=f.map(m=>hu(m))),c(n,["models"],f)}return n}function A_(i){const n={},l=u(i,["sdkHttpResponse"]);l!=null&&c(n,["sdkHttpResponse"],l);const o=u(i,["nextPageToken"]);o!=null&&c(n,["nextPageToken"],o);const r=u(i,["_self"]);if(r!=null){let f=Nh(r);Array.isArray(f)&&(f=f.map(m=>gu(m))),c(n,["models"],f)}return n}function S_(i){const n={},l=u(i,["maskMode"]);l!=null&&c(n,["maskMode"],l);const o=u(i,["segmentationClasses"]);o!=null&&c(n,["maskClasses"],o);const r=u(i,["maskDilation"]);return r!=null&&c(n,["dilation"],r),n}function hu(i){const n={},l=u(i,["name"]);l!=null&&c(n,["name"],l);const o=u(i,["displayName"]);o!=null&&c(n,["displayName"],o);const r=u(i,["description"]);r!=null&&c(n,["description"],r);const f=u(i,["version"]);f!=null&&c(n,["version"],f);const m=u(i,["_self"]);m!=null&&c(n,["tunedModelInfo"],B_(m));const g=u(i,["inputTokenLimit"]);g!=null&&c(n,["inputTokenLimit"],g);const y=u(i,["outputTokenLimit"]);y!=null&&c(n,["outputTokenLimit"],y);const h=u(i,["supportedGenerationMethods"]);return h!=null&&c(n,["supportedActions"],h),n}function gu(i){const n={},l=u(i,["name"]);l!=null&&c(n,["name"],l);const o=u(i,["displayName"]);o!=null&&c(n,["displayName"],o);const r=u(i,["description"]);r!=null&&c(n,["description"],r);const f=u(i,["versionId"]);f!=null&&c(n,["version"],f);const m=u(i,["deployedModels"]);if(m!=null){let _=m;Array.isArray(_)&&(_=_.map(T=>GS(T))),c(n,["endpoints"],_)}const g=u(i,["labels"]);g!=null&&c(n,["labels"],g);const y=u(i,["_self"]);y!=null&&c(n,["tunedModelInfo"],L_(y));const h=u(i,["defaultCheckpointId"]);h!=null&&c(n,["defaultCheckpointId"],h);const A=u(i,["checkpoints"]);if(A!=null){let _=A;Array.isArray(_)&&(_=_.map(T=>T)),c(n,["checkpoints"],_)}return n}function __(i){const n={},l=u(i,["functionCall"]);l!=null&&c(n,["functionCall"],l);const o=u(i,["codeExecutionResult"]);o!=null&&c(n,["codeExecutionResult"],o);const r=u(i,["executableCode"]);r!=null&&c(n,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(n,["fileData"],PS(f));const m=u(i,["functionResponse"]);m!=null&&c(n,["functionResponse"],m);const g=u(i,["inlineData"]);g!=null&&c(n,["inlineData"],cS(g));const y=u(i,["text"]);y!=null&&c(n,["text"],y);const h=u(i,["thought"]);h!=null&&c(n,["thought"],h);const A=u(i,["thoughtSignature"]);A!=null&&c(n,["thoughtSignature"],A);const _=u(i,["videoMetadata"]);return _!=null&&c(n,["videoMetadata"],_),n}function T_(i){const n={},l=u(i,["productImage"]);return l!=null&&c(n,["image"],Kt(l)),n}function E_(i,n){const l={},o=u(i,["numberOfImages"]);n!==void 0&&o!=null&&c(n,["parameters","sampleCount"],o);const r=u(i,["baseSteps"]);n!==void 0&&r!=null&&c(n,["parameters","editConfig","baseSteps"],r);const f=u(i,["outputGcsUri"]);n!==void 0&&f!=null&&c(n,["parameters","storageUri"],f);const m=u(i,["seed"]);n!==void 0&&m!=null&&c(n,["parameters","seed"],m);const g=u(i,["safetyFilterLevel"]);n!==void 0&&g!=null&&c(n,["parameters","safetySetting"],g);const y=u(i,["personGeneration"]);n!==void 0&&y!=null&&c(n,["parameters","personGeneration"],y);const h=u(i,["addWatermark"]);n!==void 0&&h!=null&&c(n,["parameters","addWatermark"],h);const A=u(i,["outputMimeType"]);n!==void 0&&A!=null&&c(n,["parameters","outputOptions","mimeType"],A);const _=u(i,["outputCompressionQuality"]);n!==void 0&&_!=null&&c(n,["parameters","outputOptions","compressionQuality"],_);const T=u(i,["enhancePrompt"]);n!==void 0&&T!=null&&c(n,["parameters","enhancePrompt"],T);const C=u(i,["labels"]);return n!==void 0&&C!=null&&c(n,["labels"],C),l}function C_(i,n){const l={},o=u(n,["model"]);o!=null&&c(l,["_url","model"],Re(i,o));const r=u(n,["source"]);r!=null&&N_(r,l);const f=u(n,["config"]);return f!=null&&E_(f,l),l}function x_(i){const n={},l=u(i,["predictions"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>Po(r))),c(n,["generatedImages"],o)}return n}function N_(i,n){const l={},o=u(i,["prompt"]);n!==void 0&&o!=null&&c(n,["instances[0]","prompt"],o);const r=u(i,["personImage"]);n!==void 0&&r!=null&&c(n,["instances[0]","personImage","image"],Kt(r));const f=u(i,["productImages"]);if(n!==void 0&&f!=null){let m=f;Array.isArray(m)&&(m=m.map(g=>T_(g))),c(n,["instances[0]","productImages"],m)}return l}function b_(i){const n={},l=u(i,["referenceImage"]);l!=null&&c(n,["referenceImage"],Kt(l));const o=u(i,["referenceId"]);o!=null&&c(n,["referenceId"],o);const r=u(i,["referenceType"]);r!=null&&c(n,["referenceType"],r);const f=u(i,["maskImageConfig"]);f!=null&&c(n,["maskImageConfig"],S_(f));const m=u(i,["controlImageConfig"]);m!=null&&c(n,["controlImageConfig"],yS(m));const g=u(i,["styleImageConfig"]);g!=null&&c(n,["styleImageConfig"],g);const y=u(i,["subjectImageConfig"]);return y!=null&&c(n,["subjectImageConfig"],y),n}function Uh(i){const n={},l=u(i,["safetyAttributes","categories"]);l!=null&&c(n,["categories"],l);const o=u(i,["safetyAttributes","scores"]);o!=null&&c(n,["scores"],o);const r=u(i,["contentType"]);return r!=null&&c(n,["contentType"],r),n}function Bh(i){const n={},l=u(i,["safetyAttributes","categories"]);l!=null&&c(n,["categories"],l);const o=u(i,["safetyAttributes","scores"]);o!=null&&c(n,["scores"],o);const r=u(i,["contentType"]);return r!=null&&c(n,["contentType"],r),n}function M_(i){const n={},l=u(i,["category"]);if(l!=null&&c(n,["category"],l),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=u(i,["threshold"]);return o!=null&&c(n,["threshold"],o),n}function R_(i){const n={},l=u(i,["image"]);return l!=null&&c(n,["image"],Kt(l)),n}function w_(i,n){const l={},o=u(i,["mode"]);n!==void 0&&o!=null&&c(n,["parameters","mode"],o);const r=u(i,["maxPredictions"]);n!==void 0&&r!=null&&c(n,["parameters","maxPredictions"],r);const f=u(i,["confidenceThreshold"]);n!==void 0&&f!=null&&c(n,["parameters","confidenceThreshold"],f);const m=u(i,["maskDilation"]);n!==void 0&&m!=null&&c(n,["parameters","maskDilation"],m);const g=u(i,["binaryColorThreshold"]);n!==void 0&&g!=null&&c(n,["parameters","binaryColorThreshold"],g);const y=u(i,["labels"]);return n!==void 0&&y!=null&&c(n,["labels"],y),l}function k_(i,n){const l={},o=u(n,["model"]);o!=null&&c(l,["_url","model"],Re(i,o));const r=u(n,["source"]);r!=null&&D_(r,l);const f=u(n,["config"]);return f!=null&&w_(f,l),l}function I_(i){const n={},l=u(i,["predictions"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>l_(r))),c(n,["generatedMasks"],o)}return n}function D_(i,n){const l={},o=u(i,["prompt"]);n!==void 0&&o!=null&&c(n,["instances[0]","prompt"],o);const r=u(i,["image"]);n!==void 0&&r!=null&&c(n,["instances[0]","image"],Kt(r));const f=u(i,["scribbleImage"]);return n!==void 0&&f!=null&&c(n,["instances[0]","scribble"],R_(f)),l}function Lh(i){const n={},l=u(i,["languageCode"]);l!=null&&c(n,["languageCode"],l);const o=u(i,["voiceConfig"]);if(o!=null&&c(n,["voiceConfig"],o),u(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return n}function U_(i){const n={},l=u(i,["functionDeclarations"]);if(l!=null){let A=l;Array.isArray(A)&&(A=A.map(_=>_)),c(n,["functionDeclarations"],A)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["googleSearchRetrieval"]);o!=null&&c(n,["googleSearchRetrieval"],o);const r=u(i,["computerUse"]);r!=null&&c(n,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(n,["fileSearch"],f);const m=u(i,["codeExecution"]);if(m!=null&&c(n,["codeExecution"],m),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(n,["googleMaps"],d_(g));const y=u(i,["googleSearch"]);y!=null&&c(n,["googleSearch"],f_(y));const h=u(i,["urlContext"]);return h!=null&&c(n,["urlContext"],h),n}function Gh(i){const n={},l=u(i,["functionDeclarations"]);if(l!=null){let _=l;Array.isArray(_)&&(_=_.map(T=>HS(T))),c(n,["functionDeclarations"],_)}const o=u(i,["retrieval"]);o!=null&&c(n,["retrieval"],o);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(n,["googleSearchRetrieval"],r);const f=u(i,["computerUse"]);if(f!=null&&c(n,["computerUse"],f),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const m=u(i,["codeExecution"]);m!=null&&c(n,["codeExecution"],m);const g=u(i,["enterpriseWebSearch"]);g!=null&&c(n,["enterpriseWebSearch"],g);const y=u(i,["googleMaps"]);y!=null&&c(n,["googleMaps"],y);const h=u(i,["googleSearch"]);h!=null&&c(n,["googleSearch"],h);const A=u(i,["urlContext"]);return A!=null&&c(n,["urlContext"],A),n}function B_(i){const n={},l=u(i,["baseModel"]);l!=null&&c(n,["baseModel"],l);const o=u(i,["createTime"]);o!=null&&c(n,["createTime"],o);const r=u(i,["updateTime"]);return r!=null&&c(n,["updateTime"],r),n}function L_(i){const n={},l=u(i,["labels","google-vertex-llm-tuning-base-model-id"]);l!=null&&c(n,["baseModel"],l);const o=u(i,["createTime"]);o!=null&&c(n,["createTime"],o);const r=u(i,["updateTime"]);return r!=null&&c(n,["updateTime"],r),n}function G_(i,n){const l={},o=u(i,["displayName"]);n!==void 0&&o!=null&&c(n,["displayName"],o);const r=u(i,["description"]);n!==void 0&&r!=null&&c(n,["description"],r);const f=u(i,["defaultCheckpointId"]);return n!==void 0&&f!=null&&c(n,["defaultCheckpointId"],f),l}function P_(i,n){const l={},o=u(i,["displayName"]);n!==void 0&&o!=null&&c(n,["displayName"],o);const r=u(i,["description"]);n!==void 0&&r!=null&&c(n,["description"],r);const f=u(i,["defaultCheckpointId"]);return n!==void 0&&f!=null&&c(n,["defaultCheckpointId"],f),l}function H_(i,n){const l={},o=u(n,["model"]);o!=null&&c(l,["_url","name"],Re(i,o));const r=u(n,["config"]);return r!=null&&G_(r,l),l}function q_(i,n){const l={},o=u(n,["model"]);o!=null&&c(l,["_url","model"],Re(i,o));const r=u(n,["config"]);return r!=null&&P_(r,l),l}function V_(i,n){const l={},o=u(i,["outputGcsUri"]);n!==void 0&&o!=null&&c(n,["parameters","storageUri"],o);const r=u(i,["safetyFilterLevel"]);n!==void 0&&r!=null&&c(n,["parameters","safetySetting"],r);const f=u(i,["personGeneration"]);n!==void 0&&f!=null&&c(n,["parameters","personGeneration"],f);const m=u(i,["includeRaiReason"]);n!==void 0&&m!=null&&c(n,["parameters","includeRaiReason"],m);const g=u(i,["outputMimeType"]);n!==void 0&&g!=null&&c(n,["parameters","outputOptions","mimeType"],g);const y=u(i,["outputCompressionQuality"]);n!==void 0&&y!=null&&c(n,["parameters","outputOptions","compressionQuality"],y);const h=u(i,["enhanceInputImage"]);n!==void 0&&h!=null&&c(n,["parameters","upscaleConfig","enhanceInputImage"],h);const A=u(i,["imagePreservationFactor"]);n!==void 0&&A!=null&&c(n,["parameters","upscaleConfig","imagePreservationFactor"],A);const _=u(i,["labels"]);n!==void 0&&_!=null&&c(n,["labels"],_);const T=u(i,["numberOfImages"]);n!==void 0&&T!=null&&c(n,["parameters","sampleCount"],T);const C=u(i,["mode"]);return n!==void 0&&C!=null&&c(n,["parameters","mode"],C),l}function z_(i,n){const l={},o=u(n,["model"]);o!=null&&c(l,["_url","model"],Re(i,o));const r=u(n,["image"]);r!=null&&c(l,["instances[0]","image"],Kt(r));const f=u(n,["upscaleFactor"]);f!=null&&c(l,["parameters","upscaleConfig","upscaleFactor"],f);const m=u(n,["config"]);return m!=null&&V_(m,l),l}function F_(i){const n={},l=u(i,["sdkHttpResponse"]);l!=null&&c(n,["sdkHttpResponse"],l);const o=u(i,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>Po(f))),c(n,["generatedImages"],r)}return n}function O_(i){const n={},l=u(i,["uri"]);l!=null&&c(n,["uri"],l);const o=u(i,["encodedVideo"]);o!=null&&c(n,["videoBytes"],Xn(o));const r=u(i,["encoding"]);return r!=null&&c(n,["mimeType"],r),n}function J_(i){const n={},l=u(i,["gcsUri"]);l!=null&&c(n,["uri"],l);const o=u(i,["bytesBase64Encoded"]);o!=null&&c(n,["videoBytes"],Xn(o));const r=u(i,["mimeType"]);return r!=null&&c(n,["mimeType"],r),n}function Y_(i){const n={},l=u(i,["image"]);l!=null&&c(n,["_self"],Kt(l));const o=u(i,["maskMode"]);return o!=null&&c(n,["maskMode"],o),n}function K_(i){const n={},l=u(i,["image"]);l!=null&&c(n,["image"],Ho(l));const o=u(i,["referenceType"]);return o!=null&&c(n,["referenceType"],o),n}function j_(i){const n={},l=u(i,["image"]);l!=null&&c(n,["image"],Kt(l));const o=u(i,["referenceType"]);return o!=null&&c(n,["referenceType"],o),n}function Ph(i){const n={},l=u(i,["uri"]);l!=null&&c(n,["uri"],l);const o=u(i,["videoBytes"]);o!=null&&c(n,["encodedVideo"],Xn(o));const r=u(i,["mimeType"]);return r!=null&&c(n,["encoding"],r),n}function Hh(i){const n={},l=u(i,["uri"]);l!=null&&c(n,["gcsUri"],l);const o=u(i,["videoBytes"]);o!=null&&c(n,["bytesBase64Encoded"],Xn(o));const r=u(i,["mimeType"]);return r!=null&&c(n,["mimeType"],r),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Q_="Content-Type",X_="X-Server-Timeout",Z_="User-Agent",yu="x-goog-api-client",$_="1.29.0",W_=`google-genai-sdk/${$_}`,eT="v1beta1",tT="v1beta",lh=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class nT{constructor(n){var l,o;this.clientOptions=Object.assign(Object.assign({},n),{project:n.project,location:n.location,apiKey:n.apiKey,vertexai:n.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:eT,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:tT,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,n.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,n.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var n;return(n=this.clientOptions.vertexai)!==null&&n!==void 0?n:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(n){if(!n||n.baseUrl===void 0||n.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[n.baseUrl.endsWith("/")?n.baseUrl.slice(0,-1):n.baseUrl];return n.apiVersion&&n.apiVersion!==""&&o.push(n.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const n=this.getBaseUrl(),l=new URL(n);return l.protocol=l.protocol=="http:"?"ws":"wss",l.toString()}setBaseUrl(n){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=n;else throw new Error("HTTP options are not correctly set.")}constructUrl(n,l,o){const r=[this.getRequestUrlInternal(l)];return o&&r.push(this.getBaseResourcePath()),n!==""&&r.push(n),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(n){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||n.path.startsWith("projects/")||n.httpMethod==="GET"&&n.path.startsWith("publishers/google/models"))}async request(n){let l=this.clientOptions.httpOptions;n.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const o=this.shouldPrependVertexProjectPath(n),r=this.constructUrl(n.path,l,o);if(n.queryParams)for(const[m,g]of Object.entries(n.queryParams))r.searchParams.append(m,String(g));let f={};if(n.httpMethod==="GET"){if(n.body&&n.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else f.body=n.body;return f=await this.includeExtraHttpOptionsToRequestInit(f,l,r.toString(),n.abortSignal),this.unaryApiCall(r,f,n.httpMethod)}patchHttpOptions(n,l){const o=JSON.parse(JSON.stringify(n));for(const[r,f]of Object.entries(l))typeof f=="object"?o[r]=Object.assign(Object.assign({},o[r]),f):f!==void 0&&(o[r]=f);return o}async requestStream(n){let l=this.clientOptions.httpOptions;n.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const o=this.shouldPrependVertexProjectPath(n),r=this.constructUrl(n.path,l,o);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let f={};return f.body=n.body,f=await this.includeExtraHttpOptionsToRequestInit(f,l,r.toString(),n.abortSignal),this.streamApiCall(r,f,n.httpMethod)}async includeExtraHttpOptionsToRequestInit(n,l,o,r){if(l&&l.timeout||r){const f=new AbortController,m=f.signal;if(l.timeout&&(l==null?void 0:l.timeout)>0){const g=setTimeout(()=>f.abort(),l.timeout);g&&typeof g.unref=="function"&&g.unref()}r&&r.addEventListener("abort",()=>{f.abort()}),n.signal=m}return l&&l.extraBody!==null&&iT(n,l.extraBody),n.headers=await this.getHeadersInternal(l,o),n}async unaryApiCall(n,l,o){return this.apiCall(n.toString(),Object.assign(Object.assign({},l),{method:o})).then(async r=>(await oh(r),new fu(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(n,l,o){return this.apiCall(n.toString(),Object.assign(Object.assign({},l),{method:o})).then(async r=>(await oh(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(n){var l;return aa(this,arguments,function*(){const r=(l=n==null?void 0:n.body)===null||l===void 0?void 0:l.getReader(),f=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let m="";for(;;){const{done:g,value:y}=yield Ve(r.read());if(g){if(m.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=f.decode(y,{stream:!0});try{const _=JSON.parse(h);if("error"in _){const T=JSON.parse(JSON.stringify(_.error)),C=T.status,L=T.code,H=`got status: ${C}. ${JSON.stringify(_)}`;if(L>=400&&L<600)throw new Lo({message:H,status:L})}}catch(_){if(_.name==="ApiError")throw _}m+=h;let A=m.match(lh);for(;A;){const _=A[1];try{const T=new Response(_,{headers:n==null?void 0:n.headers,status:n==null?void 0:n.status,statusText:n==null?void 0:n.statusText});yield yield Ve(new fu(T)),m=m.slice(A[0].length),A=m.match(lh)}catch(T){throw new Error(`exception parsing stream chunk ${_}. ${T}`)}}}}finally{r.releaseLock()}})}async apiCall(n,l){return fetch(n,l).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const n={},l=W_+" "+this.clientOptions.userAgentExtra;return n[Z_]=l,n[yu]=l,n[Q_]="application/json",n}async getHeadersInternal(n,l){const o=new Headers;if(n&&n.headers){for(const[r,f]of Object.entries(n.headers))o.append(r,f);n.timeout&&n.timeout>0&&o.append(X_,String(Math.ceil(n.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,l),o}getFileName(n){var l;let o="";return typeof n=="string"&&(o=n.replace(/[/\\]+$/,""),o=(l=o.split(/[/\\]/).pop())!==null&&l!==void 0?l:""),o}async uploadFile(n,l){var o;const r={};l!=null&&(r.mimeType=l.mimeType,r.name=l.name,r.displayName=l.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const f=this.clientOptions.uploader,m=await f.stat(n);r.sizeBytes=String(m.size);const g=(o=l==null?void 0:l.mimeType)!==null&&o!==void 0?o:m.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=g;const y={file:r},h=this.getFileName(n),A=ie("upload/v1beta/files",y._url),_=await this.fetchUploadUrl(A,r.sizeBytes,r.mimeType,h,y,l==null?void 0:l.httpOptions);return f.upload(n,_,this)}async uploadFileToFileSearchStore(n,l,o){var r;const f=this.clientOptions.uploader,m=await f.stat(l),g=String(m.size),y=(r=o==null?void 0:o.mimeType)!==null&&r!==void 0?r:m.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${n}:uploadToFileSearchStore`,A=this.getFileName(l),_={};o!=null&&o.customMetadata&&(_.customMetadata=o.customMetadata),o!=null&&o.chunkingConfig&&(_.chunkingConfig=o.chunkingConfig);const T=await this.fetchUploadUrl(h,g,y,A,_,o==null?void 0:o.httpOptions);return f.uploadToFileSearchStore(l,T,this)}async downloadFile(n){await this.clientOptions.downloader.download(n,this)}async fetchUploadUrl(n,l,o,r,f,m){var g;let y={};m?y=m:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${l}`,"X-Goog-Upload-Header-Content-Type":`${o}`},r?{"X-Goog-Upload-File-Name":r}:{})};const h=await this.request({path:n,body:JSON.stringify(f),httpMethod:"POST",httpOptions:y});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const A=(g=h==null?void 0:h.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(A===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return A}}async function oh(i){var n;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const l=i.status;let o;!((n=i.headers.get("content-type"))===null||n===void 0)&&n.includes("application/json")?o=await i.json():o={error:{message:await i.text(),code:i.status,status:i.statusText}};const r=JSON.stringify(o);throw l>=400&&l<600?new Lo({message:r,status:l}):new Error(r)}}function iT(i,n){if(!n||Object.keys(n).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let l={};if(typeof i.body=="string"&&i.body.length>0)try{const f=JSON.parse(i.body);if(typeof f=="object"&&f!==null&&!Array.isArray(f))l=f;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(f,m){const g=Object.assign({},f);for(const y in m)if(Object.prototype.hasOwnProperty.call(m,y)){const h=m[y],A=g[y];h&&typeof h=="object"&&!Array.isArray(h)&&A&&typeof A=="object"&&!Array.isArray(A)?g[y]=o(A,h):(A&&h&&typeof A!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof A}, New type: ${typeof h}. Overwriting.`),g[y]=h)}return g}const r=o(l,n);i.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const aT="mcp_used/unknown";let lT=!1;function qh(i){for(const n of i)if(oT(n)||typeof n=="object"&&"inputSchema"in n)return!0;return lT}function Vh(i){var n;const l=(n=i[yu])!==null&&n!==void 0?n:"";i[yu]=(l+` ${aT}`).trimStart()}function oT(i){return i!==null&&typeof i=="object"&&i instanceof Mu}function sT(i,n=100){return aa(this,arguments,function*(){let o,r=0;for(;r<n;){const f=yield Ve(i.listTools({cursor:o}));for(const m of f.tools)yield yield Ve(m),r++;if(!f.nextCursor)break;o=f.nextCursor}})}class Mu{constructor(n=[],l){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=n,this.config=l}static create(n,l){return new Mu(n,l)}async initialize(){var n,l,o,r;if(this.mcpTools.length>0)return;const f={},m=[];for(const A of this.mcpClients)try{for(var g=!0,y=(l=void 0,rl(sT(A))),h;h=await y.next(),n=h.done,!n;g=!0){r=h.value,g=!1;const _=r;m.push(_);const T=_.name;if(f[T])throw new Error(`Duplicate function name ${T} found in MCP tools. Please ensure function names are unique.`);f[T]=A}}catch(_){l={error:_}}finally{try{!g&&!n&&(o=y.return)&&await o.call(y)}finally{if(l)throw l.error}}this.mcpTools=m,this.functionNameToMcpClient=f}async tool(){return await this.initialize(),fv(this.mcpTools,this.config)}async callTool(n){await this.initialize();const l=[];for(const o of n)if(o.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[o.name];let f;this.config.timeout&&(f={timeout:this.config.timeout});const m=await r.callTool({name:o.name,arguments:o.args},void 0,f);l.push({functionResponse:{name:o.name,response:m.isError?{error:m}:m}})}return l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function rT(i,n,l){const o=new av;let r;l.data instanceof Blob?r=JSON.parse(await l.data.text()):r=JSON.parse(l.data),Object.assign(o,r),n(o)}class uT{constructor(n,l,o){this.apiClient=n,this.auth=l,this.webSocketFactory=o}async connect(n){var l,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion(),m=fT(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateMusic?key=${g}`;let h=()=>{};const A=new Promise(O=>{h=O}),_=n.callbacks,T=function(){h({})},C=this.apiClient,L={onopen:T,onmessage:O=>{rT(C,_.onmessage,O)},onerror:(l=_==null?void 0:_.onerror)!==null&&l!==void 0?l:function(O){},onclose:(o=_==null?void 0:_.onclose)!==null&&o!==void 0?o:function(O){}},H=this.webSocketFactory.create(y,dT(m),L);H.connect(),await A;const j={setup:{model:Re(this.apiClient,n.model)}};return H.send(JSON.stringify(j)),new cT(H,this.apiClient)}}class cT{constructor(n,l){this.conn=n,this.apiClient=l}async setWeightedPrompts(n){if(!n.weightedPrompts||Object.keys(n.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const l=tS(n);this.conn.send(JSON.stringify({clientContent:l}))}async setMusicGenerationConfig(n){n.musicGenerationConfig||(n.musicGenerationConfig={});const l=eS(n);this.conn.send(JSON.stringify(l))}sendPlaybackControl(n){const l={playbackControl:n};this.conn.send(JSON.stringify(l))}play(){this.sendPlaybackControl(na.PLAY)}pause(){this.sendPlaybackControl(na.PAUSE)}stop(){this.sendPlaybackControl(na.STOP)}resetContext(){this.sendPlaybackControl(na.RESET_CONTEXT)}close(){this.conn.close()}}function dT(i){const n={};return i.forEach((l,o)=>{n[o]=l}),n}function fT(i){const n=new Headers;for(const[l,o]of Object.entries(i))n.append(l,o);return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mT="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function pT(i,n,l){const o=new iv;let r;l.data instanceof Blob?r=await l.data.text():l.data instanceof ArrayBuffer?r=new TextDecoder().decode(l.data):r=l.data;const f=JSON.parse(r);if(i.isVertexAI()){const m=aS(f);Object.assign(o,m)}else Object.assign(o,f);n(o)}class hT{constructor(n,l,o){this.apiClient=n,this.auth=l,this.webSocketFactory=o,this.music=new uT(this.apiClient,this.auth,this.webSocketFactory)}async connect(n){var l,o,r,f,m,g;if(n.config&&n.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let A;const _=this.apiClient.getHeaders();n.config&&n.config.tools&&qh(n.config.tools)&&Vh(_);const T=AT(_);if(this.apiClient.isVertexAI())A=`${y}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(T,A);else{const W=this.apiClient.getApiKey();let ne="BidiGenerateContent",fe="key";W!=null&&W.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ne="BidiGenerateContentConstrained",fe="access_token"),A=`${y}/ws/google.ai.generativelanguage.${h}.GenerativeService.${ne}?${fe}=${W}`}let C=()=>{};const L=new Promise(W=>{C=W}),H=n.callbacks,Z=function(){var W;(W=H==null?void 0:H.onopen)===null||W===void 0||W.call(H),C({})},Q=this.apiClient,j={onopen:Z,onmessage:W=>{pT(Q,H.onmessage,W)},onerror:(l=H==null?void 0:H.onerror)!==null&&l!==void 0?l:function(W){},onclose:(o=H==null?void 0:H.onclose)!==null&&o!==void 0?o:function(W){}},O=this.webSocketFactory.create(A,vT(T),j);O.connect(),await L;let G=Re(this.apiClient,n.model);if(this.apiClient.isVertexAI()&&G.startsWith("publishers/")){const W=this.apiClient.getProject(),ne=this.apiClient.getLocation();G=`projects/${W}/locations/${ne}/`+G}let z={};this.apiClient.isVertexAI()&&((r=n.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(n.config===void 0?n.config={responseModalities:[Qn.AUDIO]}:n.config.responseModalities=[Qn.AUDIO]),!((f=n.config)===null||f===void 0)&&f.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const K=(g=(m=n.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[],P=[];for(const W of K)if(this.isCallableTool(W)){const ne=W;P.push(await ne.tool())}else P.push(W);P.length>0&&(n.config.tools=P);const ae={model:G,config:n.config,callbacks:n.callbacks};return this.apiClient.isVertexAI()?z=WA(this.apiClient,ae):z=$A(this.apiClient,ae),delete z.config,O.send(JSON.stringify(z)),new yT(O,this.apiClient)}isCallableTool(n){return"callTool"in n&&typeof n.callTool=="function"}}const gT={turnComplete:!0};class yT{constructor(n,l){this.conn=n,this.apiClient=l}tLiveClientContent(n,l){if(l.turns!==null&&l.turns!==void 0){let o=[];try{o=Vt(l.turns),n.isVertexAI()||(o=o.map(r=>Go(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof l.turns}'`)}return{clientContent:{turns:o,turnComplete:l.turnComplete}}}return{clientContent:{turnComplete:l.turnComplete}}}tLiveClienttToolResponse(n,l){let o=[];if(l.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(l.functionResponses)?o=l.functionResponses:o=[l.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const f of o){if(typeof f!="object"||f===null||!("name"in f)||!("response"in f))throw new Error(`Could not parse function response, type '${typeof f}'.`);if(!n.isVertexAI()&&!("id"in f))throw new Error(mT)}return{toolResponse:{functionResponses:o}}}sendClientContent(n){n=Object.assign(Object.assign({},gT),n);const l=this.tLiveClientContent(this.apiClient,n);this.conn.send(JSON.stringify(l))}sendRealtimeInput(n){let l={};this.apiClient.isVertexAI()?l={realtimeInput:iS(n)}:l={realtimeInput:nS(n)},this.conn.send(JSON.stringify(l))}sendToolResponse(n){if(n.functionResponses==null)throw new Error("Tool response parameters are required.");const l=this.tLiveClienttToolResponse(this.apiClient,n);this.conn.send(JSON.stringify(l))}close(){this.conn.close()}}function vT(i){const n={};return i.forEach((l,o)=>{n[o]=l}),n}function AT(i){const n=new Headers;for(const[l,o]of Object.entries(i))n.append(l,o);return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sh=10;function rh(i){var n,l,o;if(!((n=i==null?void 0:i.automaticFunctionCalling)===null||n===void 0)&&n.disable)return!0;let r=!1;for(const m of(l=i==null?void 0:i.tools)!==null&&l!==void 0?l:[])if(la(m)){r=!0;break}if(!r)return!0;const f=(o=i==null?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return f&&(f<0||!Number.isInteger(f))||f==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",f),!0):!1}function la(i){return"callTool"in i&&typeof i.callTool=="function"}function ST(i){var n,l,o;return(o=(l=(n=i.config)===null||n===void 0?void 0:n.tools)===null||l===void 0?void 0:l.some(r=>la(r)))!==null&&o!==void 0?o:!1}function uh(i){var n;const l=[];return!((n=i==null?void 0:i.config)===null||n===void 0)&&n.tools&&i.config.tools.forEach((o,r)=>{if(la(o))return;const f=o;f.functionDeclarations&&f.functionDeclarations.length>0&&l.push(r)}),l}function ch(i){var n;return!(!((n=i==null?void 0:i.automaticFunctionCalling)===null||n===void 0)&&n.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _T extends _n{constructor(n){super(),this.apiClient=n,this.generateContent=async l=>{var o,r,f,m,g;const y=await this.processParamsMaybeAddMcpUsage(l);if(this.maybeMoveToResponseJsonSchem(l),!ST(l)||rh(l.config))return await this.generateContentInternal(y);const h=uh(l);if(h.length>0){const H=h.map(Z=>`tools[${Z}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${H}.`)}let A,_;const T=Vt(y.contents),C=(f=(r=(o=y.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&f!==void 0?f:sh;let L=0;for(;L<C&&(A=await this.generateContentInternal(y),!(!A.functionCalls||A.functionCalls.length===0));){const H=A.candidates[0].content,Z=[];for(const Q of(g=(m=l.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[])if(la(Q)){const O=await Q.callTool(A.functionCalls);Z.push(...O)}L++,_={role:"user",parts:Z},y.contents=Vt(y.contents),y.contents.push(H),y.contents.push(_),ch(y.config)&&(T.push(H),T.push(_))}return ch(y.config)&&(A.automaticFunctionCallingHistory=T),A},this.generateContentStream=async l=>{if(this.maybeMoveToResponseJsonSchem(l),rh(l.config)){const r=await this.processParamsMaybeAddMcpUsage(l);return await this.generateContentStreamInternal(r)}const o=uh(l);if(o.length>0){const r=o.map(f=>`tools[${f}]`).join(", ");throw new Error(`Incompatible tools found at ${r}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}return await this.processAfcStream(l)},this.generateImages=async l=>await this.generateImagesInternal(l).then(o=>{var r;let f;const m=[];if(o!=null&&o.generatedImages)for(const y of o.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((r=y==null?void 0:y.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?f=y==null?void 0:y.safetyAttributes:m.push(y);let g;return f?g={generatedImages:m,positivePromptSafetyAttributes:f,sdkHttpResponse:o.sdkHttpResponse}:g={generatedImages:m,sdkHttpResponse:o.sdkHttpResponse},g}),this.list=async l=>{var o;const m={config:Object.assign(Object.assign({},{queryBase:!0}),l==null?void 0:l.config)};if(this.apiClient.isVertexAI()&&!m.config.queryBase){if(!((o=m.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");m.config.filter="labels.tune-type:*"}return new hi(Sn.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(m),m)},this.editImage=async l=>{const o={model:l.model,prompt:l.prompt,referenceImages:[],config:l.config};return l.referenceImages&&l.referenceImages&&(o.referenceImages=l.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async l=>{let o={numberOfImages:1,mode:"upscale"};l.config&&(o=Object.assign(Object.assign({},o),l.config));const r={model:l.model,image:l.image,upscaleFactor:l.upscaleFactor,config:o};return await this.upscaleImageInternal(r)},this.generateVideos=async l=>{var o,r,f,m,g,y;if((l.prompt||l.image||l.video)&&l.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=l.video)===null||o===void 0)&&o.uri&&(!((r=l.video)===null||r===void 0)&&r.videoBytes)?l.video={uri:l.video.uri,mimeType:l.video.mimeType}:!((m=(f=l.source)===null||f===void 0?void 0:f.video)===null||m===void 0)&&m.uri&&(!((y=(g=l.source)===null||g===void 0?void 0:g.video)===null||y===void 0)&&y.videoBytes)&&(l.source.video={uri:l.source.video.uri,mimeType:l.source.video.mimeType})),await this.generateVideosInternal(l)}}maybeMoveToResponseJsonSchem(n){n.config&&n.config.responseSchema&&(n.config.responseJsonSchema||Object.keys(n.config.responseSchema).includes("$schema")&&(n.config.responseJsonSchema=n.config.responseSchema,delete n.config.responseSchema))}async processParamsMaybeAddMcpUsage(n){var l,o,r;const f=(l=n.config)===null||l===void 0?void 0:l.tools;if(!f)return n;const m=await Promise.all(f.map(async y=>la(y)?await y.tool():y)),g={model:n.model,contents:n.contents,config:Object.assign(Object.assign({},n.config),{tools:m})};if(g.config.tools=m,n.config&&n.config.tools&&qh(n.config.tools)){const y=(r=(o=n.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&r!==void 0?r:{};let h=Object.assign({},y);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),Vh(h),g.config.httpOptions=Object.assign(Object.assign({},n.config.httpOptions),{headers:h})}return g}async initAfcToolsMap(n){var l,o,r;const f=new Map;for(const m of(o=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&o!==void 0?o:[])if(la(m)){const g=m,y=await g.tool();for(const h of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!h.name)throw new Error("Function declaration name is required.");if(f.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);f.set(h.name,g)}}return f}async processAfcStream(n){var l,o,r;const f=(r=(o=(l=n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&r!==void 0?r:sh;let m=!1,g=0;const y=await this.initAfcToolsMap(n);return(function(h,A,_){var T,C;return aa(this,arguments,function*(){for(var L,H,Z,Q;g<f;){m&&(g++,m=!1);const z=yield Ve(h.processParamsMaybeAddMcpUsage(_)),K=yield Ve(h.generateContentStreamInternal(z)),P=[],ae=[];try{for(var j=!0,O=(H=void 0,rl(K)),G;G=yield Ve(O.next()),L=G.done,!L;j=!0){Q=G.value,j=!1;const W=Q;if(yield yield Ve(W),W.candidates&&(!((T=W.candidates[0])===null||T===void 0)&&T.content)){ae.push(W.candidates[0].content);for(const ne of(C=W.candidates[0].content.parts)!==null&&C!==void 0?C:[])if(g<f&&ne.functionCall){if(!ne.functionCall.name)throw new Error("Function call name was not returned by the model.");if(A.has(ne.functionCall.name)){const fe=yield Ve(A.get(ne.functionCall.name).callTool([ne.functionCall]));P.push(...fe)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${A.keys()}, mising tool: ${ne.functionCall.name}`)}}}}catch(W){H={error:W}}finally{try{!j&&!L&&(Z=O.return)&&(yield Ve(Z.call(O)))}finally{if(H)throw H.error}}if(P.length>0){m=!0;const W=new sl;W.candidates=[{content:{role:"user",parts:P}}],yield yield Ve(W);const ne=[];ne.push(...ae),ne.push({role:"user",parts:P});const fe=Vt(_.contents).concat(ne);_.contents=fe}else break}})})(this,y,n)}async generateContentInternal(n){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=nh(this.apiClient,n);return g=ie("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(A=>A.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:A.headers},T})),m.then(A=>{const _=ah(A),T=new sl;return Object.assign(T,_),T})}else{const h=th(this.apiClient,n);return g=ie("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(A=>A.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:A.headers},T})),m.then(A=>{const _=ih(A),T=new sl;return Object.assign(T,_),T})}}async generateContentStreamInternal(n){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=nh(this.apiClient,n);return g=ie("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}),m.then(function(_){return aa(this,arguments,function*(){var T,C,L,H;try{for(var Z=!0,Q=rl(_),j;j=yield Ve(Q.next()),T=j.done,!T;Z=!0){H=j.value,Z=!1;const O=H,G=ah(yield Ve(O.json()));G.sdkHttpResponse={headers:O.headers};const z=new sl;Object.assign(z,G),yield yield Ve(z)}}catch(O){C={error:O}}finally{try{!Z&&!T&&(L=Q.return)&&(yield Ve(L.call(Q)))}finally{if(C)throw C.error}}})})}else{const h=th(this.apiClient,n);return g=ie("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}),m.then(function(_){return aa(this,arguments,function*(){var T,C,L,H;try{for(var Z=!0,Q=rl(_),j;j=yield Ve(Q.next()),T=j.done,!T;Z=!0){H=j.value,Z=!1;const O=H,G=ih(yield Ve(O.json()));G.sdkHttpResponse={headers:O.headers};const z=new sl;Object.assign(z,G),yield yield Ve(z)}}catch(O){C={error:O}}finally{try{!Z&&!T&&(L=Q.return)&&(yield Ve(L.call(Q)))}finally{if(C)throw C.error}}})})}}async embedContent(n){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=US(this.apiClient,n);return g=ie("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(A=>A.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:A.headers},T})),m.then(A=>{const _=LS(A),T=new Hp;return Object.assign(T,_),T})}else{const h=DS(this.apiClient,n);return g=ie("{model}:batchEmbedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(A=>A.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:A.headers},T})),m.then(A=>{const _=BS(A),T=new Hp;return Object.assign(T,_),T})}}async generateImagesInternal(n){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=JS(this.apiClient,n);return g=ie("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(A=>A.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:A.headers},T})),m.then(A=>{const _=KS(A),T=new qp;return Object.assign(T,_),T})}else{const h=OS(this.apiClient,n);return g=ie("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(A=>A.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:A.headers},T})),m.then(A=>{const _=YS(A),T=new qp;return Object.assign(T,_),T})}}async editImageInternal(n){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI()){const g=RS(this.apiClient,n);return f=ie("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(h=>{const A=h;return A.sdkHttpResponse={headers:y.headers},A})),r.then(y=>{const h=wS(y),A=new Y0;return Object.assign(A,h),A})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(n){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI()){const g=z_(this.apiClient,n);return f=ie("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(h=>{const A=h;return A.sdkHttpResponse={headers:y.headers},A})),r.then(y=>{const h=F_(y),A=new K0;return Object.assign(A,h),A})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(n){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI()){const g=C_(this.apiClient,n);return f=ie("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>{const h=x_(y),A=new j0;return Object.assign(A,h),A})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(n){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI()){const g=k_(this.apiClient,n);return f=ie("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>{const h=I_(y),A=new Q0;return Object.assign(A,h),A})}else throw new Error("This method is only supported by the Vertex AI.")}async get(n){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=c_(this.apiClient,n);return g=ie("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(A=>A.json()),m.then(A=>gu(A))}else{const h=u_(this.apiClient,n);return g=ie("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(A=>A.json()),m.then(A=>hu(A))}}async listInternal(n){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=y_(this.apiClient,n);return g=ie("{models_url}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(A=>A.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:A.headers},T})),m.then(A=>{const _=A_(A),T=new Vp;return Object.assign(T,_),T})}else{const h=g_(this.apiClient,n);return g=ie("{models_url}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(A=>A.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:A.headers},T})),m.then(A=>{const _=v_(A),T=new Vp;return Object.assign(T,_),T})}}async update(n){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=q_(this.apiClient,n);return g=ie("{model}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(A=>A.json()),m.then(A=>gu(A))}else{const h=H_(this.apiClient,n);return g=ie("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(A=>A.json()),m.then(A=>hu(A))}}async delete(n){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=xS(this.apiClient,n);return g=ie("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(A=>A.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:A.headers},T})),m.then(A=>{const _=bS(A),T=new zp;return Object.assign(T,_),T})}else{const h=CS(this.apiClient,n);return g=ie("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(A=>A.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:A.headers},T})),m.then(A=>{const _=NS(A),T=new zp;return Object.assign(T,_),T})}}async countTokens(n){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=_S(this.apiClient,n);return g=ie("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(A=>A.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:A.headers},T})),m.then(A=>{const _=ES(A),T=new Fp;return Object.assign(T,_),T})}else{const h=SS(this.apiClient,n);return g=ie("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(A=>A.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:A.headers},T})),m.then(A=>{const _=TS(A),T=new Fp;return Object.assign(T,_),T})}}async computeTokens(n){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI()){const g=mS(this.apiClient,n);return f=ie("{model}:computeTokens",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(h=>{const A=h;return A.sdkHttpResponse={headers:y.headers},A})),r.then(y=>{const h=pS(y),A=new X0;return Object.assign(A,h),A})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(n){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=WS(this.apiClient,n);return g=ie("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(A=>A.json()),m.then(A=>{const _=ZS(A),T=new Do;return Object.assign(T,_),T})}else{const h=$S(this.apiClient,n);return g=ie("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(A=>A.json()),m.then(A=>{const _=XS(A),T=new Do;return Object.assign(T,_),T})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TT extends _n{constructor(n){super(),this.apiClient=n}async getVideosOperation(n){const l=n.operation,o=n.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let f;o&&"httpOptions"in o&&(f=o.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:f}});return l._fromAPIResponse({apiResponse:m,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:l.name,config:o});return l._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(n){const l=n.operation,o=n.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let f;o&&"httpOptions"in o&&(f=o.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:f}});return l._fromAPIResponse({apiResponse:m,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:l.name,config:o});return l._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(n){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=q0(n);return g=ie("{operationName}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(A=>A.json()),m}else{const h=H0(n);return g=ie("{operationName}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(A=>A.json()),m}}async fetchPredictVideosOperationInternal(n){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI()){const g=I0(n);return f=ie("{resourceName}:fetchPredictOperation",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ET(i){const n={},l=u(i,["data"]);if(l!=null&&c(n,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["mimeType"]);return o!=null&&c(n,["mimeType"],o),n}function CT(i){const n={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>IT(f))),c(n,["parts"],r)}const o=u(i,["role"]);return o!=null&&c(n,["role"],o),n}function xT(i,n,l){const o={},r=u(n,["expireTime"]);l!==void 0&&r!=null&&c(l,["expireTime"],r);const f=u(n,["newSessionExpireTime"]);l!==void 0&&f!=null&&c(l,["newSessionExpireTime"],f);const m=u(n,["uses"]);l!==void 0&&m!=null&&c(l,["uses"],m);const g=u(n,["liveConnectConstraints"]);l!==void 0&&g!=null&&c(l,["bidiGenerateContentSetup"],kT(i,g));const y=u(n,["lockAdditionalFields"]);return l!==void 0&&y!=null&&c(l,["fieldMask"],y),o}function NT(i,n){const l={},o=u(n,["config"]);return o!=null&&c(l,["config"],xT(i,o,l)),l}function bT(i){const n={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(n,["fileUri"],l);const o=u(i,["mimeType"]);return o!=null&&c(n,["mimeType"],o),n}function MT(i){const n={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(n,["enableWidget"],l),n}function RT(i){const n={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(n,["timeRangeFilter"],l),n}function wT(i,n){const l={},o=u(i,["generationConfig"]);n!==void 0&&o!=null&&c(n,["setup","generationConfig"],o);const r=u(i,["responseModalities"]);n!==void 0&&r!=null&&c(n,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);n!==void 0&&f!=null&&c(n,["setup","generationConfig","temperature"],f);const m=u(i,["topP"]);n!==void 0&&m!=null&&c(n,["setup","generationConfig","topP"],m);const g=u(i,["topK"]);n!==void 0&&g!=null&&c(n,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);n!==void 0&&y!=null&&c(n,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);n!==void 0&&h!=null&&c(n,["setup","generationConfig","mediaResolution"],h);const A=u(i,["seed"]);n!==void 0&&A!=null&&c(n,["setup","generationConfig","seed"],A);const _=u(i,["speechConfig"]);n!==void 0&&_!=null&&c(n,["setup","generationConfig","speechConfig"],bu(_));const T=u(i,["thinkingConfig"]);n!==void 0&&T!=null&&c(n,["setup","generationConfig","thinkingConfig"],T);const C=u(i,["enableAffectiveDialog"]);n!==void 0&&C!=null&&c(n,["setup","generationConfig","enableAffectiveDialog"],C);const L=u(i,["systemInstruction"]);n!==void 0&&L!=null&&c(n,["setup","systemInstruction"],CT(dt(L)));const H=u(i,["tools"]);if(n!==void 0&&H!=null){let K=sa(H);Array.isArray(K)&&(K=K.map(P=>UT(oa(P)))),c(n,["setup","tools"],K)}const Z=u(i,["sessionResumption"]);n!==void 0&&Z!=null&&c(n,["setup","sessionResumption"],DT(Z));const Q=u(i,["inputAudioTranscription"]);n!==void 0&&Q!=null&&c(n,["setup","inputAudioTranscription"],Q);const j=u(i,["outputAudioTranscription"]);n!==void 0&&j!=null&&c(n,["setup","outputAudioTranscription"],j);const O=u(i,["realtimeInputConfig"]);n!==void 0&&O!=null&&c(n,["setup","realtimeInputConfig"],O);const G=u(i,["contextWindowCompression"]);n!==void 0&&G!=null&&c(n,["setup","contextWindowCompression"],G);const z=u(i,["proactivity"]);return n!==void 0&&z!=null&&c(n,["setup","proactivity"],z),l}function kT(i,n){const l={},o=u(n,["model"]);o!=null&&c(l,["setup","model"],Re(i,o));const r=u(n,["config"]);return r!=null&&c(l,["config"],wT(r,l)),l}function IT(i){const n={},l=u(i,["functionCall"]);l!=null&&c(n,["functionCall"],l);const o=u(i,["codeExecutionResult"]);o!=null&&c(n,["codeExecutionResult"],o);const r=u(i,["executableCode"]);r!=null&&c(n,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(n,["fileData"],bT(f));const m=u(i,["functionResponse"]);m!=null&&c(n,["functionResponse"],m);const g=u(i,["inlineData"]);g!=null&&c(n,["inlineData"],ET(g));const y=u(i,["text"]);y!=null&&c(n,["text"],y);const h=u(i,["thought"]);h!=null&&c(n,["thought"],h);const A=u(i,["thoughtSignature"]);A!=null&&c(n,["thoughtSignature"],A);const _=u(i,["videoMetadata"]);return _!=null&&c(n,["videoMetadata"],_),n}function DT(i){const n={},l=u(i,["handle"]);if(l!=null&&c(n,["handle"],l),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function UT(i){const n={},l=u(i,["functionDeclarations"]);if(l!=null){let A=l;Array.isArray(A)&&(A=A.map(_=>_)),c(n,["functionDeclarations"],A)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["googleSearchRetrieval"]);o!=null&&c(n,["googleSearchRetrieval"],o);const r=u(i,["computerUse"]);r!=null&&c(n,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(n,["fileSearch"],f);const m=u(i,["codeExecution"]);if(m!=null&&c(n,["codeExecution"],m),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(n,["googleMaps"],MT(g));const y=u(i,["googleSearch"]);y!=null&&c(n,["googleSearch"],RT(y));const h=u(i,["urlContext"]);return h!=null&&c(n,["urlContext"],h),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BT(i){const n=[];for(const l in i)if(Object.prototype.hasOwnProperty.call(i,l)){const o=i[l];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const r=Object.keys(o).map(f=>`${l}.${f}`);n.push(...r)}else n.push(l)}return n.join(",")}function LT(i,n){let l=null;const o=i.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const f=o.setup;typeof f=="object"&&f!==null?(i.bidiGenerateContentSetup=f,l=f):delete i.bidiGenerateContentSetup}else o!==void 0&&delete i.bidiGenerateContentSetup;const r=i.fieldMask;if(l){const f=BT(l);if(Array.isArray(n==null?void 0:n.lockAdditionalFields)&&(n==null?void 0:n.lockAdditionalFields.length)===0)f?i.fieldMask=f:delete i.fieldMask;else if(n!=null&&n.lockAdditionalFields&&n.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const m=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];r.length>0&&(g=r.map(h=>m.includes(h)?`generationConfig.${h}`:h));const y=[];f&&y.push(f),g.length>0&&y.push(...g),y.length>0?i.fieldMask=y.join(","):delete i.fieldMask}else delete i.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?i.fieldMask=r.join(","):delete i.fieldMask;return i}class GT extends _n{constructor(n){super(),this.apiClient=n}async create(n){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=NT(this.apiClient,n);f=ie("auth_tokens",g._url),m=g._query,delete g.config,delete g._url,delete g._query;const y=LT(g,n.config);return r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),r.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PT(i,n){const l={},o=u(i,["displayName"]);return n!==void 0&&o!=null&&c(n,["displayName"],o),l}function HT(i){const n={},l=u(i,["config"]);return l!=null&&PT(l,n),n}function qT(i,n){const l={},o=u(i,["force"]);return n!==void 0&&o!=null&&c(n,["_query","force"],o),l}function VT(i){const n={},l=u(i,["name"]);l!=null&&c(n,["_url","name"],l);const o=u(i,["config"]);return o!=null&&qT(o,n),n}function zT(i){const n={},l=u(i,["name"]);return l!=null&&c(n,["_url","name"],l),n}function FT(i,n){const l={},o=u(i,["customMetadata"]);if(n!==void 0&&o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>m)),c(n,["customMetadata"],f)}const r=u(i,["chunkingConfig"]);return n!==void 0&&r!=null&&c(n,["chunkingConfig"],r),l}function OT(i){const n={},l=u(i,["name"]);l!=null&&c(n,["name"],l);const o=u(i,["metadata"]);o!=null&&c(n,["metadata"],o);const r=u(i,["done"]);r!=null&&c(n,["done"],r);const f=u(i,["error"]);f!=null&&c(n,["error"],f);const m=u(i,["response"]);return m!=null&&c(n,["response"],YT(m)),n}function JT(i){const n={},l=u(i,["fileSearchStoreName"]);l!=null&&c(n,["_url","file_search_store_name"],l);const o=u(i,["fileName"]);o!=null&&c(n,["fileName"],o);const r=u(i,["config"]);return r!=null&&FT(r,n),n}function YT(i){const n={},l=u(i,["sdkHttpResponse"]);l!=null&&c(n,["sdkHttpResponse"],l);const o=u(i,["parent"]);o!=null&&c(n,["parent"],o);const r=u(i,["documentName"]);return r!=null&&c(n,["documentName"],r),n}function KT(i,n){const l={},o=u(i,["pageSize"]);n!==void 0&&o!=null&&c(n,["_query","pageSize"],o);const r=u(i,["pageToken"]);return n!==void 0&&r!=null&&c(n,["_query","pageToken"],r),l}function jT(i){const n={},l=u(i,["config"]);return l!=null&&KT(l,n),n}function QT(i){const n={},l=u(i,["sdkHttpResponse"]);l!=null&&c(n,["sdkHttpResponse"],l);const o=u(i,["nextPageToken"]);o!=null&&c(n,["nextPageToken"],o);const r=u(i,["fileSearchStores"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>m)),c(n,["fileSearchStores"],f)}return n}function XT(i,n){const l={},o=u(i,["mimeType"]);n!==void 0&&o!=null&&c(n,["mimeType"],o);const r=u(i,["displayName"]);n!==void 0&&r!=null&&c(n,["displayName"],r);const f=u(i,["customMetadata"]);if(n!==void 0&&f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>y)),c(n,["customMetadata"],g)}const m=u(i,["chunkingConfig"]);return n!==void 0&&m!=null&&c(n,["chunkingConfig"],m),l}function ZT(i){const n={},l=u(i,["fileSearchStoreName"]);l!=null&&c(n,["_url","file_search_store_name"],l);const o=u(i,["config"]);return o!=null&&XT(o,n),n}function $T(i){const n={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(n,["sdkHttpResponse"],l),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WT(i,n){const l={},o=u(i,["force"]);return n!==void 0&&o!=null&&c(n,["_query","force"],o),l}function eE(i){const n={},l=u(i,["name"]);l!=null&&c(n,["_url","name"],l);const o=u(i,["config"]);return o!=null&&WT(o,n),n}function tE(i){const n={},l=u(i,["name"]);return l!=null&&c(n,["_url","name"],l),n}function nE(i,n){const l={},o=u(i,["pageSize"]);n!==void 0&&o!=null&&c(n,["_query","pageSize"],o);const r=u(i,["pageToken"]);return n!==void 0&&r!=null&&c(n,["_query","pageToken"],r),l}function iE(i){const n={},l=u(i,["parent"]);l!=null&&c(n,["_url","parent"],l);const o=u(i,["config"]);return o!=null&&nE(o,n),n}function aE(i){const n={},l=u(i,["sdkHttpResponse"]);l!=null&&c(n,["sdkHttpResponse"],l);const o=u(i,["nextPageToken"]);o!=null&&c(n,["nextPageToken"],o);const r=u(i,["documents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>m)),c(n,["documents"],f)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lE extends _n{constructor(n){super(),this.apiClient=n,this.list=async l=>new hi(Sn.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:l.parent,config:o.config}),await this.listInternal(l),l)}async get(n){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=tE(n);return f=ie("{name}",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(n){var l,o;let r="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=eE(n);r=ie("{name}",m._url),f=m._query,delete m._url,delete m._query,await this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(n){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=iE(n);return f=ie("{parent}/documents",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>{const h=aE(y),A=new Z0;return Object.assign(A,h),A})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oE extends _n{constructor(n,l=new lE(n)){super(),this.apiClient=n,this.documents=l,this.list=async(o={})=>new hi(Sn.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(o),o)}async uploadToFileSearchStore(n){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(n.fileSearchStoreName,n.file,n.config)}async create(n){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=HT(n);return f=ie("fileSearchStores",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async get(n){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=zT(n);return f=ie("{name}",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(n){var l,o;let r="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=VT(n);r=ie("{name}",m._url),f=m._query,delete m._url,delete m._query,await this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(n){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=jT(n);return f=ie("fileSearchStores",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>{const h=QT(y),A=new $0;return Object.assign(A,h),A})}}async uploadToFileSearchStoreInternal(n){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=ZT(n);return f=ie("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>{const h=$T(y),A=new W0;return Object.assign(A,h),A})}}async importFile(n){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=JT(n);return f=ie("{file_search_store_name}:importFile",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>{const h=OT(y),A=new Tu;return Object.assign(A,h),A})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sE(i,n){const l={},o=u(i,["name"]);return o!=null&&c(l,["_url","name"],o),l}function rE(i,n){const l={},o=u(i,["name"]);return o!=null&&c(l,["_url","name"],o),l}function uE(i,n,l){const o={};if(u(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(i,["tunedModelDisplayName"]);if(n!==void 0&&r!=null&&c(n,["displayName"],r),u(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const f=u(i,["epochCount"]);n!==void 0&&f!=null&&c(n,["tuningTask","hyperparameters","epochCount"],f);const m=u(i,["learningRateMultiplier"]);if(m!=null&&c(o,["tuningTask","hyperparameters","learningRateMultiplier"],m),u(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=u(i,["batchSize"]);n!==void 0&&g!=null&&c(n,["tuningTask","hyperparameters","batchSize"],g);const y=u(i,["learningRate"]);if(n!==void 0&&y!=null&&c(n,["tuningTask","hyperparameters","learningRate"],y),u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return o}function cE(i,n,l){const o={};let r=u(l,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const C=u(i,["validationDataset"]);n!==void 0&&C!=null&&c(n,["supervisedTuningSpec"],dh(C))}else if(r==="PREFERENCE_TUNING"){const C=u(i,["validationDataset"]);n!==void 0&&C!=null&&c(n,["preferenceOptimizationSpec"],dh(C))}const f=u(i,["tunedModelDisplayName"]);n!==void 0&&f!=null&&c(n,["tunedModelDisplayName"],f);const m=u(i,["description"]);n!==void 0&&m!=null&&c(n,["description"],m);let g=u(l,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const C=u(i,["epochCount"]);n!==void 0&&C!=null&&c(n,["supervisedTuningSpec","hyperParameters","epochCount"],C)}else if(g==="PREFERENCE_TUNING"){const C=u(i,["epochCount"]);n!==void 0&&C!=null&&c(n,["preferenceOptimizationSpec","hyperParameters","epochCount"],C)}let y=u(l,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const C=u(i,["learningRateMultiplier"]);n!==void 0&&C!=null&&c(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],C)}else if(y==="PREFERENCE_TUNING"){const C=u(i,["learningRateMultiplier"]);n!==void 0&&C!=null&&c(n,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],C)}let h=u(l,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const C=u(i,["exportLastCheckpointOnly"]);n!==void 0&&C!=null&&c(n,["supervisedTuningSpec","exportLastCheckpointOnly"],C)}else if(h==="PREFERENCE_TUNING"){const C=u(i,["exportLastCheckpointOnly"]);n!==void 0&&C!=null&&c(n,["preferenceOptimizationSpec","exportLastCheckpointOnly"],C)}let A=u(l,["config","method"]);if(A===void 0&&(A="SUPERVISED_FINE_TUNING"),A==="SUPERVISED_FINE_TUNING"){const C=u(i,["adapterSize"]);n!==void 0&&C!=null&&c(n,["supervisedTuningSpec","hyperParameters","adapterSize"],C)}else if(A==="PREFERENCE_TUNING"){const C=u(i,["adapterSize"]);n!==void 0&&C!=null&&c(n,["preferenceOptimizationSpec","hyperParameters","adapterSize"],C)}if(u(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const _=u(i,["labels"]);n!==void 0&&_!=null&&c(n,["labels"],_);const T=u(i,["beta"]);return n!==void 0&&T!=null&&c(n,["preferenceOptimizationSpec","hyperParameters","beta"],T),o}function dE(i,n){const l={},o=u(i,["baseModel"]);o!=null&&c(l,["baseModel"],o);const r=u(i,["preTunedModel"]);r!=null&&c(l,["preTunedModel"],r);const f=u(i,["trainingDataset"]);f!=null&&TE(f);const m=u(i,["config"]);return m!=null&&uE(m,l),l}function fE(i,n){const l={},o=u(i,["baseModel"]);o!=null&&c(l,["baseModel"],o);const r=u(i,["preTunedModel"]);r!=null&&c(l,["preTunedModel"],r);const f=u(i,["trainingDataset"]);f!=null&&EE(f,l,n);const m=u(i,["config"]);return m!=null&&cE(m,l,n),l}function mE(i,n){const l={},o=u(i,["name"]);return o!=null&&c(l,["_url","name"],o),l}function pE(i,n){const l={},o=u(i,["name"]);return o!=null&&c(l,["_url","name"],o),l}function hE(i,n,l){const o={},r=u(i,["pageSize"]);n!==void 0&&r!=null&&c(n,["_query","pageSize"],r);const f=u(i,["pageToken"]);n!==void 0&&f!=null&&c(n,["_query","pageToken"],f);const m=u(i,["filter"]);return n!==void 0&&m!=null&&c(n,["_query","filter"],m),o}function gE(i,n,l){const o={},r=u(i,["pageSize"]);n!==void 0&&r!=null&&c(n,["_query","pageSize"],r);const f=u(i,["pageToken"]);n!==void 0&&f!=null&&c(n,["_query","pageToken"],f);const m=u(i,["filter"]);return n!==void 0&&m!=null&&c(n,["_query","filter"],m),o}function yE(i,n){const l={},o=u(i,["config"]);return o!=null&&hE(o,l),l}function vE(i,n){const l={},o=u(i,["config"]);return o!=null&&gE(o,l),l}function AE(i,n){const l={},o=u(i,["sdkHttpResponse"]);o!=null&&c(l,["sdkHttpResponse"],o);const r=u(i,["nextPageToken"]);r!=null&&c(l,["nextPageToken"],r);const f=u(i,["tunedModels"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(g=>zh(g))),c(l,["tuningJobs"],m)}return l}function SE(i,n){const l={},o=u(i,["sdkHttpResponse"]);o!=null&&c(l,["sdkHttpResponse"],o);const r=u(i,["nextPageToken"]);r!=null&&c(l,["nextPageToken"],r);const f=u(i,["tuningJobs"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(g=>vu(g))),c(l,["tuningJobs"],m)}return l}function _E(i,n){const l={},o=u(i,["name"]);o!=null&&c(l,["model"],o);const r=u(i,["name"]);return r!=null&&c(l,["endpoint"],r),l}function TE(i,n){const l={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=u(i,["examples"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>f)),c(l,["examples","examples"],r)}return l}function EE(i,n,l){const o={};let r=u(l,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const m=u(i,["gcsUri"]);n!==void 0&&m!=null&&c(n,["supervisedTuningSpec","trainingDatasetUri"],m)}else if(r==="PREFERENCE_TUNING"){const m=u(i,["gcsUri"]);n!==void 0&&m!=null&&c(n,["preferenceOptimizationSpec","trainingDatasetUri"],m)}let f=u(l,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const m=u(i,["vertexDatasetResource"]);n!==void 0&&m!=null&&c(n,["supervisedTuningSpec","trainingDatasetUri"],m)}else if(f==="PREFERENCE_TUNING"){const m=u(i,["vertexDatasetResource"]);n!==void 0&&m!=null&&c(n,["preferenceOptimizationSpec","trainingDatasetUri"],m)}if(u(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function zh(i,n){const l={},o=u(i,["sdkHttpResponse"]);o!=null&&c(l,["sdkHttpResponse"],o);const r=u(i,["name"]);r!=null&&c(l,["name"],r);const f=u(i,["state"]);f!=null&&c(l,["state"],Eh(f));const m=u(i,["createTime"]);m!=null&&c(l,["createTime"],m);const g=u(i,["tuningTask","startTime"]);g!=null&&c(l,["startTime"],g);const y=u(i,["tuningTask","completeTime"]);y!=null&&c(l,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&c(l,["updateTime"],h);const A=u(i,["description"]);A!=null&&c(l,["description"],A);const _=u(i,["baseModel"]);_!=null&&c(l,["baseModel"],_);const T=u(i,["_self"]);return T!=null&&c(l,["tunedModel"],_E(T)),l}function vu(i,n){const l={},o=u(i,["sdkHttpResponse"]);o!=null&&c(l,["sdkHttpResponse"],o);const r=u(i,["name"]);r!=null&&c(l,["name"],r);const f=u(i,["state"]);f!=null&&c(l,["state"],Eh(f));const m=u(i,["createTime"]);m!=null&&c(l,["createTime"],m);const g=u(i,["startTime"]);g!=null&&c(l,["startTime"],g);const y=u(i,["endTime"]);y!=null&&c(l,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&c(l,["updateTime"],h);const A=u(i,["error"]);A!=null&&c(l,["error"],A);const _=u(i,["description"]);_!=null&&c(l,["description"],_);const T=u(i,["baseModel"]);T!=null&&c(l,["baseModel"],T);const C=u(i,["tunedModel"]);C!=null&&c(l,["tunedModel"],C);const L=u(i,["preTunedModel"]);L!=null&&c(l,["preTunedModel"],L);const H=u(i,["supervisedTuningSpec"]);H!=null&&c(l,["supervisedTuningSpec"],H);const Z=u(i,["preferenceOptimizationSpec"]);Z!=null&&c(l,["preferenceOptimizationSpec"],Z);const Q=u(i,["tuningDataStats"]);Q!=null&&c(l,["tuningDataStats"],Q);const j=u(i,["encryptionSpec"]);j!=null&&c(l,["encryptionSpec"],j);const O=u(i,["partnerModelTuningSpec"]);O!=null&&c(l,["partnerModelTuningSpec"],O);const G=u(i,["customBaseModel"]);G!=null&&c(l,["customBaseModel"],G);const z=u(i,["experiment"]);z!=null&&c(l,["experiment"],z);const K=u(i,["labels"]);K!=null&&c(l,["labels"],K);const P=u(i,["outputUri"]);P!=null&&c(l,["outputUri"],P);const ae=u(i,["pipelineJob"]);ae!=null&&c(l,["pipelineJob"],ae);const W=u(i,["serviceAccount"]);W!=null&&c(l,["serviceAccount"],W);const ne=u(i,["tunedModelDisplayName"]);ne!=null&&c(l,["tunedModelDisplayName"],ne);const fe=u(i,["veoTuningSpec"]);return fe!=null&&c(l,["veoTuningSpec"],fe),l}function CE(i,n){const l={},o=u(i,["sdkHttpResponse"]);o!=null&&c(l,["sdkHttpResponse"],o);const r=u(i,["name"]);r!=null&&c(l,["name"],r);const f=u(i,["metadata"]);f!=null&&c(l,["metadata"],f);const m=u(i,["done"]);m!=null&&c(l,["done"],m);const g=u(i,["error"]);return g!=null&&c(l,["error"],g),l}function dh(i,n){const l={},o=u(i,["gcsUri"]);o!=null&&c(l,["validationDatasetUri"],o);const r=u(i,["vertexDatasetResource"]);return r!=null&&c(l,["validationDatasetUri"],r),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xE extends _n{constructor(n){super(),this.apiClient=n,this.get=async l=>await this.getInternal(l),this.list=async(l={})=>new hi(Sn.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(l),l),this.tune=async l=>{var o;if(this.apiClient.isVertexAI())if(l.baseModel.startsWith("projects/")){const r={tunedModelName:l.baseModel};!((o=l.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(r.checkpointId=l.config.preTunedModelCheckpointId);const f=Object.assign(Object.assign({},l),{preTunedModel:r});return f.baseModel=void 0,await this.tuneInternal(f)}else{const r=Object.assign({},l);return await this.tuneInternal(r)}else{const r=Object.assign({},l),f=await this.tuneMldevInternal(r);let m="";return f.metadata!==void 0&&f.metadata.tunedModel!==void 0?m=f.metadata.tunedModel:f.name!==void 0&&f.name.includes("/operations/")&&(m=f.name.split("/operations/")[0]),{name:m,state:du.JOB_STATE_QUEUED}}}}async getInternal(n){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=pE(n);return g=ie("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(A=>A.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:A.headers},T})),m.then(A=>vu(A))}else{const h=mE(n);return g=ie("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(A=>A.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:A.headers},T})),m.then(A=>zh(A))}}async listInternal(n){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=vE(n);return g=ie("tuningJobs",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(A=>A.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:A.headers},T})),m.then(A=>{const _=SE(A),T=new Op;return Object.assign(T,_),T})}else{const h=yE(n);return g=ie("tunedModels",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(A=>A.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:A.headers},T})),m.then(A=>{const _=AE(A),T=new Op;return Object.assign(T,_),T})}}async cancel(n){var l,o,r,f;let m="",g={};if(this.apiClient.isVertexAI()){const y=rE(n);m=ie("{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal})}else{const y=sE(n);m=ie("{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal})}}async tuneInternal(n){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI()){const g=fE(n,n);return f=ie("tuningJobs",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(h=>{const A=h;return A.sdkHttpResponse={headers:y.headers},A})),r.then(y=>vu(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(n){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=dE(n);return f=ie("tunedModels",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(h=>{const A=h;return A.sdkHttpResponse={headers:y.headers},A})),r.then(y=>CE(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NE{async download(n,l){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const bE=1024*1024*8,ME=3,RE=1e3,wE=2,Bo="x-goog-upload-status";async function kE(i,n,l){var o;const r=await Fh(i,n,l),f=await(r==null?void 0:r.json());if(((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[Bo])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return f.file}async function IE(i,n,l){var o;const r=await Fh(i,n,l),f=await(r==null?void 0:r.json());if(((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[Bo])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const m=yh(f),g=new Eu;return Object.assign(g,m),g}async function Fh(i,n,l){var o,r;let f=0,m=0,g=new fu(new Response),y="upload";for(f=i.size;m<f;){const h=Math.min(bE,f-m),A=i.slice(m,m+h);m+h>=f&&(y+=", finalize");let _=0,T=RE;for(;_<ME&&(g=await l.request({path:"",body:A,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:n,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(m),"Content-Length":String(h)}}}),!(!((o=g==null?void 0:g.headers)===null||o===void 0)&&o[Bo]));)_++,await UE(T),T=T*wE;if(m+=h,((r=g==null?void 0:g.headers)===null||r===void 0?void 0:r[Bo])!=="active")break;if(f<=m)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function DE(i){return{size:i.size,type:i.type}}function UE(i){return new Promise(n=>setTimeout(n,i))}class BE{async upload(n,l,o){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await kE(n,l,o)}async uploadToFileSearchStore(n,l,o){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await IE(n,l,o)}async stat(n){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await DE(n)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LE{create(n,l,o){return new GE(n,l,o)}}class GE{constructor(n,l,o){this.url=n,this.headers=l,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(n){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(n)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fh="x-goog-api-key";class PE{constructor(n){this.apiKey=n}async addAuthHeaders(n,l){if(n.get(fh)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");n.append(fh,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const HE="gl-node/";class qo{constructor(n){var l;if(n.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(n.project||n.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(l=n.vertexai)!==null&&l!==void 0?l:!1,this.apiKey=n.apiKey;const o=w0(n.httpOptions,n.vertexai,void 0,void 0);o&&(n.httpOptions?n.httpOptions.baseUrl=o:n.httpOptions={baseUrl:o}),this.apiVersion=n.apiVersion;const r=new PE(this.apiKey);this.apiClient=new nT({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:n.httpOptions,userAgentExtra:HE+"web",uploader:new BE,downloader:new NE}),this.models=new _T(this.apiClient),this.live=new hT(this.apiClient,r,new LE),this.batches=new tA(this.apiClient),this.chats=new DA(this.models,this.apiClient),this.caches=new wA(this.apiClient),this.files=new FA(this.apiClient),this.operations=new TT(this.apiClient),this.authTokens=new GT(this.apiClient),this.tunings=new xE(this.apiClient),this.fileSearchStores=new oE(this.apiClient)}}let _t=new qo({apiKey:"AIzaSyDeNk_kPbKcDQvtIrHUBA4YepI_bKgGwHU"});const qE="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABQAAAADIBAMAAABN/C3bAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJUExURQAAABRFFBRAFA232JIAAAABdFJOUwBA5thmAAADOUlEQVR42u3bQXLCQBSA4c9/d8gBQXKBEa5AnXv0/29AEEj20sDsfm0rAAAAAADgC4Xn9drPa55A2Z/XfK75hR8AAMAfGk5QsoToitQf/f6g7g8EAAAA/BdhA8QGEJvFbv/m9QTm5QIAAAAAgGlhAcQGEBsAANBkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkqwBiA4gNAADg5d4FiA0gNoAAgHawAUQGEBsAANCkq",Ru=async(i,n=3,l=1e3)=>{try{return await i()}catch(o){if(n>0)return console.warn(`Retrying... attempts left: ${n}`),await new Promise(r=>setTimeout(r,l)),Ru(i,n-1,l*2);throw o}},wu=()=>{_t=new qo({apiKey:"AIzaSyDeNk_kPbKcDQvtIrHUBA4YepI_bKgGwHU"})},VE=async i=>(await _t.models.generateContent({model:"gemini-2.5-flash",contents:`Buat daftar Elemen Capaian Pembelajaran (CP) untuk mata pelajaran ${i.mata_pelajaran}, jenjang ${i.jenjang}, kelas ${i.kelas}, fase ${i.fase}. Sajikan dalam format Markdown dengan poin-poin.`})).text,zE=async i=>(await _t.models.generateContent({model:"gemini-2.5-flash",contents:`Berikan daftar ide Topik/Materi Pembelajaran yang relevan untuk mata pelajaran ${i.mata_pelajaran}, jenjang ${i.jenjang}, kelas ${i.kelas}, fase ${i.fase} untuk semester ${i.semester}. Sajikan dalam format Markdown dengan poin-poin.`})).text,FE=async i=>{const l=(await _t.models.generateContent({model:"gemini-2.5-flash",contents:`Anda adalah asisten ahli untuk guru di Indonesia. Buatkan dokumen administrasi guru lengkap sesuai Kurikulum Merdeka.
        **Data:**
        - Jenjang: ${i.jenjang}
        - Kelas: ${i.kelas}
        - Fase: ${i.fase}
        - Mata Pelajaran: ${i.mata_pelajaran}
        - Elemen CP: ${i.cp_elements}
        - Alokasi Waktu: ${i.alokasi_waktu}
        - Jumlah Modul Ajar yang dibuat: ${i.jumlah_modul_ajar}
        - Sekolah: ${i.sekolah}
        - Guru: ${i.nama_guru}
        - Tahun Ajaran: ${i.tahun_ajaran}
        - Semester: ${i.semester==="1"?"Ganjil":"Genap"}
        - Bahasa: ${i.bahasa}
        
        **Tugas:**
        Generate dokumen berikut dalam format JSON. Setiap dokumen harus menjadi objek dalam array 'sections', dengan 'id', 'title', dan 'content' (dalam format HTML).
        1.  **Analisis CP, TP, dan ATP**: Buat tabel ATP yang runut.
        2.  **Program Tahunan (Prota)**: Buat tabel Prota.
        3.  **Program Semester (Promes)**: Buat tabel Promes.
        4.  **${i.jumlah_modul_ajar} Modul Ajar**: Buat modul ajar lengkap sesuai jumlah yang diminta.
        5.  **KKTP (Kriteria Ketercapaian Tujuan Pembelajaran)**: Buat tabel KKTP.
        6.  **Jurnal Harian Guru**: Buat format tabel jurnal harian yang siap diisi.

        **Aturan Format JSON:**
        - Root object harus memiliki properti "sections" yang berisi array.
        - Setiap objek section harus memiliki: "id" (string unik, misal "atp"), "title" (string, misal "Analisis CP, TP, dan ATP"), "content" (string HTML).
        - Gunakan tag HTML standar untuk format (<table>, <thead>, <tbody>, <tr>, <th>, <td>, <h3>, <p>, <ul>, <li>).
        - Untuk bahasa Arab, gunakan <p style="text-align:right; direction:rtl;">.
        - Pastikan JSON valid dan tidak ada markdown.
        `,config:{responseMimeType:"application/json",temperature:.7,...i.use_thinking_mode&&{thinkingConfig:{thinkingBudget:8192}}}})).text.trim();return JSON.parse(l).sections},OE=async i=>{var A,_,T;ul.includes(i.mata_pelajaran.toUpperCase());const n=i.jenjang==="Pesantren"?`<div style="text-align: center;"><img src="${qE}" alt="Kop Surat Pesantren" style="width: 100%; max-width: 700px; margin: 0 auto;"/></div>`:`
        <div style="text-align: center; font-family: 'Times New Roman', serif; border-bottom: 3px solid black; padding-bottom: 5px; margin-bottom: 10px;">
            ${i.logo_sekolah?`<img src="${i.logo_sekolah}" alt="logo" style="width: 80px; height: auto; position: absolute; left: 20px;">`:""}
            <h3 style="margin: 0; font-size: 14pt; font-weight: bold;">${i.yayasan||""}</h3>
            <h2 style="margin: 0; font-size: 18pt; font-weight: bold;">${i.sekolah}</h2>
            <p style="margin: 0; font-size: 10pt;">${i.alamat_sekolah||""}</p>
        </div>
        <h3 style="text-align: center; font-family: 'Times New Roman', serif; font-weight: bold; margin-top: 20px;">${i.judul_asesmen||""}</h3>
        <table style="width: 100%; border-collapse: collapse; font-family: 'Times New Roman', serif; margin-top: 15px; font-size: 11pt;">
            <tbody>
                <tr>
                    <td style="border: none; padding: 2px; width: 15%;">Mata Pelajaran</td>
                    <td style="border: none; padding: 2px; width: 2%;">:</td>
                    <td style="border: none; padding: 2px; width: 33%;">${i.mata_pelajaran}</td>
                    <td style="border: none; padding: 2px; width: 15%;">Tanggal</td>
                    <td style="border: none; padding: 2px; width: 2%;">:</td>
                    <td style="border: none; padding: 2px; width: 33%;">${i.tanggal_ujian||""}</td>
                </tr>
                <tr>
                    <td style="border: none; padding: 2px;">Kelas/Semester</td>
                    <td style="border: none; padding: 2px;">:</td>
                    <td style="border: none; padding: 2px;">${i.kelas} / ${i.semester==="1"?"Ganjil":"Genap"}</td>
                    <td style="border: none; padding: 2px;">Jam Ke-</td>
                    <td style="border: none; padding: 2px;">:</td>
                    <td style="border: none; padding: 2px;">${i.jam_ke||""}</td>
                </tr>
                 <tr>
                    <td style="border: none; padding: 2px;">Tahun Ajaran</td>
                    <td style="border: none; padding: 2px;">:</td>
                    <td style="border: none; padding: 2px;">${i.tahun_ajaran}</td>
                    <td style="border: none; padding: 2px;">Waktu</td>
                    <td style="border: none; padding: 2px;">:</td>
                    <td style="border: none; padding: 2px;">${i.waktu_ujian||""}</td>
                </tr>
            </tbody>
        </table>
        `,l=`
        <div style="margin-top: 40px; overflow: auto;">
            <div style="float: right; text-align: center; width: 250px;">
                <p>Guru Mata Pelajaran</p>
                <br/><br/><br/>
                <p style="font-weight: bold; text-decoration: underline;">${i.nama_guru}</p>
            </div>
        </div>
    `,o=[{id:"naskah_soal",title:"Naskah Soal"},{id:"kunci_jawaban",title:"Kunci Jawaban & Rubrik Penilaian"}];i.sertakan_kisi_kisi&&o.push({id:"kisi_kisi",title:"Kisi-kisi Soal"});const r=JE(i)?(i.soal_pesantren_sections||[]).map(C=>`- Bagian ${C.letter}: Buat ${C.count} soal sesuai perintah: "${C.instruction}"`).join(`
`):`
        ${(A=i.jenis_soal)!=null&&A.includes("Pilihan Ganda")&&i.jumlah_pg?`- Pilihan Ganda: Buat ${i.jumlah_pg} soal.`:""}
        ${(_=i.jenis_soal)!=null&&_.includes("Uraian")&&i.jumlah_uraian?`- Uraian: Buat ${i.jumlah_uraian} soal.`:""}
        ${(T=i.jenis_soal)!=null&&T.includes("Isian Singkat")&&i.jumlah_isian_singkat?`- Isian Singkat: Buat ${i.jumlah_isian_singkat} soal.`:""}
        `,f=i.sertakan_soal_tka&&i.jumlah_soal_tka||i.sertakan_soal_tka_uraian&&i.jumlah_soal_tka_uraian?`
        **Soal TKA Tambahan (Level UTBK/SNBT):**
        - Kelompok: ${i.kelompok_tka}
        ${i.sertakan_soal_tka&&i.jumlah_soal_tka?`- Buat ${i.jumlah_soal_tka} soal TKA Pilihan Ganda.`:""}
        ${i.sertakan_soal_tka_uraian&&i.jumlah_soal_tka_uraian?`- Buat ${i.jumlah_soal_tka_uraian} soal TKA Uraian.`:""}
        - Lanjutkan penomoran soal dari bagian sebelumnya.
        - Beri judul bagian TKA dengan jelas (contoh: "C. SOAL TKA SAINTEK").
        `:"",m=i.mata_pelajaran.toUpperCase()==="INSYA"?`**Instruksi Khusus Mapel Insya':** Fokus soal adalah pada **penerapan** kaidah Nahwu/Sharaf (Qawaid) dalam membuat kalimat atau menjawab pertanyaan, BUKAN menguji teori. Contoh: Soal "Jim" meminta siswa menyusun kata menjadi kalimat sempurna yang menuntut penerapan i'rab, atau soal "Ba" yang jawabannya memerlukan penggunaan struktur kalimat tertentu.`:"",y=(await _t.models.generateContent({model:"gemini-2.5-flash",contents:`Anda adalah AI pembuat soal ujian ahli. Buatkan paket asesmen lengkap berdasarkan data berikut.
        **Data:**
        - Jenjang: ${i.jenjang}
        - Kelas: ${i.kelas}
        - Mata Pelajaran: ${i.mata_pelajaran}
        - Topik/Materi: ${i.topik_materi}
        - Tingkat Kesulitan: ${i.tingkat_kesulitan}
        - Bahasa: ${i.bahasa}
        
        **Struktur Soal yang Diminta:**
        ${r}
        ${f}
        ${m}

        **Tugas:**
        Generate dokumen berikut dalam format JSON. Setiap dokumen harus menjadi objek dalam array 'sections', dengan 'id', 'title', dan 'content' (dalam format HTML).
        ${o.map(C=>`- **${C.title}**: Buat konten untuk bagian ini.`).join(`
`)}
        - **Ringkasan Materi**: Buat ringkasan materi yang relevan dengan topik ujian sebagai bahan belajar siswa.

        **Aturan Format JSON:**
        - Root object harus memiliki properti "sections" yang berisi array.
        - Setiap objek section harus memiliki: "id" (string unik: "naskah_soal", "kunci_jawaban", "kisi_kisi", "ringkasan_materi"), "title" (string), "content" (string HTML).
        - Untuk Naskah Soal, sertakan header ujian yang sudah disediakan di awal kontennya.
        - Untuk semua dokumen lainnya, sertakan blok tanda tangan guru di akhir kontennya.
        - Gunakan tag HTML standar. Untuk soal pilihan ganda, gunakan format <ol type='A'>.
        - Untuk bahasa Arab, pastikan teks rata kanan dan arah RTL. Gunakan <div dir="rtl" style="text-align: right;"> untuk membungkus konten Arab.
        - Pastikan JSON valid, tidak ada markdown, dan tidak ada komentar.
        
        **Header Ujian (untuk Naskah Soal):**
        \`\`\`html
        ${n}
        \`\`\`

        **Blok Tanda Tangan (untuk Kunci Jawaban, Kisi-kisi, Ringkasan Materi):**
        \`\`\`html
        ${l}
        \`\`\`
        `,config:{responseMimeType:"application/json",temperature:.5,...i.use_thinking_mode&&{thinkingConfig:{thinkingBudget:8192}}}})).text.trim();return JSON.parse(y).sections},JE=i=>{const n=i.bahasa==="Bahasa Arab"||ul.includes(i.mata_pelajaran.toUpperCase().replace(/'|\\/g,""));return i.jenjang==="Pesantren"&&n},YE=async i=>{const l=(await _t.models.generateContent({model:"gemini-2.5-flash",contents:`Anda adalah seorang *Instructional Designer* ahli. Tugas Anda adalah merancang dan membuat E-Course lengkap berdasarkan data berikut.

        **Data E-Course:**
        - Topik Utama: "${i.topik_ecourse}"
        - Jumlah Pertemuan/Modul: ${i.jumlah_pertemuan}
        - Nama Pengajar: ${i.nama_guru}

        **Tugas:**
        Generate paket E-Course yang komprehensif dalam format JSON. Root object harus memiliki properti "sections" yang berisi sebuah array dengan SATU objek di dalamnya. Objek ini harus memiliki: "id" (string: "ecourse_package"), "title" (string: "Paket E-Course Lengkap: [Topik Utama]"), dan "content" (string HTML).

        **Struktur Konten HTML dalam "content":**
        Konten HTML harus terstruktur dengan baik dan mencakup bagian-bagian berikut:
        1.  **Silabus & Rencana Pembelajaran (Learning Path)**:
            - Judul, Deskripsi Singkat, Tujuan Pembelajaran Umum, Target Audiens.
            - Tabel Rencana Pembelajaran yang mencakup: Nomor Pertemuan, Judul Materi, Aktivitas (Materi, Latihan, Kuis), dan Estimasi Waktu.
        2.  **Materi Pembelajaran per Pertemuan**:
            - Buat H3 untuk setiap pertemuan (Contoh: "<h3>Pertemuan 1: Judul Materi</h3>").
            - Untuk setiap pertemuan, sertakan:
                - **Tujuan Pembelajaran Khusus** (menggunakan <ul>).
                - **Materi Utama** (paragraf, poin-poin, dan penjelasan mendalam).
                - **Latihan / Studi Kasus** (deskripsi latihan yang relevan).
                - **Evaluasi / Kuis** (beberapa contoh pertanyaan singkat untuk menguji pemahaman).
        3.  **Konten Slide Presentasi (PPT)**:
            - Buat bagian khusus yang diawali dengan: \`<!-- SLIDE_CONTENT_START -->\` dan diakhiri dengan \`<!-- SLIDE_CONTENT_END -->\`.
            - Di dalam blok ini, generate konten untuk slide presentasi. Gunakan format berikut untuk setiap slide:
                - \`<div class="ppt-slide">\`
                - \`<h4 class="slide-title">Judul Slide</h4>\`
                - \`<div class="slide-content">Konten slide di sini (bisa berupa poin-poin dalam <ul><li>...</li></ul> atau paragraf).</div>\`
                - \`</div>\`
            - Pastikan untuk membuat beberapa slide yang mencakup ringkasan dari semua pertemuan.

        **Aturan Penting:**
        - Gunakan tag HTML standar (<h1>, <h2>, <h3>, <p>, <ul>, <li>, <table>, <strong>).
        - Pastikan seluruh output adalah satu string HTML yang valid di dalam properti "content".
        - JSON harus valid, tanpa markdown atau komentar.
        `,config:{responseMimeType:"application/json",temperature:.7,...i.use_thinking_mode&&{thinkingConfig:{thinkingBudget:16384}}}})).text.trim(),o=JSON.parse(l);if(o.sections&&o.sections[0]&&o.sections[0].content){let r=o.sections[0].content;const f="<!-- SLIDE_CONTENT_START -->",m="<!-- SLIDE_CONTENT_END -->",g=r.indexOf(f),y=r.indexOf(m);if(g!==-1&&y!==-1){const A=`<div class="ppt-container"><h2>Konten Slide Presentasi</h2>${r.substring(g+f.length,y)}</div>`;r=r.substring(0,g)+A+r.substring(y+m.length),o.sections[0].content=r}}return o.sections};function KE(i){const n=atob(i),l=n.length,o=new Uint8Array(l);for(let r=0;r<l;r++)o[r]=n.charCodeAt(r);return o}async function jE(i,n,l,o){const r=new Int16Array(i.buffer),f=r.length/o,m=n.createBuffer(o,f,l);for(let g=0;g<o;g++){const y=m.getChannelData(g);for(let h=0;h<f;h++)y[h]=r[h*o+g]/32768}return m}const ku=async i=>{var m,g,y,h,A,_;const l=(_=(A=(h=(y=(g=(m=(await _t.models.generateContent({model:"gemini-2.5-flash-preview-tts",contents:[{parts:[{text:`Say with a friendly and clear female Indonesian voice: ${i}`}]}],config:{responseModalities:[Qn.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:"Kore"}}}}})).candidates)==null?void 0:m[0])==null?void 0:g.content)==null?void 0:y.parts)==null?void 0:h[0])==null?void 0:A.inlineData)==null?void 0:_.data;if(!l)throw new Error("No audio data returned from TTS API.");const o=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3}),r=KE(l),f=await jE(r,o,24e3,1);return o.close(),f},QE=async i=>{var l,o,r;const n=await Ru(async()=>_t.models.generateContent({model:"gemini-2.5-flash-image",contents:{parts:[{text:i}]},config:{responseModalities:[Qn.IMAGE]}}));for(const f of((r=(o=(l=n.candidates)==null?void 0:l[0])==null?void 0:o.content)==null?void 0:r.parts)||[])if(f.inlineData){const m=f.inlineData.data;return`data:${f.inlineData.mimeType};base64,${m}`}throw new Error("No image generated")},XE=async(i,n,l)=>{var r,f,m;const o=await Ru(()=>_t.models.generateContent({model:"gemini-2.5-flash-image",contents:{parts:[{inlineData:{data:i,mimeType:n}},{text:l}]},config:{responseModalities:[Qn.IMAGE]}}));for(const g of((m=(f=(r=o.candidates)==null?void 0:r[0])==null?void 0:f.content)==null?void 0:m.parts)||[])if(g.inlineData){const y=g.inlineData.data;return`data:${g.inlineData.mimeType};base64,${y}`}throw new Error("No image generated from edit")},ZE=async(i,n,l)=>(await _t.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[{inlineData:{data:i,mimeType:n}},{text:l}]}})).text,$E=async(i,n,l)=>(wu(),await _t.models.generateVideos({model:"veo-3.1-fast-generate-preview",prompt:i,image:n||void 0,config:{numberOfVideos:1,resolution:"720p",aspectRatio:l}})),WE=async i=>(wu(),await _t.operations.getVideosOperation({operation:i})),eC=async(i,n)=>{const l=i.map(r=>({inlineData:{data:r.data,mimeType:r.mimeType}}));return(await _t.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[...l,{text:n}]}})).text},tC=async(i,n,l)=>{var h,A,_;const r={tools:n==="web"?[{googleSearch:{}}]:[{googleMaps:{}}]};n==="maps"&&l&&(r.toolConfig={retrievalConfig:{latLng:l}});const f=await _t.models.generateContent({model:"gemini-2.5-flash",contents:i,config:r}),m=f.text,y=(((_=(A=(h=f.candidates)==null?void 0:h[0])==null?void 0:A.groundingMetadata)==null?void 0:_.groundingChunks)||[]).map(T=>T.web?{uri:T.web.uri,title:T.web.title}:T.maps?{uri:T.maps.uri,title:T.maps.title}:null).filter(T=>T!==null);return{text:m,sources:y}},mh=(i,n,l)=>{const r=(l==null?void 0:l.bahasa)==="Bahasa Arab"||ul.includes((l==null?void 0:l.mata_pelajaran)||"")?"body { font-family: 'Times New Roman', serif; direction: rtl; font-size: 12pt; } h1, h2, h3, h4, th { text-align: right; }":"body { font-family: 'Times New Roman', serif; direction: ltr; font-size: 12pt; }",g=`<html xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:w='urn:schemas-microsoft-com:office:word' xmlns='http://www.w3.org/TR/REC-html40'><head><meta charset='utf-8'><title>${i}</title><style>@page WordSection1 { size: 8.5in 14.0in; margin: 2cm; } div.WordSection1 { page: WordSection1; } ${r} table { border-collapse: collapse; width: 100%; } th, td { border: 1px solid black; padding: 5px; } th { background-color: #f2f2f2; } h1, h2, h3, h4 { font-family: 'Arial', sans-serif; }</style></head><body><div class="WordSection1">`+n+"</div></body></html>",y="data:application/vnd.ms-word;charset=utf-8,"+encodeURIComponent(g),h=document.createElement("a");document.body.appendChild(h),h.href=y,h.download=`${i}.doc`,h.click(),document.body.removeChild(h)},nC=({module:i,sections:n,formData:l,onUpdateSectionContent:o,onDeleteSection:r,onNewGeneration:f,onBack:m,onSaveSession:g})=>{const[y,h]=V.useState(new Set(n.map(z=>z.id))),[A,_]=V.useState({isPlaying:!1,sectionId:null,audioContext:null,source:null}),[T,C]=V.useState(!1);V.useEffect(()=>{h(new Set(n.map(z=>z.id)))},[n]);const L=z=>{h(K=>{const P=new Set(K);return P.has(z)?P.delete(z):P.add(z),P})},H=z=>{z.target.checked?h(new Set(n.map(K=>K.id))):h(new Set)},Z=()=>{const z=n.filter(P=>y.has(P.id));if(z.length===0)return;const K=z.map(P=>`<h2>${P.title}</h2>${P.content}`).join(i==="admin"?'<br style="page-break-after: always;">':"");mh(`${l.mata_pelajaran}_Kelas_${l.kelas}_Pilihan`,K,l)},Q=z=>{mh(`${l.mata_pelajaran}_${z.title.replace(/ /g,"_")}`,`<h2>${z.title}</h2>${z.content}`,l)},j=async z=>{var K,P,ae;if(!T){if(A.isPlaying&&A.sectionId===z.id){(K=A.source)==null||K.stop(),(P=A.audioContext)==null||P.close(),_({isPlaying:!1,sectionId:null,audioContext:null,source:null});return}A.source&&(A.source.stop(),(ae=A.audioContext)==null||ae.close()),_({isPlaying:!0,sectionId:z.id,audioContext:null,source:null});try{const W=new DOMParser().parseFromString(z.content,"text/html").body.textContent||"",ne=await ku(`${z.title}. ${W}`),fe=new(window.AudioContext||window.webkitAudioContext),re=fe.createBufferSource();re.buffer=ne,re.connect(fe.destination),re.onended=()=>{_({isPlaying:!1,sectionId:null,audioContext:null,source:null}),fe.close()},re.start(),_({isPlaying:!0,sectionId:z.id,audioContext:fe,source:re})}catch(W){const ne=W.toString();ne.includes("429")||ne.includes("RESOURCE_EXHAUSTED")?(console.warn("TTS quota exceeded. Disabling audio playback for this session."),C(!0)):console.error("TTS Error:",W),_({isPlaying:!1,sectionId:null,audioContext:null,source:null})}}},O=n.length>0&&y.size===n.length,G=l.bahasa==="Bahasa Arab"||ul.includes(l.mata_pelajaran);return v.jsxs("div",{id:"results-section",className:"bg-white rounded-lg card-shadow p-6 fade-in",children:[v.jsxs("div",{className:"flex items-start justify-between mb-6",children:[v.jsxs("div",{children:[v.jsx("button",{onClick:m,className:"text-blue-600 hover:text-blue-800 text-sm font-medium mb-2",children:" Kembali ke Dashboard"}),v.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Hasil Generator (Dapat Diedit)"})]}),v.jsxs("div",{className:"flex space-x-2 flex-shrink-0",children:[v.jsx("button",{onClick:g,className:"px-4 py-2 bg-yellow-500 text-white rounded-md hover:bg-yellow-600",children:" Simpan Sesi"}),v.jsxs("button",{onClick:Z,disabled:y.size===0,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:bg-green-300",children:[" Download Pilihan (",y.size,")"]}),v.jsx("button",{onClick:f,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:" Generate Baru"})]})]}),v.jsx("div",{className:"mb-4 border-b pb-4",children:v.jsxs("label",{className:"inline-flex items-center space-x-2 cursor-pointer",children:[v.jsx("input",{type:"checkbox",checked:O,onChange:H,className:"h-5 w-5 rounded"}),v.jsx("span",{children:O?"Hapus Pilihan":"Pilih Semua"})]})}),v.jsx("div",{id:"generated-content",className:G?"arabic-font-preview":"",children:n.map(z=>v.jsxs("div",{className:"flex items-start space-x-3 mb-4 group",children:[v.jsx("input",{type:"checkbox","aria-label":`Pilih ${z.title}`,checked:y.has(z.id),onChange:()=>L(z.id),className:"h-6 w-6 rounded mt-1"}),v.jsxs("div",{className:"flex-grow relative p-4 border-2 border-gray-200 rounded-lg hover:border-indigo-200",children:[v.jsxs("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity flex space-x-2",children:[v.jsx("button",{onClick:()=>j(z),title:T?"Fitur audio dinonaktifkan karena kuota terlampaui":"Dengarkan Teks",disabled:T,className:"p-1.5 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 disabled:bg-gray-200 disabled:text-gray-500 disabled:cursor-not-allowed",children:A.isPlaying&&A.sectionId===z.id?v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 animate-pulse",viewBox:"0 0 20 20",fill:"currentColor",children:v.jsx("path",{d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8 7a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1zm4 0a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z"})}):v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:v.jsx("path",{d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z"})})}),v.jsx("button",{onClick:()=>Q(z),title:"Download Bagian Ini",className:"p-1.5 bg-green-100 text-green-700 rounded-md hover:bg-green-200",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:v.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})})}),v.jsx("button",{onClick:()=>r(z.id),title:"Hapus Bagian",className:"p-1.5 bg-red-100 text-red-700 rounded-md hover:bg-red-200",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:v.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"})})})]}),v.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:z.title}),v.jsx("div",{className:"prose max-w-none focus:outline-none",contentEditable:!0,suppressContentEditableWarning:!0,onBlur:K=>o(z.id,K.currentTarget.innerHTML),dangerouslySetInnerHTML:{__html:z.content}})]})]},z.id))})]})},iC=({history:i,onView:n,onDelete:l})=>{const o=r=>{switch(r.module_type){case"admin":return{label:"Administrasi",color:"bg-blue-100 text-blue-800"};case"soal":return{label:"Bank Soal",color:"bg-green-100 text-green-800"};case"ecourse":return{label:"E-Course",color:"bg-yellow-100 text-yellow-800"};default:return{label:"Unknown",color:"bg-gray-100 text-gray-800"}}};return v.jsxs("div",{className:"bg-white rounded-lg card-shadow p-6",children:[v.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Riwayat Generator"}),v.jsx("div",{id:"history-list",className:"space-y-4",children:i.length===0?v.jsx("p",{className:"text-gray-500 text-center py-8",children:"Belum ada riwayat generator. Mulai buat perangkat pertama Anda!"}):i.map(r=>{var m,g,y,h;const f=o(r);return v.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow fade-in",children:[v.jsxs("div",{className:"flex items-center justify-between mb-2",children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${f.color}`,children:f.label}),v.jsx("span",{className:"text-sm font-medium",children:r.mata_pelajaran?`${r.mata_pelajaran} - Kelas ${r.kelas}`:r.topik_ecourse||"E-Course"})]}),v.jsxs("div",{className:"flex space-x-2",children:[v.jsx("button",{onClick:()=>n(r),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Lihat"}),v.jsx("button",{onClick:()=>l(r.id),className:"text-red-600 hover:text-red-800 text-sm font-medium",children:"Hapus"})]})]}),v.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[v.jsxs("p",{children:[v.jsx("strong",{children:"Sekolah:"})," ",r.sekolah]}),r.module_type==="soal"&&v.jsxs(v.Fragment,{children:[r.topik_materi&&v.jsxs("p",{className:"text-xs pt-1",children:[v.jsx("strong",{children:"Topik:"})," ",r.topik_materi]}),v.jsxs("div",{className:"text-xs text-gray-500 flex items-center flex-wrap gap-x-4 gap-y-1 pt-1",children:[r.sertakan_kisi_kisi&&v.jsx("span",{className:"font-semibold text-indigo-600",children:"[+ Kisi-kisi]"}),r.sertakan_soal_tka&&r.jumlah_soal_tka&&v.jsxs("span",{className:"font-semibold text-purple-600",children:["[+",r.jumlah_soal_tka," Soal TKA-PG]"]}),r.sertakan_soal_tka_uraian&&r.jumlah_soal_tka_uraian&&v.jsxs("span",{className:"font-semibold text-pink-600",children:["[+",r.jumlah_soal_tka_uraian," Soal TKA-Uraian]"]}),v.jsxs("span",{children:[v.jsx("strong",{children:"Bahasa:"})," ",r.bahasa]}),r.jenis_soal&&!((m=r.soal_pesantren_sections)!=null&&m.length)&&v.jsxs("span",{children:[v.jsx("strong",{children:"Jenis:"})," ",r.jenis_soal.join(", ")]}),((g=r.jenis_soal)==null?void 0:g.includes("Pilihan Ganda"))&&v.jsxs("span",{children:[v.jsx("strong",{children:"PG:"})," ",r.jumlah_pg]}),((y=r.jenis_soal)==null?void 0:y.includes("Uraian"))&&v.jsxs("span",{children:[v.jsx("strong",{children:"Uraian:"})," ",r.jumlah_uraian]}),((h=r.jenis_soal)==null?void 0:h.includes("Isian Singkat"))&&v.jsxs("span",{children:[v.jsx("strong",{children:"Isian:"})," ",r.jumlah_isian_singkat]}),r.soal_pesantren_sections&&r.soal_pesantren_sections.length>0&&v.jsxs("span",{children:[v.jsx("strong",{children:"Bagian:"})," ",r.soal_pesantren_sections.map(A=>`${A.letter}: ${A.count}`).join(", ")]})]})]}),r.module_type==="admin"&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"text-xs text-gray-500 flex items-center flex-wrap gap-x-4 gap-y-1 pt-1",children:[v.jsxs("span",{children:[v.jsx("strong",{children:"Bahasa:"})," ",r.bahasa]}),r.jumlah_modul_ajar&&v.jsxs("span",{children:[v.jsx("strong",{children:"Modul Ajar:"})," ",r.jumlah_modul_ajar]})]}),r.generated_sections&&v.jsxs("p",{className:"text-xs text-gray-500 pt-1",children:[v.jsx("strong",{children:"Bagian:"})," ",r.generated_sections.map(A=>A.title).join(", ")]})]}),r.module_type==="ecourse"&&v.jsxs(v.Fragment,{children:[r.topik_ecourse&&v.jsxs("p",{className:"text-xs pt-1",children:[v.jsx("strong",{children:"Topik E-Course:"})," ",r.topik_ecourse]}),v.jsx("div",{className:"text-xs text-gray-500 flex items-center flex-wrap gap-x-4 gap-y-1 pt-1",children:r.jumlah_pertemuan&&v.jsxs("span",{children:[v.jsx("strong",{children:"Jumlah Pertemuan:"})," ",r.jumlah_pertemuan]})})]}),v.jsxs("p",{className:"text-xs pt-1",children:[v.jsx("strong",{children:"Dibuat:"})," ",new Date(r.created_at).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"})]})]})]},r.id)})})]})},aC=({isOpen:i,onClose:n,formData:l,getSuggestions:o,suggestionType:r,title:f,description:m,targetElementId:g})=>{const[y,h]=V.useState([]),[A,_]=V.useState(""),[T,C]=V.useState(!1),[L,H]=V.useState(null),[Z,Q]=V.useState(!1);V.useEffect(()=>{i&&(C(!0),h([]),_(""),H(null),Q(!1),o(l).then(P=>{r==="list"&&Array.isArray(P)?(h(P),P.length>0&&H(P[0])):r==="markdown"&&typeof P=="string"&&_(P)}).catch(P=>{console.error("Failed to get suggestions:",P)}).finally(()=>C(!1)))},[i,l]);const j=()=>{var P;if(L){const ae=document.getElementById(g);if(ae){const W=(P=Object.getOwnPropertyDescriptor(window.HTMLTextAreaElement.prototype,"value"))==null?void 0:P.set;W==null||W.call(ae,L);const ne=new Event("input",{bubbles:!0});ae.dispatchEvent(ne)}}n()},O=()=>{var P;if(A){const ae=document.getElementById(g);if(ae){const W=(P=Object.getOwnPropertyDescriptor(window.HTMLTextAreaElement.prototype,"value"))==null?void 0:P.set;W==null||W.call(ae,A);const ne=new Event("input",{bubbles:!0});ae.dispatchEvent(ne)}}n()},G=()=>{navigator.clipboard.writeText(A).then(()=>{Q(!0),setTimeout(()=>Q(!1),2e3)})};if(!i)return null;const z=()=>v.jsx("div",{id:"ai-suggestions",className:"space-y-2",children:y.length>0?y.map((P,ae)=>v.jsx("div",{onClick:()=>H(P),className:`p-3 rounded-md border-l-4 cursor-pointer transition-colors ${L===P?"bg-blue-100 border-blue-500":"bg-blue-50 border-blue-400 hover:bg-blue-100"}`,children:v.jsx("p",{className:"text-sm text-blue-800",children:P})},ae)):v.jsx("div",{className:"p-3 bg-yellow-50 rounded-md border-l-4 border-yellow-400",children:v.jsx("p",{className:"text-sm text-yellow-800",children:"Tidak dapat menghasilkan saran saat ini. Silakan coba lagi."})})}),K=()=>v.jsx("div",{id:"ai-suggestions-markdown",children:v.jsx("textarea",{readOnly:!0,className:"w-full h-64 p-2 border rounded-md bg-gray-50 font-mono text-sm",value:A})});return v.jsx("div",{id:"ai-modal",className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4 fade-in",children:v.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full p-6",role:"dialog","aria-modal":"true",children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:f}),v.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:v.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("p",{className:"text-gray-600 mb-3",children:m}),T?v.jsxs("div",{className:"flex justify-center items-center p-4 h-64",children:[v.jsx(Wt,{}),v.jsx("span",{className:"ml-2 text-gray-600",children:"Membuat saran..."})]}):r==="list"?z():K()]}),v.jsx("div",{className:"flex justify-end space-x-2",children:r==="list"?v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:j,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors disabled:bg-blue-300",disabled:!L||T,children:"Terapkan Saran"}),v.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 transition-colors",children:"Batal"})]}):v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:G,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors disabled:bg-green-300",disabled:!A||T,children:Z?" Berhasil Disalin":" Salin Teks"}),v.jsx("button",{onClick:O,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors disabled:bg-blue-300",disabled:!A||T,children:"Terapkan & Tutup"}),v.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 transition-colors",children:"Batal"})]})})]})})},lC=({message:i,type:n})=>{const[l,o]=V.useState(!1);V.useEffect(()=>{o(!0);const g=setTimeout(()=>{o(!1)},2800);return()=>clearTimeout(g)},[i,n]);const r="fixed top-5 right-5 px-6 py-3 rounded-lg text-white z-50 shadow-lg transition-all duration-300",f={success:"bg-green-500",error:"bg-red-500",warning:"bg-yellow-500"},m=l?"opacity-100 translate-x-0":"opacity-0 translate-x-10";return v.jsx("div",{className:`${r} ${f[n]} ${m}`,children:i})},oC=new qo({apiKey:"AIzaSyDeNk_kPbKcDQvtIrHUBA4YepI_bKgGwHU"}),sC=()=>{const[i,n]=V.useState(!1),[l,o]=V.useState([{sender:"bot",text:"Halo! Ada yang bisa saya bantu terkait aplikasi ini atau Kurikulum Merdeka?"}]),[r,f]=V.useState(""),[m,g]=V.useState(!1),y=V.useRef(null),h=V.useRef(null);V.useEffect(()=>{i&&!y.current&&(y.current=oC.chats.create({model:"gemini-2.5-flash",config:{systemInstruction:"Anda adalah 'Asisten Cerdas', asisten AI untuk aplikasi administrasi guru. Anda didukung oleh model deep learning canggih dan memiliki akses ke materi terbaru mengenai Kurikulum Merdeka di Indonesia. Jawab pertanyaan seputar fitur aplikasi dan Kurikulum Merdeka. Jaga agar jawaban Anda ringkas, akurat, dan bermanfaat. Berkomunikasilah dalam Bahasa Indonesia."}}))},[i]),V.useEffect(()=>{var T;(T=h.current)==null||T.scrollIntoView({behavior:"smooth"})},[l]);const A=async()=>{if(!r.trim()||!y.current||m)return;const T={sender:"user",text:r};o(C=>[...C,T]),f(""),g(!0);try{const C=await y.current.sendMessageStream({message:r});let L="";o(H=>[...H,{sender:"bot",text:"..."}]);for await(const H of C)L+=H.text,o(Z=>{const Q=[...Z];return Q[Q.length-1]={sender:"bot",text:L},Q})}catch(C){console.error("Chatbot error:",C),o(L=>[...L,{sender:"bot",text:"Maaf, terjadi kesalahan. Silakan coba lagi."}])}finally{g(!1)}},_=T=>{T.key==="Enter"&&A()};return v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:()=>n(!i),className:"fixed bottom-6 right-6 bg-indigo-600 text-white rounded-full p-4 shadow-lg hover:bg-indigo-700 transition-transform transform hover:scale-110 z-50","aria-label":"Buka Asisten Cerdas",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",viewBox:"0 0 20 20",fill:"currentColor",children:v.jsx("path",{d:"M10 2a6 6 0 00-6 6v3.586l-1.707 1.707A1 1 0 003 15v1a1 1 0 001 1h12a1 1 0 001-1v-1a1 1 0 00-.293-.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"})})}),i&&v.jsxs("div",{className:"fixed bottom-24 right-6 w-full max-w-sm h-[60vh] bg-white rounded-lg shadow-2xl flex flex-col z-50 fade-in",children:[v.jsxs("header",{className:"bg-indigo-600 text-white p-4 rounded-t-lg flex justify-between items-center",children:[v.jsx("h3",{className:"font-semibold",children:"Asisten Cerdas"}),v.jsx("button",{onClick:()=>n(!1),className:"text-indigo-200 hover:text-white",children:""})]}),v.jsxs("div",{className:"flex-1 p-4 overflow-y-auto bg-gray-50",children:[l.map((T,C)=>v.jsx("div",{className:`flex mb-3 ${T.sender==="user"?"justify-end":"justify-start"}`,children:v.jsx("div",{className:`rounded-lg px-3 py-2 max-w-[80%] ${T.sender==="user"?"bg-blue-500 text-white":"bg-gray-200 text-gray-800"}`,children:T.text.split(`
`).map((L,H)=>v.jsx("p",{children:L},H))})},C)),m&&v.jsx("div",{className:"flex justify-start mb-3",children:v.jsx("div",{className:"rounded-lg px-3 py-2 bg-gray-200 text-gray-800",children:v.jsx("span",{className:"animate-pulse",children:"..."})})}),v.jsx("div",{ref:h})]}),v.jsx("footer",{className:"p-4 border-t",children:v.jsxs("div",{className:"flex",children:[v.jsx("input",{type:"text",value:r,onChange:T=>f(T.target.value),onKeyDown:_,placeholder:"Ketik pertanyaan Anda...",className:"flex-1 rounded-l-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500",disabled:m}),v.jsx("button",{onClick:A,disabled:m,className:"px-4 py-2 bg-indigo-600 text-white rounded-r-md hover:bg-indigo-700 disabled:bg-indigo-400",children:"Kirim"})]})})]})]})};function rC(i){let n="";const l=i.byteLength;for(let o=0;o<l;o++)n+=String.fromCharCode(i[o]);return btoa(n)}function uC(i){const n=atob(i),l=n.length,o=new Uint8Array(l);for(let r=0;r<l;r++)o[r]=n.charCodeAt(r);return o}async function cC(i,n,l,o){const r=new Int16Array(i.buffer),f=r.length/o,m=n.createBuffer(o,f,l);for(let g=0;g<o;g++){const y=m.getChannelData(g);for(let h=0;h<f;h++)y[h]=r[h*o+g]/32768}return m}function dC(i){const n=i.length,l=new Int16Array(n);for(let o=0;o<n;o++)l[o]=i[o]*32768;return{data:rC(new Uint8Array(l.buffer)),mimeType:"audio/pcm;rate=16000"}}const fC=({onBack:i})=>{const[n,l]=V.useState("idle"),[o,r]=V.useState([]),[f,m]=V.useState(!1),g=V.useRef(null),y=V.useRef(null),h=V.useRef(null),A=V.useRef(null),_=V.useRef(null),T=V.useRef(null),C=V.useRef(0),L=V.useRef(new Set),H=V.useCallback(()=>{var j,O,G,z,K,P;(j=g.current)==null||j.then(ae=>ae.close()),g.current=null,(O=_.current)==null||O.disconnect(),_.current=null,(G=T.current)==null||G.disconnect(),T.current=null,(z=y.current)==null||z.getTracks().forEach(ae=>ae.stop()),y.current=null,(K=h.current)==null||K.close(),h.current=null,(P=A.current)==null||P.close(),A.current=null,l("idle")},[]),Z=async()=>{if(n==="idle"){l("connecting"),r([]);try{const j=new qo({apiKey:"AIzaSyDeNk_kPbKcDQvtIrHUBA4YepI_bKgGwHU"}),O=await navigator.mediaDevices.getUserMedia({audio:!0});y.current=O,h.current=new(window.AudioContext||window.webkitAudioContext)({sampleRate:16e3}),A.current=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3});let G="",z="";g.current=j.live.connect({model:"gemini-2.5-flash-native-audio-preview-09-2025",callbacks:{onopen:()=>{l("connected");const K=h.current.createMediaStreamSource(O);T.current=K;const P=h.current.createScriptProcessor(4096,1,1);_.current=P,P.onaudioprocess=ae=>{var fe;const W=ae.inputBuffer.getChannelData(0),ne=dC(W);(fe=g.current)==null||fe.then(re=>{re.sendRealtimeInput({media:ne})})},K.connect(P),P.connect(h.current.destination)},onmessage:async K=>{var ae,W,ne,fe,re,Ce,ue,ze;if((ae=K.serverContent)!=null&&ae.inputTranscription&&(G+=K.serverContent.inputTranscription.text),(W=K.serverContent)!=null&&W.outputTranscription&&(z+=K.serverContent.outputTranscription.text),(ne=K.serverContent)!=null&&ne.turnComplete){const I=G.trim(),$=z.trim();I&&r(X=>[...X,`Anda: ${I}`]),$&&r(X=>[...X,`AI: ${$}`]),G="",z=""}const P=(ue=(Ce=(re=(fe=K.serverContent)==null?void 0:fe.modelTurn)==null?void 0:re.parts[0])==null?void 0:Ce.inlineData)==null?void 0:ue.data;if(P&&A.current){const I=A.current;C.current=Math.max(C.current,I.currentTime);const $=await cC(uC(P),I,24e3,1),X=I.createBufferSource();X.buffer=$,X.connect(I.destination),X.addEventListener("ended",()=>L.current.delete(X)),X.start(C.current),C.current+=$.duration,L.current.add(X)}if((ze=K.serverContent)!=null&&ze.interrupted){for(const I of L.current.values())I.stop();L.current.clear(),C.current=0}},onerror:K=>{console.error("Live session error:",K),r(P=>[...P,"Error: Terjadi kesalahan koneksi."]),l("error"),H()},onclose:()=>{l("idle")}},config:{responseModalities:[Qn.AUDIO],inputAudioTranscription:{},outputAudioTranscription:{},systemInstruction:"Anda adalah asisten AI yang ramah dan membantu untuk aplikasi pendidikan guru. Berbicaralah dalam Bahasa Indonesia."}})}catch(j){console.error(j),l("error")}}};V.useEffect(()=>()=>H(),[H]);const Q=()=>{y.current&&(y.current.getAudioTracks().forEach(j=>j.enabled=!j.enabled),m(j=>!j))};return v.jsxs("div",{className:"bg-white rounded-lg card-shadow p-6 fade-in",children:[v.jsx("button",{onClick:i,className:"text-blue-600 hover:text-blue-800 text-sm font-medium mb-4",children:" Kembali ke Dashboard"}),v.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Lab Audio & Percakapan"}),v.jsx("p",{className:"text-gray-600 mb-6",children:"Mulai percakapan langsung dengan AI atau dapatkan transkripsi audio real-time."}),v.jsxs("div",{className:"text-center p-6 border rounded-lg bg-gray-50 min-h-[400px] flex flex-col",children:[n==="idle"&&v.jsx("div",{className:"m-auto",children:v.jsx("button",{onClick:Z,className:"bg-teal-600 text-white py-3 px-6 rounded-full hover:bg-teal-700 text-lg font-semibold",children:"Mulai Percakapan AI"})}),(n==="connecting"||n==="connected"||n==="error")&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"flex-grow overflow-y-auto p-4 text-left",children:[o.map((j,O)=>v.jsx("p",{className:`mb-2 ${j.startsWith("AI:")?"text-teal-800":"text-gray-600"}`,children:j},O)),n==="connecting"&&v.jsxs("div",{className:"flex items-center text-gray-500",children:[v.jsx(Wt,{})," ",v.jsx("span",{className:"ml-2",children:"Menghubungkan..."})]})]}),v.jsxs("div",{className:"mt-4 pt-4 border-t flex justify-center items-center space-x-4",children:[v.jsx("button",{onClick:Q,className:`p-3 rounded-full ${f?"bg-gray-300":"bg-blue-200"}`,title:f?"Unmute":"Mute",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f?v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15zM17 14l4-4m0 4l-4-4"}):v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"})})}),v.jsx("button",{onClick:H,className:"bg-red-600 text-white py-3 px-6 rounded-full hover:bg-red-700 font-semibold",children:"Akhiri Sesi"})]})]})]})]})},mC=({onBack:i})=>{const[n,l]=V.useState("web"),[o,r]=V.useState(""),[f,m]=V.useState(null),[g,y]=V.useState(!1),[h,A]=V.useState(null),_=async()=>{if(!o.trim()){A("Silakan masukkan pertanyaan.");return}y(!0),A(null),m(null);try{let C;n==="maps"&&(C=await new Promise((H,Z)=>{navigator.geolocation.getCurrentPosition(Q=>H({latitude:Q.coords.latitude,longitude:Q.coords.longitude}),Q=>{A("Gagal mendapatkan lokasi. Pastikan izin lokasi diberikan."),Z(Q)})}));const L=await tC(o,n,C);m(L)}catch(C){console.error(C),h||A("Terjadi kesalahan saat melakukan pencarian.")}finally{y(!1)}},T=C=>{C.key==="Enter"&&_()};return v.jsxs("div",{className:"bg-white rounded-lg card-shadow p-6 fade-in",children:[v.jsx("button",{onClick:i,className:"text-blue-600 hover:text-blue-800 text-sm font-medium mb-4",children:" Kembali ke Dashboard"}),v.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Pencarian Cerdas"}),v.jsx("p",{className:"text-gray-600 mb-6",children:"Dapatkan jawaban yang akurat dan terkini, didukung oleh Google Search dan Maps."}),v.jsx("div",{className:"mb-4",children:v.jsxs("div",{className:"flex items-center space-x-4",children:[v.jsx("input",{type:"text",value:o,onChange:C=>r(C.target.value),onKeyDown:T,placeholder:"Tanyakan apa saja...",className:"flex-grow p-2 border rounded-md"}),v.jsx("button",{onClick:_,disabled:g,className:"bg-yellow-600 text-white py-2 px-6 rounded-md hover:bg-yellow-700 disabled:bg-yellow-400",children:"Cari"})]})}),v.jsxs("div",{className:"flex justify-center space-x-4 mb-6",children:[v.jsxs("label",{className:"flex items-center",children:[v.jsx("input",{type:"radio",name:"tool",value:"web",checked:n==="web",onChange:()=>l("web"),className:"form-radio"}),v.jsx("span",{className:"ml-2",children:"Web Search"})]}),v.jsxs("label",{className:"flex items-center",children:[v.jsx("input",{type:"radio",name:"tool",value:"maps",checked:n==="maps",onChange:()=>l("maps"),className:"form-radio"}),v.jsx("span",{className:"ml-2",children:"Maps Search"})]})]}),v.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 min-h-[300px]",children:[g&&v.jsxs("div",{className:"flex justify-center items-center h-full",children:[v.jsx(Wt,{}),v.jsx("span",{className:"ml-2",children:"Mencari..."})]}),h&&v.jsx("p",{className:"text-red-500 text-center",children:h}),f&&v.jsxs("div",{className:"fade-in",children:[v.jsx("div",{className:"prose max-w-none mb-6",dangerouslySetInnerHTML:{__html:f.text.replace(/\n/g,"<br/>")}}),f.sources.length>0&&v.jsxs("div",{children:[v.jsx("h4",{className:"font-semibold text-gray-700",children:"Sumber:"}),v.jsx("ul",{className:"list-disc list-inside mt-2 text-sm space-y-1",children:f.sources.map((C,L)=>v.jsx("li",{children:v.jsx("a",{href:C.uri,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:C.title})},L))})]})]})]})]})},pC=({onBack:i})=>{const[n,l]=V.useState("generate"),[o,r]=V.useState(""),[f,m]=V.useState(""),[g,y]=V.useState(""),[h,A]=V.useState(""),[_,T]=V.useState(null),[C,L]=V.useState(null),[H,Z]=V.useState(!1),[Q,j]=V.useState(null),O=V.useRef(null),G=ne=>{var re;const fe=(re=ne.target.files)==null?void 0:re[0];if(fe){const Ce=new FileReader;Ce.onloadend=()=>{const ue=Ce.result.split(",")[1];T({file:fe,preview:URL.createObjectURL(fe),base64:ue,mimeType:fe.type}),L(null)},Ce.readAsDataURL(fe)}},z=()=>{j(null),Z(!0),L(null),A("")},K=async()=>{if(!o){j("Prompt tidak boleh kosong.");return}z();try{const ne=await QE(o);L(ne)}catch(ne){console.error(ne),j("Gagal menghasilkan gambar. Silakan coba lagi.")}finally{Z(!1)}},P=async()=>{if(!_){j("Silakan unggah gambar terlebih dahulu.");return}if(!f){j("Prompt untuk edit tidak boleh kosong.");return}z();try{const ne=await XE(_.base64,_.mimeType,f);L(ne)}catch(ne){console.error(ne),j("Gagal mengedit gambar. Silakan coba lagi.")}finally{Z(!1)}},ae=async()=>{if(!_){j("Silakan unggah gambar terlebih dahulu.");return}if(!g){j("Pertanyaan untuk analisis tidak boleh kosong.");return}z();try{const ne=await ZE(_.base64,_.mimeType,g);A(ne)}catch(ne){console.error(ne),j("Gagal menganalisis gambar. Silakan coba lagi.")}finally{Z(!1)}},W=()=>{switch(n){case"generate":return v.jsxs(v.Fragment,{children:[v.jsx("textarea",{value:o,onChange:ne=>r(ne.target.value),placeholder:"Contoh: Seekor kucing astronot mengendarai skateboard di bulan",rows:3,className:"w-full p-2 border rounded"}),v.jsx("button",{onClick:K,disabled:H,className:"mt-4 w-full bg-purple-600 text-white py-2 rounded hover:bg-purple-700 disabled:bg-purple-400 flex justify-center items-center",children:H?v.jsxs(v.Fragment,{children:[v.jsx(Wt,{}),v.jsx("span",{className:"ml-2",children:"Memproses..."})]}):"Generate Gambar"})]});case"edit":case"analyze":return v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"w-full p-4 border-2 border-dashed rounded-lg text-center cursor-pointer hover:bg-gray-50",onClick:()=>{var ne;return(ne=O.current)==null?void 0:ne.click()},children:[_?v.jsx("img",{src:_.preview,alt:"Uploaded",className:"max-h-48 mx-auto"}):v.jsx("p",{children:"Klik untuk mengunggah gambar"}),v.jsx("input",{type:"file",ref:O,onChange:G,accept:"image/*",className:"hidden"})]}),v.jsx("textarea",{value:n==="edit"?f:g,onChange:ne=>n==="edit"?m(ne.target.value):y(ne.target.value),placeholder:n==="edit"?"Contoh: Ganti skateboard dengan papan selancar":"Contoh: Ada berapa bintang di gambar ini?",rows:3,className:"w-full p-2 border rounded mt-4"}),v.jsx("button",{onClick:n==="edit"?P:ae,disabled:H,className:"mt-4 w-full bg-purple-600 text-white py-2 rounded hover:bg-purple-700 disabled:bg-purple-400 flex justify-center items-center",children:H?v.jsxs(v.Fragment,{children:[v.jsx(Wt,{}),v.jsx("span",{className:"ml-2",children:"Memproses..."})]}):n==="edit"?"Edit Gambar":"Analisis Gambar"})]})}};return v.jsxs("div",{className:"bg-white rounded-lg card-shadow p-6 fade-in",children:[v.jsx("button",{onClick:i,className:"text-blue-600 hover:text-blue-800 text-sm font-medium mb-4",children:" Kembali ke Dashboard"}),v.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Studio Gambar AI"}),v.jsx("p",{className:"text-gray-600 mb-6",children:"Buat, edit, dan pahami gambar menggunakan kekuatan AI."}),v.jsxs("div",{className:"flex border-b mb-6",children:[v.jsx("button",{onClick:()=>l("generate"),className:`px-4 py-2 ${n==="generate"?"border-b-2 border-purple-500 text-purple-600":"text-gray-500"}`,children:"Generate"}),v.jsx("button",{onClick:()=>l("edit"),className:`px-4 py-2 ${n==="edit"?"border-b-2 border-purple-500 text-purple-600":"text-gray-500"}`,children:"Edit"}),v.jsx("button",{onClick:()=>l("analyze"),className:`px-4 py-2 ${n==="analyze"?"border-b-2 border-purple-500 text-purple-600":"text-gray-500"}`,children:"Analisis"})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsx("div",{className:"space-y-4",children:W()}),v.jsxs("div",{className:"bg-gray-100 rounded-lg p-4 flex items-center justify-center min-h-[300px]",children:[H&&v.jsxs("div",{className:"text-center",children:[v.jsx(Wt,{}),v.jsx("p",{className:"mt-2",children:"AI sedang bekerja..."})]}),Q&&v.jsx("p",{className:"text-red-500",children:Q}),C&&v.jsx("img",{src:C,alt:"Generated",className:"max-h-full max-w-full rounded"}),h&&v.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:h.replace(/\n/g,"<br>")}})]})]})]})},hC=({src:i,aspectRatio:n})=>{const l=n==="16:9"?"aspect-video":"aspect-[9/16]";return v.jsx("div",{className:`w-full bg-black rounded-lg overflow-hidden ${l}`,children:v.jsx("video",{src:i,controls:!0,autoPlay:!0,playsInline:!0,loop:!0,className:"w-full h-full object-contain",children:"Browser Anda tidak mendukung tag video."},i)})},gC=({onBack:i})=>{const[n,l]=V.useState("generate"),[o,r]=V.useState(""),[f,m]=V.useState("16:9"),[g,y]=V.useState(null),[h,A]=V.useState(null),[_,T]=V.useState(""),[C,L]=V.useState(""),[H,Z]=V.useState(!1),[Q,j]=V.useState(""),[O,G]=V.useState(null),[z,K]=V.useState(null),[P,ae]=V.useState(!0),W=V.useRef(null),ne=V.useRef(null),fe=V.useRef();V.useEffect(()=>((async()=>{const pe=await window.aistudio.hasSelectedApiKey();ae(pe)})(),()=>{fe.current&&clearInterval(fe.current)}),[]);const re=async()=>{await window.aistudio.openSelectKey(),ae(!0),wu()},Ce=(X,pe)=>{var N;const he=(N=X.target.files)==null?void 0:N[0];if(he)if(pe==="image"){const U=new FileReader;U.onloadend=()=>{const D=U.result.split(",")[1];y({base64:D,mimeType:he.type,preview:URL.createObjectURL(he)})},U.readAsDataURL(he)}else A({file:he,preview:URL.createObjectURL(he)})},ue=X=>{G(null),K(null),L(""),Z(!0),j(X)},ze=async()=>{var X,pe,he,N;if(!o&&!g){G("Prompt atau gambar awal harus diisi.");return}ue("Menginisialisasi pembuatan video...");try{let U=await $E(o,g?{imageBytes:g.base64,mimeType:g.mimeType}:null,f);for(j("Video sedang diproses oleh AI. Ini mungkin memakan waktu beberapa menit. Mohon tunggu...");!U.done;)await new Promise(Y=>setTimeout(Y,1e4)),U=await WE(U);const D=(N=(he=(pe=(X=U.response)==null?void 0:X.generatedVideos)==null?void 0:pe[0])==null?void 0:he.video)==null?void 0:N.uri;if(D){const ee=await(await fetch(`${D}&key=AIzaSyDeNk_kPbKcDQvtIrHUBA4YepI_bKgGwHU`)).blob(),te=URL.createObjectURL(ee);K(te)}else throw new Error("Operasi selesai tetapi tidak ada link video yang ditemukan.")}catch(U){console.error(U),U.message.includes("Requested entity was not found.")?(G("Kunci API tidak valid atau tidak ditemukan. Silakan pilih kunci yang benar."),ae(!1)):G("Gagal membuat video. Silakan coba lagi.")}finally{Z(!1)}},I=async()=>{if(!h){G("Silakan unggah video.");return}if(!_){G("Prompt analisis tidak boleh kosong.");return}ue("Menganalisis video...");try{const X=await $(h.file);j(`Mengekstrak ${X.length} frame. Mengirim ke AI untuk dianalisis...`);const pe=await eC(X,_);L(pe)}catch(X){console.error(X),G("Gagal menganalisis video.")}finally{Z(!1)}},$=(X,pe=15)=>new Promise((he,N)=>{const U=document.createElement("video"),D=document.createElement("canvas"),Y=D.getContext("2d"),ee=[];U.src=URL.createObjectURL(X),U.muted=!0,U.onloadedmetadata=()=>{const te=U.duration,ce=te/pe;D.width=U.videoWidth,D.height=U.videoHeight;let xe=0;U.play();const ke=()=>{if(xe>te||ee.length>=pe){U.pause(),he(ee);return}U.currentTime=xe,setTimeout(()=>{Y==null||Y.drawImage(U,0,0,D.width,D.height);const wt=D.toDataURL("image/jpeg").split(",")[1];ee.push({data:wt,mimeType:"image/jpeg"}),xe+=ce,ke()},300)};ke()},U.onerror=N});return!P&&n==="generate"?v.jsxs("div",{className:"bg-white rounded-lg card-shadow p-6 fade-in text-center",children:[v.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Diperlukan Kunci API"}),v.jsx("p",{className:"text-gray-600 mb-4",children:"Untuk menggunakan generator video Veo, Anda harus memilih Kunci API yang valid. Pastikan proyek Anda telah mengaktifkan penagihan."}),v.jsx("a",{href:"https://ai.google.dev/gemini-api/docs/billing",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline mb-6 block",children:"Pelajari tentang penagihan"}),v.jsx("button",{onClick:re,className:"bg-blue-600 text-white py-2 px-6 rounded hover:bg-blue-700",children:"Pilih Kunci API"})]}):v.jsxs("div",{className:"bg-white rounded-lg card-shadow p-6 fade-in",children:[v.jsx("button",{onClick:i,className:"text-blue-600 hover:text-blue-800 text-sm font-medium mb-4",children:" Kembali ke Dashboard"}),v.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Studio Video AI"}),v.jsx("p",{className:"text-gray-600 mb-6",children:"Buat video dari imajinasi Anda atau analisis konten video yang ada."}),v.jsxs("div",{className:"flex border-b mb-6",children:[v.jsx("button",{onClick:()=>l("generate"),className:`px-4 py-2 ${n==="generate"?"border-b-2 border-red-500 text-red-600":"text-gray-500"}`,children:"Generate Video"}),v.jsx("button",{onClick:()=>l("analyze"),className:`px-4 py-2 ${n==="analyze"?"border-b-2 border-red-500 text-red-600":"text-gray-500"}`,children:"Analisis Video"})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{children:[n==="generate"&&v.jsxs("div",{className:"space-y-4",children:[v.jsx("textarea",{value:o,onChange:X=>r(X.target.value),placeholder:"Contoh: Sebuah hologram neon kucing mengemudi dengan kecepatan tinggi",rows:3,className:"w-full p-2 border rounded"}),v.jsxs("div",{className:"p-4 border-2 border-dashed rounded-lg text-center cursor-pointer hover:bg-gray-50",onClick:()=>{var X;return(X=W.current)==null?void 0:X.click()},children:[g?v.jsx("img",{src:g.preview,alt:"Start frame",className:"max-h-24 mx-auto"}):v.jsx("p",{children:"Unggah gambar awal (opsional)"}),v.jsx("input",{type:"file",ref:W,onChange:X=>Ce(X,"image"),accept:"image/*",className:"hidden"})]}),v.jsxs("select",{value:f,onChange:X=>m(X.target.value),className:"w-full p-2 border rounded",children:[v.jsx("option",{value:"16:9",children:"Landscape (16:9)"}),v.jsx("option",{value:"9:16",children:"Portrait (9:16)"})]}),v.jsx("button",{onClick:ze,disabled:H,className:"w-full bg-red-600 text-white py-2 rounded hover:bg-red-700 disabled:bg-red-400 flex justify-center items-center",children:H?v.jsxs(v.Fragment,{children:[v.jsx(Wt,{}),v.jsx("span",{className:"ml-2",children:"Memproses..."})]}):"Generate Video"})]}),n==="analyze"&&v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"p-4 border-2 border-dashed rounded-lg text-center cursor-pointer hover:bg-gray-50",onClick:()=>{var X;return(X=ne.current)==null?void 0:X.click()},children:[h?v.jsx("video",{src:h.preview,controls:!0,className:"max-h-32 mx-auto"}):v.jsx("p",{children:"Klik untuk mengunggah video"}),v.jsx("input",{type:"file",ref:ne,onChange:X=>Ce(X,"video"),accept:"video/*",className:"hidden"})]}),v.jsx("textarea",{value:_,onChange:X=>T(X.target.value),placeholder:"Contoh: Rangkum poin-poin utama dari video ini.",rows:3,className:"w-full p-2 border rounded"}),v.jsx("button",{onClick:I,disabled:H,className:"w-full bg-red-600 text-white py-2 rounded hover:bg-red-700 disabled:bg-red-400 flex justify-center items-center",children:H?v.jsxs(v.Fragment,{children:[v.jsx(Wt,{}),v.jsx("span",{className:"ml-2",children:"Memproses..."})]}):"Analisis Video"})]})]}),v.jsxs("div",{className:"bg-gray-100 rounded-lg p-4 flex items-center justify-center min-h-[300px]",children:[H&&v.jsxs("div",{className:"text-center",children:[v.jsx(Wt,{}),v.jsx("p",{className:"mt-2 text-sm text-gray-600",children:Q})]}),O&&v.jsx("p",{className:"text-red-500",children:O}),z&&v.jsx(hC,{src:z,aspectRatio:f}),C&&v.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:C.replace(/\n/g,"<br>")}})]})]})]})},yC=({onSave:i})=>{const[n,l]=V.useState(""),o=r=>{r.preventDefault(),n.trim()&&i(n.trim())};return v.jsx("div",{id:"user-registration-modal",className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center p-4 fade-in",children:v.jsx("div",{className:"bg-white rounded-lg max-w-md w-full p-6 shadow-xl",role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:v.jsxs("form",{onSubmit:o,children:[v.jsx("h2",{id:"modal-title",className:"text-2xl font-bold text-gray-900 mb-4",children:"Selamat Datang!"}),v.jsx("p",{className:"text-gray-600 mb-6",children:"Untuk personalisasi dan pencatatan aktivitas, silakan masukkan nama Anda."}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"user-name",className:"block text-sm font-medium text-gray-700",children:"Nama Lengkap"}),v.jsx("input",{type:"text",id:"user-name",value:n,onChange:r=>l(r.target.value),className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Contoh: Liyas Syarifudin, M.Pd.",required:!0})]}),v.jsx("div",{className:"mt-6",children:v.jsx("button",{type:"submit",className:"w-full inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Simpan & Mulai Gunakan"})})]})})})},vC=({onStart:i})=>{const n=V.useRef(null),l=V.useRef(null);return V.useEffect(()=>{let o=!1;return(async()=>{if(!o){o=!0;try{const m=await ku("Selamat datang di aplikasi generator administrasi guru dan bank soal adaptif Yayasan Pendidikan Islam Pondok Modern Al-Ghozali");l.current&&l.current.stop(),n.current&&n.current.close();const g=new(window.AudioContext||window.webkitAudioContext),y=g.createBufferSource();y.buffer=m,y.connect(g.destination),y.start(),n.current=g,l.current=y,y.onended=()=>{g.close(),n.current=null,l.current=null}}catch(f){const m=f.toString();m.includes("429")||m.includes("RESOURCE_EXHAUSTED")?console.warn("TTS quota for welcome audio exceeded. The audio will not be played."):console.error("Gagal memutar audio sambutan:",f)}}})(),()=>{l.current&&l.current.stop(),n.current&&n.current.close()}},[]),v.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-95 z-50 flex flex-col items-center justify-start p-4 py-12 text-white text-center fade-in overflow-y-auto",children:v.jsxs("div",{className:"max-w-3xl",children:[v.jsx("h1",{className:"text-5xl font-bold text-yellow-400 mb-4",children:"Selamat Datang di Platform AI Guru Inovatif"}),v.jsx("p",{className:"text-2xl font-semibold text-gray-200 mb-8",children:"YPI Pondok Modern Al-Ghozali"}),v.jsx("p",{className:"text-lg text-gray-300 mb-12 leading-relaxed",children:"Revolusikan cara Anda mengajar dengan asisten cerdas yang dirancang untuk Kurikulum Merdeka. Buat perangkat ajar, bank soal adaptif, dan materi pembelajaran berkualitas tinggi dalam hitungan menit, bukan jam."}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12 text-left",children:[v.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg border-l-4 border-blue-500",children:[v.jsx("h3",{className:"font-bold text-xl mb-2",children:"Administrasi Cerdas"}),v.jsx("p",{className:"text-gray-400",children:"Generate ATP, Prota, Promes, hingga Modul Ajar lengkap secara otomatis."})]}),v.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg border-l-4 border-green-500",children:[v.jsx("h3",{className:"font-bold text-xl mb-2",children:"Bank Soal Adaptif"}),v.jsx("p",{className:"text-gray-400",children:"Buat paket asesmen, kisi-kisi, dan analisis soal HOTS dengan mudah."})]})]}),v.jsx("button",{onClick:i,className:"bg-yellow-500 text-gray-900 font-bold py-4 px-10 rounded-full text-xl hover:bg-yellow-400 transition-transform transform hover:scale-105 shadow-lg",children:"Mulai Sekarang"})]})})},AC=i=>{const n=new Date(i),o=Math.floor((new Date().getTime()-n.getTime())/1e3);let r=o/31536e3;return r>1?Math.floor(r)+" tahun lalu":(r=o/2592e3,r>1?Math.floor(r)+" bulan lalu":(r=o/86400,r>1?Math.floor(r)+" hari lalu":(r=o/3600,r>1?Math.floor(r)+" jam lalu":(r=o/60,r>1?Math.floor(r)+" menit lalu":"Baru saja"))))},SC=({logs:i})=>{const n=l=>l==="admin"?v.jsx("div",{className:"bg-blue-500 p-2 rounded-full",children:v.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}):v.jsx("div",{className:"bg-green-500 p-2 rounded-full",children:v.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})});return v.jsxs("div",{className:"bg-white rounded-lg card-shadow p-6",children:[v.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Aktivitas Pengguna Terkini"}),v.jsx("div",{id:"activity-log-list",className:"space-y-4 max-h-96 overflow-y-auto pr-2",children:i.length===0?v.jsx("p",{className:"text-gray-500 text-center py-8",children:"Belum ada aktivitas. Generate perangkat untuk memulai pencatatan."}):i.map(l=>v.jsxs("div",{className:"flex items-start space-x-4 fade-in",children:[n(l.module_type),v.jsxs("div",{className:"flex-grow",children:[v.jsxs("p",{className:"text-sm text-gray-800",children:[v.jsx("span",{className:"font-semibold",children:l.user})," telah meng-generate "," ",v.jsx("span",{className:"font-semibold",children:l.module_type==="admin"?"Administrasi":"Bank Soal"})]}),v.jsx("p",{className:"text-xs text-gray-500",children:l.details}),v.jsx("p",{className:"text-xs text-gray-400 mt-1",children:AC(l.created_at)})]})]},l.id))})]})},_C=({filled:i,onClick:n,onMouseEnter:l})=>v.jsx("svg",{onClick:n,onMouseEnter:l,className:`w-8 h-8 cursor-pointer ${i?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),TC=({onFeedbackSubmit:i})=>{const[n,l]=V.useState(0),[o,r]=V.useState(""),[f,m]=V.useState(0),g=y=>{y.preventDefault(),n!==0&&(i(n,o),l(0),r(""))};return v.jsxs("div",{className:"bg-white rounded-lg card-shadow p-6",children:[v.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Beri Masukan & Evaluasi"}),v.jsx("p",{className:"text-gray-600 mb-6",children:"Masukan Anda sangat berharga untuk membantu kami meningkatkan aplikasi ini."}),v.jsxs("form",{onSubmit:g,children:[v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rating Anda"}),v.jsx("div",{className:"flex space-x-1",onMouseLeave:()=>m(0),children:[1,2,3,4,5].map(y=>v.jsx(_C,{filled:(f||n)>=y,onClick:()=>l(y),onMouseEnter:()=>m(y)},y))})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{htmlFor:"feedback-comment",className:"block text-sm font-medium text-gray-700",children:"Komentar (Opsional)"}),v.jsx("textarea",{id:"feedback-comment",value:o,onChange:y=>r(y.target.value),rows:4,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"Tulis komentar, saran, atau laporan bug di sini..."})]}),v.jsx("div",{className:"flex justify-end",children:v.jsx("button",{type:"submit",className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-indigo-400",disabled:n===0,children:"Kirim Masukan"})})]})]})};var EC=hh();const CC=Au(EC),Ro=[{selector:"#app-title",title:"Selamat Datang!",content:"Ikuti tur singkat ini untuk mengenal fitur-fitur utama platform AI Guru Inovatif.",position:"bottom"},{selector:"#tour-step-admin",title:"Generator Administrasi",content:"Gunakan modul ini untuk membuat semua dokumen administrasi guru, seperti ATP, Prota, Promes, dan Modul Ajar, secara otomatis.",position:"bottom"},{selector:"#tour-step-soal",title:"Generator Bank Soal",content:"Buat set soal lengkap, termasuk kisi-kisi, kunci jawaban, dan rubrik penilaian hanya dengan beberapa klik.",position:"bottom"},{selector:"#tour-step-audioLab",title:"Laboratorium AI Kreatif",content:"Jelajahi berbagai alat AI canggih seperti Lab Audio, Studio Gambar, Studio Video, dan Pencarian Cerdas untuk memperkaya materi ajar Anda.",position:"right"},{selector:"#tour-step-ebook",title:"Sumber Belajar Digital",content:"Akses langsung ribuan sumber belajar digital resmi dari Kemendikbud, Kemenag, dan Perpusnas untuk referensi Anda.",position:"top"},{selector:"#history-list",title:"Riwayat & Aktivitas",content:"Semua perangkat yang Anda generate akan tersimpan di sini. Anda juga dapat melihat aktivitas terkini dari semua pengguna.",position:"top"}],xC=({isOpen:i,onComplete:n})=>{const[l,o]=V.useState(0),[r,f]=V.useState({}),[m,g]=V.useState(!1),[y,h]=V.useState(!1),A=V.useRef(null),_=V.useRef(null),T=Ro[l],C=V.useCallback(()=>{_.current&&(_.current.stop(),_.current.disconnect()),A.current&&A.current.close(),_.current=null,A.current=null},[]),L=V.useCallback(()=>{if(!i||!T)return;const O=document.querySelector(T.selector);if(document.querySelectorAll(".tour-spotlight").forEach(G=>G.classList.remove("tour-spotlight")),O){O.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),O.classList.add("tour-spotlight");const G=O.getBoundingClientRect();let z={};const K=15;switch(T.position){case"top":z={top:G.top-K,left:G.left+G.width/2,transform:"translate(-50%, -100%)"};break;case"right":z={top:G.top+G.height/2,left:G.right+K,transform:"translateY(-50%)"};break;case"left":z={top:G.top+G.height/2,left:G.left-K,transform:"translate(-100%, -50%)"};break;default:z={top:G.bottom+K,left:G.left+G.width/2,transform:"translateX(-50%)"}}f(z)}else f({top:"50%",left:"50%",transform:"translate(-50%, -50%)"})},[i,T]);V.useEffect(()=>{const O=async G=>{if(!y){C(),g(!0);try{const z=await ku(G),K=new(window.AudioContext||window.webkitAudioContext),P=K.createBufferSource();P.buffer=z,P.connect(K.destination),P.onended=C,P.start(),A.current=K,_.current=P}catch(z){const K=z.toString();K.includes("429")||K.includes("RESOURCE_EXHAUSTED")?(console.warn("TTS quota exceeded. Disabling audio guide for this session."),h(!0)):console.error("Failed to play tour audio:",z)}finally{g(!1)}}};return i&&T&&setTimeout(()=>{L();const G=`${T.title}. ${T.content}`;O(G)},100),window.addEventListener("resize",L),()=>{window.removeEventListener("resize",L),C()}},[l,i,T,L,C,y]);const H=V.useCallback(()=>{C(),document.querySelectorAll(".tour-spotlight").forEach(O=>O.classList.remove("tour-spotlight")),n()},[n,C]),Z=()=>{l<Ro.length-1?o(l+1):H()},Q=()=>{l>0&&o(l-1)};if(!i)return null;const j=()=>v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"tour-overlay",onClick:H}),v.jsxs("div",{className:"tour-popover fade-in",style:r,children:[v.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:T.title}),v.jsx("p",{className:"text-sm text-gray-600 mb-4",children:T.content}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[!y&&(m?v.jsx("div",{className:"w-4 h-4 border-2 border-gray-400 border-t-transparent rounded-full animate-spin"}):v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-indigo-600",viewBox:"0 0 20 20",fill:"currentColor",children:v.jsx("path",{d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z"})})),v.jsxs("span",{className:"text-xs font-bold text-gray-500",children:[l+1," / ",Ro.length]})]}),v.jsxs("div",{className:"space-x-2",children:[l>0&&v.jsx("button",{onClick:Q,className:"text-sm font-medium text-gray-600 hover:text-gray-900",children:"Kembali"}),v.jsx("button",{onClick:Z,className:"text-sm font-medium px-4 py-1.5 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:l===Ro.length-1?"Selesai":"Lanjut"})]})]})]})]});return CC.createPortal(v.jsx(j,{}),document.body)},NC=({isOpen:i,onClose:n,links:l,onAddLink:o,onDeleteLink:r})=>{const[f,m]=V.useState(""),[g,y]=V.useState(null),h=()=>{f.trim()&&(o(f.trim()),m(""))},A=_=>{navigator.clipboard.writeText(_).then(()=>{y(_),setTimeout(()=>y(null),2e3)})};return i?v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center p-4 fade-in",children:v.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full p-6 shadow-xl flex flex-col",style:{height:"90vh"},children:[v.jsxs("div",{className:"flex items-center justify-between mb-4 flex-shrink-0",children:[v.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Ruang Admin - Pelacakan Pengguna"}),v.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:v.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),v.jsxs("div",{className:"mb-6 border-b pb-6 flex-shrink-0",children:[v.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Buat Tautan Pengguna Baru"}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("input",{type:"text",value:f,onChange:_=>m(_.target.value),placeholder:"Nama Pengguna (Contoh: Budi)",className:"flex-grow px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"}),v.jsx("button",{onClick:h,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Buat Link"})]})]}),v.jsxs("div",{className:"flex-grow overflow-y-auto",children:[v.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Tautan yang Dihasilkan"}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[v.jsx("thead",{className:"bg-gray-50",children:v.jsxs("tr",{children:[v.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nama Pengguna"}),v.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Link Unik"}),v.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Jumlah Penggunaan"}),v.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tindakan"})]})}),v.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.length===0?v.jsx("tr",{children:v.jsx("td",{colSpan:4,className:"px-6 py-4 text-center text-gray-500",children:"Belum ada tautan yang dibuat."})}):l.map(_=>v.jsxs("tr",{children:[v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:_.userName}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("input",{type:"text",readOnly:!0,value:_.url,className:"w-full bg-gray-100 p-1 rounded border text-xs"}),v.jsx("button",{onClick:()=>A(_.url),className:"text-xs px-2 py-1 rounded bg-gray-200 hover:bg-gray-300",children:g===_.url?"Tersalin!":"Salin"})]})}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-bold text-center",children:_.usageCount}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:v.jsx("button",{onClick:()=>r(_.id),className:"text-red-600 hover:text-red-900",children:"Hapus"})})]},_.id))})]})})]})]})}):null},ph="Admin Guru",bC=()=>{const[i,n]=V.useState("dashboard"),[l,o]=V.useState(null),[r,f]=V.useState(!1),[m,g]=V.useState([]),[y,h]=V.useState([]),[A,_]=V.useState(!1),[T,C]=V.useState(!1),[L,H]=V.useState({}),[Z,Q]=V.useState(null),[j,O]=V.useState(0),G=V.useRef(null),[z,K]=V.useState(null),[P,ae]=V.useState(null),[W,ne]=V.useState(null),[fe,re]=V.useState(!1),[Ce,ue]=V.useState([]),[ze,I]=V.useState([]),[$,X]=V.useState(!0),[pe,he]=V.useState(!1),[N,U]=V.useState([]),[D,Y]=V.useState(!1);V.useEffect(()=>{try{const le=localStorage.getItem("currentUser");le?(ne(le),X(!1)):X(!0);const Ne=localStorage.getItem("activityLog");Ne&&ue(JSON.parse(Ne));const Pe=localStorage.getItem("appFeedback");Pe&&I(JSON.parse(Pe));const st=localStorage.getItem("generationHistory");st&&h(JSON.parse(st));const $e=localStorage.getItem("savedGenerationSession");$e&&ae(JSON.parse($e));const zt=localStorage.getItem("shareableLinks"),En=zt?JSON.parse(zt):[],rt=new URLSearchParams(window.location.search).get("ref");if(rt){const Ft=En.findIndex(Jo=>Jo.id===rt);Ft!==-1&&(En[Ft].usageCount+=1,localStorage.setItem("shareableLinks",JSON.stringify(En)));const ut=new URL(window.location.href);ut.searchParams.delete("ref"),window.history.replaceState({},document.title,ut.toString())}U(En)}catch(le){console.error("Failed to load data from localStorage or track referral",le)}},[]),V.useEffect(()=>{try{localStorage.setItem("generationHistory",JSON.stringify(y))}catch(le){console.error("Failed to save history to localStorage",le)}},[y]),V.useEffect(()=>{try{localStorage.setItem("shareableLinks",JSON.stringify(N))}catch(le){console.error("Failed to save shareable links to localStorage",le)}},[N]),V.useEffect(()=>{try{localStorage.setItem("activityLog",JSON.stringify(Ce))}catch(le){console.error("Failed to save activity log to localStorage",le)}},[Ce]),V.useEffect(()=>{try{localStorage.setItem("appFeedback",JSON.stringify(ze))}catch(le){console.error("Failed to save feedback to localStorage",le)}},[ze]);const ee=()=>{X(!1),W||re(!0)},te=(le,Ne)=>{Q({message:le,type:Ne}),setTimeout(()=>Q(null),3e3)},ce=()=>{if(m.length>0&&z&&l){const le={id:"saved_session",...z,module_type:l,generated_sections:m,created_at:new Date().toISOString()};try{localStorage.setItem("savedGenerationSession",JSON.stringify(le)),te("Sesi berhasil disimpan!","success")}catch(Ne){console.error("Failed to save session to localStorage",Ne),te("Gagal menyimpan sesi.","error")}}else te("Tidak ada konten untuk disimpan.","warning")},xe=()=>{P&&(o(P.module_type),K(P),g(P.generated_sections),n("results"),ae(null),localStorage.removeItem("savedGenerationSession"),te("Sesi berhasil dipulihkan.","success"))},ke=()=>{localStorage.removeItem("savedGenerationSession"),ae(null),te("Sesi tersimpan telah dihapus.","success")},wt=le=>{le==="admin"||le==="soal"||le==="ecourse"?(o(le),n("form"),g([])):le==="adminPanel"?Y(!0):n(le)},Tt=()=>{n("dashboard"),o(null),g([])},jt=V.useCallback(()=>{G.current&&(clearInterval(G.current),G.current=null)},[]),gi=(le,Ne)=>{if(!W)return;const Pe=Ne==="ecourse"?`${le.topik_ecourse} - ${le.jumlah_pertemuan} Pertemuan`:`${le.mata_pelajaran} - Kelas ${le.kelas}`,st={id:Date.now().toString(),user:W,module_type:Ne,details:Pe,created_at:new Date().toISOString()};ue($e=>[st,...$e])},en=async le=>{if(!l)return;localStorage.removeItem("savedGenerationSession"),ae(null),f(!0),g([]),K(le),O(0),jt();const Ne=le.use_thinking_mode?15e3:8e3,Pe=95,st=Date.now();G.current=window.setInterval(()=>{const $e=Date.now()-st,zt=Math.min($e/Ne*100,Pe);O(zt),zt>=Pe&&jt()},100);try{let $e=[];l==="admin"?$e=await FE(le):l==="soal"?$e=await OE(le):l==="ecourse"&&($e=await YE(le)),jt(),O(100),setTimeout(()=>{g($e),n("results");const zt={id:Date.now().toString(),...le,module_type:l,generated_sections:$e,created_at:new Date().toISOString()};h(En=>[zt,...En]),gi(le,l),te("Perangkat berhasil digenerate!","success"),f(!1)},500)}catch($e){console.error("Error generating content:",$e),te("Terjadi kesalahan saat generate. Silakan coba lagi.","error"),n("form"),f(!1),jt(),O(0)}},ua=(le,Ne)=>{if(!le.jenjang||!le.kelas||!le.mata_pelajaran){te("Pilih jenjang, kelas, dan mata pelajaran terlebih dahulu","warning");return}H(le),Ne==="cp"?_(!0):C(!0)},ca=le=>{o(le.module_type),K(le),g(le.generated_sections),n("results"),window.scrollTo({top:0,behavior:"smooth"})},Vo=le=>{h(Ne=>Ne.filter(Pe=>Pe.id!==le)),te("Riwayat berhasil dihapus","success")},cl=(le,Ne)=>{g(Pe=>Pe.map(st=>st.id===le?{...st,content:Ne}:st))},da=le=>{g(Ne=>Ne.filter(Pe=>Pe.id!==le))},fa=le=>{try{localStorage.setItem("currentUser",le),localStorage.setItem("hasCompletedOnboardingTour","false"),ne(le),re(!1),te(`Selamat datang, ${le}!`,"success"),setTimeout(()=>{localStorage.getItem("hasCompletedOnboardingTour")==="true"||he(!0)},500)}catch(Ne){console.error("Failed to save user to localStorage",Ne),te("Gagal menyimpan nama pengguna.","error")}},ma=(le,Ne)=>{if(!W){te("Gagal mengirim masukan, pengguna tidak ditemukan.","error");return}const Pe={id:Date.now().toString(),user:W,rating:le,comment:Ne,created_at:new Date().toISOString()};I(st=>[Pe,...st]),te("Terima kasih atas masukan Anda!","success")},zo=()=>{try{localStorage.setItem("hasCompletedOnboardingTour","true"),he(!1)}catch(le){console.error("Failed to save tour completion status",le)}},Fo=le=>{const Ne=`user_${Date.now()}`,Pe=new URL("/",window.location.origin);Pe.searchParams.set("ref",Ne);const st=Pe.toString(),$e={id:Ne,userName:le,url:st,usageCount:0,createdAt:new Date().toISOString()};U(zt=>[...zt,$e]),te(`Link baru untuk ${le} berhasil dibuat!`,"success")},ft=le=>{U(Ne=>Ne.filter(Pe=>Pe.id!==le)),te("Link berhasil dihapus.","success")},Oo=()=>{switch(i){case"dashboard":return v.jsx(qm,{onModuleSelect:wt,isAdmin:W===ph});case"form":return l&&v.jsx(N0,{module:l,onSubmit:en,onBack:Tt,onShowAIAssistant:ua,isLoading:r,generationProgress:j});case"results":return m.length>0&&z&&v.jsx(nC,{module:l,sections:m,formData:z,onUpdateSectionContent:cl,onDeleteSection:da,onNewGeneration:()=>n("form"),onBack:Tt,onSaveSession:ce});case"audioLab":return v.jsx(fC,{onBack:Tt});case"groundedSearch":return v.jsx(mC,{onBack:Tt});case"imageLab":return v.jsx(pC,{onBack:Tt});case"videoLab":return v.jsx(gC,{onBack:Tt});default:return v.jsx(qm,{onModuleSelect:wt,isAdmin:W===ph})}};return v.jsxs("div",{className:"flex flex-col min-h-screen",children:[$&&v.jsx(vC,{onStart:ee}),v.jsx(y0,{currentUser:W}),v.jsxs("main",{className:"flex-grow max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 w-full",children:[i==="dashboard"&&P&&v.jsxs("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-800 p-4 mb-6 rounded-md shadow-lg",role:"alert",children:[v.jsx("h3",{className:"font-bold",children:"Sesi Tersimpan Ditemukan"}),v.jsxs("p",{children:["Anda memiliki pekerjaan yang belum selesai dari ",v.jsx("span",{className:"font-medium",children:new Date(P.created_at).toLocaleString("id-ID")}),". Ingin melanjutkannya?"]}),v.jsxs("div",{className:"mt-3",children:[v.jsx("button",{onClick:xe,className:"bg-yellow-500 text-white font-bold py-1 px-3 rounded text-sm hover:bg-yellow-600 transition-colors",children:"Lanjutkan"}),v.jsx("button",{onClick:ke,className:"ml-2 border border-yellow-600 text-yellow-800 font-bold py-1 px-3 rounded text-sm hover:bg-yellow-200 transition-colors",children:"Hapus"})]})]}),Oo(),i==="dashboard"&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 mt-8",children:[v.jsx(iC,{history:y,onView:ca,onDelete:Vo}),v.jsx(SC,{logs:Ce})]}),v.jsx("div",{className:"mt-8",children:v.jsx(TC,{onFeedbackSubmit:ma})})]})]}),v.jsx(v0,{}),fe&&v.jsx(yC,{onSave:fa}),D&&v.jsx(NC,{isOpen:D,onClose:()=>Y(!1),links:N,onAddLink:Fo,onDeleteLink:ft}),(A||T)&&v.jsx(aC,{isOpen:A||T,onClose:A?()=>_(!1):()=>C(!1),formData:L,getSuggestions:A?VE:zE,suggestionType:"markdown",title:A?"AI Asisten - Bantuan CP":"AI Asisten - Bantuan Topik",description:A?"AI telah membuat beberapa saran Elemen CP dalam format Markdown. Anda bisa menyalin atau langsung menerapkannya ke dalam kolom.":"AI telah membuat beberapa saran Topik/Materi dalam format Markdown. Anda bisa menyalin atau langsung menerapkannya.",targetElementId:A?"cp_elements":"topik_materi"}),Z&&v.jsx(lC,{message:Z.message,type:Z.type}),v.jsx(sC,{}),v.jsx(xC,{isOpen:pe,onComplete:zo})]})},Oh=document.getElementById("root");if(!Oh)throw new Error("Could not find root element to mount to");const MC=g0.createRoot(Oh);MC.render(v.jsx(u0.StrictMode,{children:v.jsx(bC,{})}));
